var WaitLine=pc.createScript("waitLine");WaitLine.attributes.add("priority",{type:"number",default:20,title:"Priority in %"}),WaitLine.attributes.add("barber",{type:"entity",title:"Barber"}),WaitLine.attributes.add("waypoints",{type:"entity",title:"Waypoints",array:!0}),WaitLine.attributes.add("customers",{type:"entity",title:"Customers",array:!0}),WaitLine.attributes.add("lastWaypoint",{type:"entity",title:"Last Waypoint"}),WaitLine.attributes.add("chair",{type:"entity",title:"Chair"}),WaitLine.attributes.add("waypointLeave",{type:"entity",title:"Waypoint Leave"}),WaitLine.attributes.add("waypointExit",{type:"entity",title:"Waypoint Exit"}),WaitLine.attributes.add("hairstyleChooser",{type:"entity",title:"Hairstyle Chooser"}),WaitLine.attributes.add("table",{type:"entity",title:"Table"}),WaitLine.attributes.add("vfxSmoke",{type:"entity",title:"Smoke Vfx"}),WaitLine.attributes.add("haircutTimer",{type:"number",title:"Haircut timer",default:1}),WaitLine.attributes.add("textEarningsEntity",{type:"entity",title:"Earning Text"}),WaitLine.attributes.add("earnirngTextSpawnLocation",{type:"entity",title:"Earning Text Spawn Location"}),WaitLine.attributes.add("speedMultiplier",{type:"number",title:"Speed Multiplier Factor",default:1}),WaitLine.attributes.add("reduce2Income",{type:"boolean",title:"Reduce 2 From total income?",default:!1}),WaitLine.prototype.initialize=function(){for(this.moneyManager=this.app.root.findByName("@Money Manager").script.moneyManager,this.hairstylesUpgrade=this.app.root.findByName("Hairstyles Upgrade Board Panel").script.hairstylesUpgrade,this.waypoint=null,this.waitPos=[],children=this.entity.children,this.customerGettingHaircut=null,i=0;i<this.waypoints.length;i++)this.waitPos[i]=this.waypoints[i].script.waitPos},WaitLine.prototype.addCustomer=function(t){this.customers.push(t)},WaitLine.prototype.removeCustomer=function(){this.customers.length>0&&this.customers.shift()},WaitLine.prototype.getFirstCustomer=function(){return this.customers[0]},WaitLine.prototype.getWaypoint=function(){for(i=0;i<this.waypoints.length;i++)if(this.waypoint=this.waypoints[i],!1===this.waypoint.script.waitPos.isTaken)return this.waypoint.script.waitPos.isTaken=!0,this.waypoint},WaitLine.prototype.getLastWaypointInArray=function(){return this.waypoints[0]},WaitLine.prototype.getCustomers=function(){return this.customers},WaitLine.prototype.getHaircut=function(){this.barber.script.barber.isBusy=!0,this.customers.length>0&&this.customers[0].script.customer.moveToChair()},WaitLine.prototype.hasFreeWaypoints=function(){for(i=0;i<this.waitPos.length;i++)if(!1===this.waitPos[i].isTaken)return!0;return!1},WaitLine.prototype.reCheckForWaitingQueue=function(){if(this.customers.length>0)for(i=0;i<this.customers.length;i++)this.customers[i].script.customer.assignWaitPosition(!0)},WaitLine.prototype.acceptPayment=function(){this.moneyManager.addMoney(this.getProduction()),this.vfxSmoke.enabled=!1,this.barber.script.barber.stopAnimating(),this.hairstylesUpgrade.updateHairstyleStates(),this.spawnEarningsText(this.getProduction())},WaitLine.prototype.getProduction=function(){var t=this.calculateChairProduction()+this.calculateLastProductionRate(),i=this.hairstyleChooser.script.hairstyleChooser,e=(i.getHairstylePrice()*i.getHairstyleIncome()+t)*i.getHairStyleLevel();return this.reduce2Income&&this.table.script.chair.comfortabilityLevel<10&&(e-=2),e},WaitLine.prototype.calculateChairProduction=function(){var t=this.table.script.chair;return this.calculateCombinedIncome()*t.initProductivityMultiplier},WaitLine.prototype.calculateCombinedIncome=function(){var t=this.table.script.chair;return t.initComfortabilityPercentage*t.comfortabilityLevel+t.initSpeedPercentage*t.speedLevel+t.initPrecisionPercentage*t.precisionLevel},WaitLine.prototype.calculateLastProductionRate=function(){var t=this.table.script.chair,i=this.calculateCombinedIncome()*t.initProductivityMultiplier;i<t.initProductivityMultiplier&&(i=t.initProductivityMultiplier);var e=i;return t.comfortabilityLevel>=25&&t.comfortabilityLevel<50?e*=1.5:t.comfortabilityLevel>=50&&t.comfortabilityLevel<75?e*=2.5:t.comfortabilityLevel>=75&&t.comfortabilityLevel<100?e*=3.5:t.comfortabilityLevel>=100&&t.comfortabilityLevel<125?e*=5:t.comfortabilityLevel>=125&&t.comfortabilityLevel<150?e*=6.5:t.comfortabilityLevel>=150&&t.comfortabilityLevel<175?e*=8.5:t.comfortabilityLevel>=175&&t.comfortabilityLevel<200?e*=10.5:t.comfortabilityLevel>=200&&(e*=12.5),t.precisionLevel>=25&&t.precisionLevel<50?e*=1.5:t.precisionLevel>=50&&t.precisionLevel<75?e*=2.5:t.precisionLevel>=75&&t.precisionLevel<100?e*=3.5:t.precisionLevel>=100&&t.precisionLevel<125?e*=5:t.precisionLevel>=125&&t.precisionLevel<150?e*=6.5:t.precisionLevel>=150&&t.precisionLevel<175?e*=8.5:t.precisionLevel>=175&&t.precisionLevel<200?e*=10.5:t.precisionLevel>=200&&(e*=12.5),e},WaitLine.prototype.spawnEarningsText=function(t){var i=this.textEarningsEntity.clone();this.app.root.addChild(i),i.setPosition(this.earnirngTextSpawnLocation.getPosition()),i.enabled=!0,i.script.earningsText.updateValue(t)},WaitLine.prototype.getHaircutTimer=function(){var t=this.table.script.chair,i=this.haircutTimer-.04*t.speedLevel;return i<.4&&(i=.4),i},WaitLine.prototype.getWayPoints=function(){return this.waypoints},WaitLine.prototype.getLastWaypoint=function(){return this.lastWaypoint},WaitLine.prototype.getChair=function(){return this.chair},WaitLine.prototype.getWaypointLeave=function(){return this.waypointLeave},WaitLine.prototype.getWaypointExit=function(){return this.waypointExit},WaitLine.prototype.getWaypointExitShop=function(){return this.waypointExitShop};var WaitPos=pc.createScript("waitPos");WaitPos.attributes.add("isTaken",{type:"boolean",title:"Is Taken",default:!1}),WaitPos.prototype.initialize=function(){};var Customer=pc.createScript("customer");Customer.attributes.add("speed",{type:"number",default:5,title:"Speed"}),Customer.attributes.add("hairstyles",{type:"entity",title:"Hairstyles",array:!0}),Customer.attributes.add("waypointExitShop",{type:"entity",title:"Waypoint Exit Shop"}),Customer.attributes.add("model",{type:"entity",title:"Model Entity"}),Customer.attributes.add("sprExpression",{type:"entity",title:"Expression Sprite"}),Customer.attributes.add("expressionSize",{type:"number",title:"Expression Max Size",default:.8}),Customer.attributes.add("expressionDuration",{type:"number",title:"Expression Tween Duration",default:.4}),Customer.attributes.add("expressionTriggerChance",{type:"number",title:"Expression Trigger Chance %",default:25}),Customer.attributes.add("expressions",{type:"asset",assetType:"sprite",title:"Expression Sprites",array:!0}),Customer.attributes.add("isFemale",{type:"boolean",title:"Is Female"}),Customer.attributes.add("startingHairstyle",{type:"entity",title:"Female Starting Hairstyle"}),Customer.prototype.initialize=function(){this.achievements=this.app.root.findByName("@Achievements Controller").script.achievementsController,this.waitLine1=this.app.root.findByName("Carpet_1").script.waitLine,this.waitLine2=this.app.root.findByName("Carpet_2").script.waitLine,this.waitLine3=this.app.root.findByName("Carpet_3").script.waitLine,this.waitLine4=this.app.root.findByName("Carpet_4").script.waitLine,this.waitLine5=this.app.root.findByName("Carpet_5").script.waitLine,this.waitLine6=this.app.root.findByName("Carpet_6").script.waitLine,this.waitLine7=this.app.root.findByName("Carpet_7").script.waitLine,this.waitLine8=this.app.root.findByName("Carpet_8").script.waitLine,this.selectedWaitLine=null,this.sprExpression.setLocalScale(0,0,0),this.customerTimer=0,this.duration=0,this.distance=0,this.tempSpeed=this.speed,this.entityPos=this.entity.getPosition(),this.csWaypointPos=pc.Vec3();var t=this.app.root.findByName("Waypoint_enter_1"),e=this.app.root.findByName("Waypoint_enter_2");this.waypointDoor1Pos=t.getPosition(),this.waypointDoor2Pos=e.getPosition(),this.isGettingHairstyle=!1,this.isLeaving=!1,this.isServedQuicker=!1,this.moveToWaypoint1()},Customer.prototype.update=function(t){!0!==this.isLeaving&&!0===this.isGettingHairstyle&&(this.customerTimer-=t,this.customerTimer<=0&&(this.isGettingHairstyle=!1,this.payAndLeave()))},Customer.prototype.moveToWaypoint1=function(){this.model.setLocalEulerAngles(0,0,0),this.tween&&this.tween.stop(),this.tempSpeed=this.speed,this.csWaypointPos=this.waypointDoor1Pos,this.distance=Customer.prototype.getDistance(this.csWaypointPos,this.entity.getPosition()),this.duration=this.distance/this.tempSpeed,this.tween=this.entity.tween(this.entity.getLocalPosition()).to(this.csWaypointPos,this.duration,pc.Linear).on("complete",(()=>this.moveToWaypoint2())),this.tween.start()},Customer.prototype.moveToWaypoint2=function(){this.model.setLocalEulerAngles(0,-90,0),this.tween&&this.tween.stop(),this.tempSpeed=this.speed,this.csWaypointPos=this.waypointDoor2Pos,this.distance=Customer.prototype.getDistance(this.csWaypointPos,this.entity.getPosition()),this.duration=this.distance/this.tempSpeed,this.tween=this.entity.tween(this.entity.getLocalPosition()).to(this.csWaypointPos,this.duration,pc.Linear).on("complete",(()=>this.checkForWaitingQueue())),this.tween.start()},Customer.prototype.checkForWaitingQueue=function(){var t=[];if(this.waitLine1&&this.waitLine1.hasFreeWaypoints()&&t.push(this.waitLine1),this.waitLine2&&!0===this.waitLine2.enabled&&this.waitLine2.hasFreeWaypoints()&&t.push(this.waitLine2),this.waitLine3&&!0===this.waitLine3.enabled&&this.waitLine3.hasFreeWaypoints()&&t.push(this.waitLine3),this.waitLine4&&!0===this.waitLine4.enabled&&this.waitLine4.hasFreeWaypoints()&&t.push(this.waitLine4),this.waitLine5&&!0===this.waitLine5.enabled&&this.waitLine5.hasFreeWaypoints()&&t.push(this.waitLine5),this.waitLine6&&!0===this.waitLine6.enabled&&this.waitLine6.hasFreeWaypoints()&&t.push(this.waitLine6),this.waitLine7&&!0===this.waitLine7.enabled&&this.waitLine7.hasFreeWaypoints()&&t.push(this.waitLine7),this.waitLine8&&!0===this.waitLine8.enabled&&this.waitLine8.hasFreeWaypoints()&&t.push(this.waitLine8),0===t.length)return this.triggerDissapointedExpression(),void this.leaveShop();var e=Math.floor(Math.random()*t.length);this.selectedWaitLine=t[e],this.carpetPos=this.selectedWaitLine.entity.getPosition(),this.moveToCarpet()},Customer.prototype.moveToCarpet=function(){this.model.setLocalEulerAngles(0,0,0),this.tween&&this.tween.stop(),this.walkingSpeed=this.speed;var t=new pc.Vec3(this.carpetPos.x,this.entity.getPosition().y,this.entity.getPosition().z);this.distance=Customer.prototype.getDistance(t,this.entity.getPosition()),this.duration=this.distance/this.walkingSpeed,this.tween=this.entity.tween(this.entity.getLocalPosition()).to(t,this.duration,pc.Linear).on("complete",(()=>this.assignWaitPosition(!1))),this.tween.start()},Customer.prototype.assignWaitPosition=function(t){if(this.resetWaypoint(),this.tween&&this.tween.stop(),this.csWaypoint=this.selectedWaitLine.getWaypoint(),!this.csWaypoint)return this.triggerDissapointedExpression(),void this.leaveShop();var e=this.csWaypoint.getPosition();this.getInLine(e,t)},Customer.prototype.getInLine=function(t,e){!1===e&&(this.model.setLocalEulerAngles(0,90,0),this.selectedWaitLine.addCustomer(this.entity)),this.tween&&this.tween.stop(),this.tempSpeed=this.speed*this.selectedWaitLine.speedMultiplier,this.distance=Customer.prototype.getDistance(t,this.entity.getPosition()),this.duration=this.distance/this.tempSpeed,this.tween=e?this.entity.tween(this.entity.getLocalPosition()).to(t,this.duration,pc.Linear):this.entity.tween(this.entity.getLocalPosition()).to(t,this.duration,pc.Linear).on("complete",(()=>this.waitForBarber())),this.tween.start()},Customer.prototype.waitForBarber=function(){var t=this.selectedWaitLine.getLastWaypointInArray();if(this.csWaypoint==t){!1===this.selectedWaitLine.barber.script.barber.isBusy&&this.selectedWaitLine.getHaircut();this.selectedWaitLine.getWayPoints()}},Customer.prototype.moveToChair=function(){this.tween&&this.tween.stop(),this.tempSpeed=this.speed*this.selectedWaitLine.speedMultiplier,this.csLastWaypoint=this.selectedWaitLine.getLastWaypoint().getPosition(),this.distance=Customer.prototype.getDistance(this.csLastWaypoint,this.entity.getPosition()),this.duration=this.distance/this.tempSpeed,this.tween=this.entity.tween(this.entity.getLocalPosition()).to(this.csLastWaypoint,this.duration,pc.Linear).on("complete",(()=>this.sitOnChair())),this.tween.start()},Customer.prototype.sitOnChair=function(){this.selectedWaitLine.vfxSmoke.enabled=!0,this.selectedWaitLine.barber.script.barber.animateBarber(),this.entity.script.customerRandomizer.removeHat(),this.customerTimer=this.selectedWaitLine.getHaircutTimer(),this.selectedWaitLine.customerGettingHaircut=this,this.isGettingHairstyle=!0;var t=this.selectedWaitLine.getChair().getPosition();this.entity.setLocalPosition(t.x,t.y,t.z),this.resetWaypoint(),this.selectedWaitLine.removeCustomer(),this.selectedWaitLine.reCheckForWaitingQueue()},Customer.prototype.payAndLeave=function(){switch(this.model.setLocalEulerAngles(0,0,0),this.selectedWaitLine.customerGettingHaircut=null,this.tween&&this.tween.stop(),this.isFemale&&this.startingHairstyle&&(this.startingHairstyle.enabled=!1),this.selectedWaitLine.hairstyleChooser.script.hairstyleChooser.hairstyles){case 0:this.hairstyles[0].enabled=!0;break;case 1:this.hairstyles[1].enabled=!0;break;case 2:this.entity.script.customerHairColor.isRandomColor&&this.entity.script.customerHairColor.randomizeHairColor(),this.hairstyles[2].enabled=!0;break;case 3:this.hairstyles[3].enabled=!0}(this.achievements.increaseServedCustomers(),this.selectedWaitLine.barber.script.barber.isBusy=!1,!1===this.selectedWaitLine.barber.script.barber.isBusy&&this.selectedWaitLine.acceptPayment(),this.selectedWaitLine.getCustomers().length>0)&&(null!==this.selectedWaitLine.getFirstCustomer()&&this.selectedWaitLine.getFirstCustomer().script.customer.waitForBarber());this.triggerHappyExpression(),this.tempSpeed=this.speed*this.selectedWaitLine.speedMultiplier;var t=this.selectedWaitLine.getWaypointLeave().getPosition();this.distance=Customer.prototype.getDistance(t,this.entity.getPosition()),this.duration=this.distance/this.tempSpeed,this.tween=this.entity.tween(this.entity.getLocalPosition()).to(t,this.duration,pc.Linear).on("complete",(()=>this.exitCarpet())),this.tween.start()},Customer.prototype.exitCarpet=function(){this.model.setLocalEulerAngles(0,-90,0),this.tween&&this.tween.stop(),this.tempSpeed=this.speed;var t=this.selectedWaitLine.getWaypointExit().getPosition();this.distance=Customer.prototype.getDistance(t,this.entity.getPosition()),this.duration=this.distance/this.tempSpeed,this.tween=this.entity.tween(this.entity.getLocalPosition()).to(t,this.duration,pc.Linear).on("complete",(()=>this.leaveShop())),this.tween.start()},Customer.prototype.leaveShop=function(){this.model.setLocalEulerAngles(0,0,0),this.tween&&this.tween.stop(),this.tempSpeed=this.speed;var t=this.waypointExitShop.getPosition();this.distance=Customer.prototype.getDistance(t,this.entity.getPosition()),this.duration=this.distance/this.tempSpeed,this.tween=this.entity.tween(this.entity.getLocalPosition()).to(t,this.duration,pc.Linear).on("complete",(()=>this.destroyCustomer())),this.tween.start()},Customer.prototype.triggerHappyExpression=function(){if(!(100*Math.random()>this.expressionTriggerChance)){var t=Math.round(2*Math.random());this.sprExpression.sprite.spriteAsset=this.expressions[t],this.sprExpression.enabled=!0,this.expressionTween&&this.expressionTween.stop(),this.expressionTween=this.sprExpression.tween(this.sprExpression.getLocalScale()).to(new pc.Vec3(.8,.8,.8),this.expressionDuration,pc.ElasticInOut).on("complete",(()=>this.removeExpression())),this.expressionTween.start()}},Customer.prototype.triggerDissapointedExpression=function(){this.sprExpression.sprite.spriteAsset=this.expressions[this.expressions.length-1],this.sprExpression.enabled=!0,this.expressionTween&&this.expressionTween.stop(),this.expressionTween=this.sprExpression.tween(this.sprExpression.getLocalScale()).to(new pc.Vec3(.8,.8,.8),this.expressionDuration,pc.ElasticIn).on("complete",(()=>this.removeExpression())),this.expressionTween.start()},Customer.prototype.removeExpression=function(){this.expressionTween&&this.expressionTween.stop(),this.expressionTween=this.sprExpression.tween(this.sprExpression.getLocalScale()).to(new pc.Vec3(0,0,0),this.expressionDuration,pc.ElasticIn),this.expressionTween.start()},Customer.prototype.increaseCustomerSpeed=function(){this.isGettingHairstyle&&(this.customerTimer=0,!1===this.isServedQuicker&&(this.achievements.increaseServedQuickerCustomers(),this.isServedQuicker=!0))},Customer.prototype.destroyCustomer=function(){this.entity.destroy()},Customer.prototype.resetWaypoint=function(){this.csWaypoint&&(this.csWaypoint.script.waitPos.isTaken=!1,this.csWaypoint=null)},Customer.prototype.getDistance=function(t,e){var i=t.x-e.x,s=t.y-e.y,n=t.z-e.z;return new pc.Vec3(i,s,n).length()};pc.extend(pc,function(){var TweenManager=function(t){this._app=t,this._tweens=[],this._add=[]};TweenManager.prototype={add:function(t){return this._add.push(t),t},update:function(t){for(var i=0,e=this._tweens.length;i<e;)this._tweens[i].update(t)?i++:(this._tweens.splice(i,1),e--);this._add.length&&(this._tweens=this._tweens.concat(this._add),this._add.length=0)}};var Tween=function(t,i,e){pc.events.attach(this),this.manager=i,e&&(this.entity=null),this.time=0,this.complete=!1,this.playing=!1,this.stopped=!0,this.pending=!1,this.target=t,this.duration=0,this._currentDelay=0,this.timeScale=1,this._reverse=!1,this._delay=0,this._yoyo=!1,this._count=0,this._numRepeats=0,this._repeatDelay=0,this._from=!1,this._slerp=!1,this._fromQuat=new pc.Quat,this._toQuat=new pc.Quat,this._quat=new pc.Quat,this.easing=pc.Linear,this._sv={},this._ev={}},_parseProperties=function(t){var i;return t instanceof pc.Vec2?i={x:t.x,y:t.y}:t instanceof pc.Vec3?i={x:t.x,y:t.y,z:t.z}:t instanceof pc.Vec4||t instanceof pc.Quat?i={x:t.x,y:t.y,z:t.z,w:t.w}:t instanceof pc.Color?(i={r:t.r,g:t.g,b:t.b},void 0!==t.a&&(i.a=t.a)):i=t,i};Tween.prototype={to:function(t,i,e,n,s,r){return this._properties=_parseProperties(t),this.duration=i,e&&(this.easing=e),n&&this.delay(n),s&&this.repeat(s),r&&this.yoyo(r),this},from:function(t,i,e,n,s,r){return this._properties=_parseProperties(t),this.duration=i,e&&(this.easing=e),n&&this.delay(n),s&&this.repeat(s),r&&this.yoyo(r),this._from=!0,this},rotate:function(t,i,e,n,s,r){return this._properties=_parseProperties(t),this.duration=i,e&&(this.easing=e),n&&this.delay(n),s&&this.repeat(s),r&&this.yoyo(r),this._slerp=!0,this},start:function(){var t,i,e,n;if(this.playing=!0,this.complete=!1,this.stopped=!1,this._count=0,this.pending=this._delay>0,this._reverse&&!this.pending?this.time=this.duration:this.time=0,this._from){for(t in this._properties)this._properties.hasOwnProperty(t)&&(this._sv[t]=this._properties[t],this._ev[t]=this.target[t]);this._slerp&&(this._toQuat.setFromEulerAngles(this.target.x,this.target.y,this.target.z),i=void 0!==this._properties.x?this._properties.x:this.target.x,e=void 0!==this._properties.y?this._properties.y:this.target.y,n=void 0!==this._properties.z?this._properties.z:this.target.z,this._fromQuat.setFromEulerAngles(i,e,n))}else{for(t in this._properties)this._properties.hasOwnProperty(t)&&(this._sv[t]=this.target[t],this._ev[t]=this._properties[t]);this._slerp&&(this._fromQuat.setFromEulerAngles(this.target.x,this.target.y,this.target.z),i=void 0!==this._properties.x?this._properties.x:this.target.x,e=void 0!==this._properties.y?this._properties.y:this.target.y,n=void 0!==this._properties.z?this._properties.z:this.target.z,this._toQuat.setFromEulerAngles(i,e,n))}return this._currentDelay=this._delay,this.manager.add(this),this},pause:function(){this.playing=!1},resume:function(){this.playing=!0},stop:function(){this.playing=!1,this.stopped=!0},delay:function(t){return this._delay=t,this.pending=!0,this},repeat:function(t,i){return this._count=0,this._numRepeats=t,this._repeatDelay=i||0,this},loop:function(t){return t?(this._count=0,this._numRepeats=1/0):this._numRepeats=0,this},yoyo:function(t){return this._yoyo=t,this},reverse:function(){return this._reverse=!this._reverse,this},chain:function(){for(var t=arguments.length;t--;)t>0?arguments[t-1]._chained=arguments[t]:this._chained=arguments[t];return this},update:function(t){if(this.stopped)return!1;if(!this.playing)return!0;if(!this._reverse||this.pending?this.time+=t*this.timeScale:this.time-=t*this.timeScale,this.pending){if(!(this.time>this._currentDelay))return!0;this._reverse?this.time=this.duration-(this.time-this._currentDelay):this.time=this.time-this._currentDelay,this.pending=!1}var i=0;(!this._reverse&&this.time>this.duration||this._reverse&&this.time<0)&&(this._count++,this.complete=!0,this.playing=!1,this._reverse?(i=this.duration-this.time,this.time=0):(i=this.time-this.duration,this.time=this.duration));var e,n,s=0===this.duration?1:this.time/this.duration,r=this.easing(s);for(var h in this._properties)this._properties.hasOwnProperty(h)&&(e=this._sv[h],n=this._ev[h],this.target[h]=e+(n-e)*r);if(this._slerp&&this._quat.slerp(this._fromQuat,this._toQuat,r),this.entity&&(this.entity._dirtifyLocal(),this.element&&this.entity.element&&(this.entity.element[this.element]=this.target),this._slerp&&this.entity.setLocalRotation(this._quat)),this.fire("update",t),this.complete){var a=this._repeat(i);return a?this.fire("loop"):(this.fire("complete",i),this.entity&&this.entity.off("destroy",this.stop,this),this._chained&&this._chained.start()),a}return!0},_repeat:function(t){if(this._count<this._numRepeats){if(this._reverse?this.time=this.duration-t:this.time=t,this.complete=!1,this.playing=!0,this._currentDelay=this._repeatDelay,this.pending=!0,this._yoyo){for(var i in this._properties){var e=this._sv[i];this._sv[i]=this._ev[i],this._ev[i]=e}this._slerp&&(this._quat.copy(this._fromQuat),this._fromQuat.copy(this._toQuat),this._toQuat.copy(this._quat))}return!0}return!1}};var BounceIn=function(t){return 1-BounceOut(1-t)},BounceOut=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375};return{TweenManager:TweenManager,Tween:Tween,Linear:function(t){return t},QuadraticIn:function(t){return t*t},QuadraticOut:function(t){return t*(2-t)},QuadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},CubicIn:function(t){return t*t*t},CubicOut:function(t){return--t*t*t+1},CubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},QuarticIn:function(t){return t*t*t*t},QuarticOut:function(t){return 1- --t*t*t*t},QuarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},QuinticIn:function(t){return t*t*t*t*t},QuinticOut:function(t){return--t*t*t*t*t+1},QuinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},SineIn:function(t){return 0===t?0:1===t?1:1-Math.cos(t*Math.PI/2)},SineOut:function(t){return 0===t?0:1===t?1:Math.sin(t*Math.PI/2)},SineInOut:function(t){return 0===t?0:1===t?1:.5*(1-Math.cos(Math.PI*t))},ExponentialIn:function(t){return 0===t?0:Math.pow(1024,t-1)},ExponentialOut:function(t){return 1===t?1:1-Math.pow(2,-10*t)},ExponentialInOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))},CircularIn:function(t){return 1-Math.sqrt(1-t*t)},CircularOut:function(t){return Math.sqrt(1- --t*t)},CircularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},BackIn:function(t){var i=1.70158;return t*t*((i+1)*t-i)},BackOut:function(t){var i=1.70158;return--t*t*((i+1)*t+i)+1},BackInOut:function(t){var i=2.5949095;return(t*=2)<1?t*t*((i+1)*t-i)*.5:.5*((t-=2)*t*((i+1)*t+i)+2)},BounceIn:BounceIn,BounceOut:BounceOut,BounceInOut:function(t){return t<.5?.5*BounceIn(2*t):.5*BounceOut(2*t-1)+.5},ElasticIn:function(t){var i,e=.1;return 0===t?0:1===t?1:(!e||e<1?(e=1,i=.1):i=.4*Math.asin(1/e)/(2*Math.PI),-e*Math.pow(2,10*(t-=1))*Math.sin((t-i)*(2*Math.PI)/.4))},ElasticOut:function(t){var i,e=.1;return 0===t?0:1===t?1:(!e||e<1?(e=1,i=.1):i=.4*Math.asin(1/e)/(2*Math.PI),e*Math.pow(2,-10*t)*Math.sin((t-i)*(2*Math.PI)/.4)+1)},ElasticInOut:function(t){var i,e=.1,n=.4;return 0===t?0:1===t?1:(!e||e<1?(e=1,i=.1):i=n*Math.asin(1/e)/(2*Math.PI),(t*=2)<1?e*Math.pow(2,10*(t-=1))*Math.sin((t-i)*(2*Math.PI)/n)*-.5:e*Math.pow(2,-10*(t-=1))*Math.sin((t-i)*(2*Math.PI)/n)*.5+1)}}}()),function(){pc.Application.prototype.addTweenManager=function(){this._tweenManager=new pc.TweenManager(this),this.on("update",(function(t){this._tweenManager.update(t)}))},pc.Application.prototype.tween=function(t){return new pc.Tween(t,this._tweenManager)},pc.Entity.prototype.tween=function(t,i){var e=this._app.tween(t);return e.entity=this,this.once("destroy",e.stop,e),i&&i.element&&(e.element=i.element),e};var t=pc.Application.getApplication();t&&t.addTweenManager()}();var Barber=pc.createScript("barber");Barber.attributes.add("waitline",{type:"entity",title:"Carpet"}),Barber.attributes.add("isBusy",{type:"boolean",title:"Is Taken",default:!1}),Barber.attributes.add("btnChairUpgrade",{type:"entity",title:"Chair Upgrade Button"}),Barber.attributes.add("btnClipperUpgrade",{type:"entity",title:"Clipper Upgrade Button"}),Barber.attributes.add("btnCombUpgrade",{type:"entity",title:"Comb Upgrade Button"}),Barber.attributes.add("chairComfortabilityPercentage",{type:"number",title:"Chair Comfort Percentage"}),Barber.attributes.add("clipperSpeedPercentage",{type:"number",title:"Clipper Speed Percentage"}),Barber.attributes.add("combPrecisionPercentage",{type:"number",title:"Comb Precision Percentage"}),Barber.attributes.add("chairComfortabilityUpgradeCost",{type:"number",title:"Chair Upgrade Cost"}),Barber.attributes.add("clipperSpeedUpgradeCost",{type:"number",title:"Clipper Upgrade Cost"}),Barber.attributes.add("combPrecisionUpgradeCost",{type:"number",title:"Comb Upgrade Cost"}),Barber.attributes.add("chairComfortabilityUpgradeLevel",{type:"number",title:"Chair Level"}),Barber.attributes.add("clipperSpeedUpgradeLevel",{type:"number",title:"Clipper Level"}),Barber.attributes.add("combPrecisionUpgradeLevel",{type:"number",title:"Comb Level"}),Barber.attributes.add("hands",{type:"entity",title:"Hands Object"}),Barber.attributes.add("rotationDuration",{type:"number",title:"Hands Rotation Duration",default:.2}),Barber.attributes.add("body",{type:"entity",title:"Body Object"}),Barber.attributes.add("teleportTarget",{type:"entity",title:"Teleport Target"}),Barber.prototype.initialize=function(){this.moneyManager=this.app.root.findByName("@Money Manager").script.moneyManager,this.initChairComfortabilityUpgradeCost=this.chairComfortabilityUpgradeCost,this.initClipperSpeedUpgradeCost=this.clipperSpeedUpgradeCost,this.initCombPrecisionUpgradeCost=this.combPrecisionUpgradeCost,this.initBodyLocalPosition=new pc.Vec3(this.body.getLocalPosition().x,this.body.getLocalPosition().y,this.body.getLocalPosition().z)},Barber.prototype.onClickButtonChair=function(){this.moneyManager.totalMoney>=this.chairComfortabilityUpgradeCost?(console.log("Upgrading Comfortability"),console.log("Comfortability Upgrade Cost: "+this.chairComfortabilityUpgradeCost),this.moneyManager.subtractMoney(this.chairComfortabilityUpgradeCost),this.chairComfortabilityUpgradeCost+=this.initChairComfortabilityUpgradeCost/2,this.chairComfortabilityUpgradeLevel++,console.log("Next Upgrade Cost: "+this.chairComfortabilityUpgradeCost),console.log("Current Comfortability Level: "+this.chairComfortabilityUpgradeLevel)):console.log("Not enough money. Total Money is: "+this.moneyManager.totalMoney+" / Required: "+this.chairComfortabilityUpgradeCost+". Missing: "+(this.chairComfortabilityUpgradeCost-this.moneyManager.totalMoney))},Barber.prototype.onClickButtonClipper=function(){this.moneyManager.totalMoney>=this.clipperSpeedUpgradeCost?(console.log("Upgrading Clipper Speed"),console.log("Clipper Speed Upgrade Cost: "+this.clipperSpeedUpgradeCost),this.moneyManager.subtractMoney(this.clipperSpeedUpgradeCost),this.clipperSpeedUpgradeCost+=this.initClipperSpeedUpgradeCost/2,this.clipperSpeedUpgradeLevel++,console.log("Next Upgrade Cost: "+this.clipperSpeedUpgradeCost),console.log("Current Comfortability Level: "+this.clipperSpeedUpgradeLevel)):console.log("Not enough money. Total Money is: "+this.moneyManager.totalMoney+" / Required: "+this.clipperSpeedUpgradeCost+". Missing: "+(this.clipperSpeedUpgradeCost-this.moneyManager.totalMoney))},Barber.prototype.onClickButtonComb=function(){this.moneyManager.totalMoney>=this.combPrecisionUpgradeCost?(console.log("Upgrading Clipper Speed"),console.log("Clipper Speed Upgrade Cost: "+this.combPrecisionUpgradeCost),this.moneyManager.subtractMoney(this.combPrecisionUpgradeCost),this.combPrecisionUpgradeCost+=this.initCombPrecisionUpgradeCost/2,this.combPrecisionUpgradeLevel++,console.log("Next Upgrade Cost: "+this.combPrecisionUpgradeCost),console.log("Current Comfortability Level: "+this.combPrecisionUpgradeLevel)):console.log("Not enough money. Total Money is: "+this.moneyManager.totalMoney+" / Required: "+this.combPrecisionUpgradeCost+". Missing: "+(this.combPrecisionUpgradeCost-this.moneyManager.totalMoney))},Barber.prototype.getChairComfortabilityBonus=function(){return this.chairComfortabilityPercentage/100},Barber.prototype.getClipperSpeedBonus=function(){return this.clipperSpeedPercentage/100},Barber.prototype.getCombPrecisionBonus=function(){return this.combPrecisionPercentage/100},Barber.prototype.updateChairComfortabilityPercentage=function(){this.chairComfortabilityPercentage=this.chairComfortabilityPercentage*this.chairComfortabilityUpgradeLevel},Barber.prototype.updateClipperSpeedPercentage=function(){this.clipperSpeedPercentage=this.clipperSpeedPercentage*this.clipperSpeedUpgradeLevel},Barber.prototype.updateCombPrecisionPercentage=function(){this.combPrecisionPercentage=this.combPrecisionPercentage*this.combPrecisionUpgradeLevel},Barber.prototype.animateBarber=function(){this.handsTween&&this.handsTween.stop(),this.handsTween=this.hands.tween(this.hands.getLocalRotation()).to(new pc.Vec3(0,0,-.7),this.rotationDuration,pc.Linear).loop(!0).yoyo(!0),this.handsTween.start(),this.teleport()},Barber.prototype.teleport=function(){this.bodyTween&&this.bodyTween.stop(),this.entity.setLocalEulerAngles(0,0,0);var e=this.waitline.script.waitLine.getHaircutTimer()/4;this.bodyTween=this.body.tween(this.body.getLocalPosition()).to(this.teleportTarget.getLocalPosition(),0,pc.Linear).delay(e).on("complete",(()=>this.returnToInitPos())),this.bodyTween.start()},Barber.prototype.returnToInitPos=function(){this.bodyTween&&this.bodyTween.stop(),this.entity.setLocalEulerAngles(0,180,0);var e=this.waitline.script.waitLine.getHaircutTimer()/4;this.bodyTween=this.body.tween(this.body.getLocalPosition()).to(this.initBodyLocalPosition,0,pc.Linear).delay(e).on("complete",(()=>this.teleport())),this.bodyTween.start()},Barber.prototype.stopAnimating=function(){this.handsTween&&this.handsTween.stop(),this.bodyTween&&this.bodyTween.stop(),this.entity.setLocalEulerAngles(0,0,0),this.hands.setLocalEulerAngles(0,0,0),this.body.setLocalPosition(this.initBodyLocalPosition.x,this.initBodyLocalPosition.y,this.initBodyLocalPosition.z)};var CustomerSpawner=pc.createScript("customerSpawner");CustomerSpawner.attributes.add("spawnTimer",{type:"number",title:"Spawn Timer",default:1}),CustomerSpawner.attributes.add("manager",{type:"entity",title:"Manager"}),CustomerSpawner.prototype.initialize=function(){customer=this.app.root.findByName("Customer"),spawnLocation=this.app.root.findByName("Spawn Location"),root=this.app.root,this.csTimer=0},CustomerSpawner.prototype.update=function(e){this.csTimer<0?this.spawnCustomer():this.csTimer-=e},CustomerSpawner.prototype.spawnCustomer=function(){this.manager.script||(this.manager.script=this.app.root.findByName("manager_collider").script),this.manager.script.manager&&this.manager.script.manager.isServiceActive?this.csTimer=this.manager.script.manager.serviceSpeed:this.csTimer=this.spawnTimer,newCustomer=customer.clone(),newCustomer.enabled=!1,root.addChild(newCustomer),newCustomer.setPosition(spawnLocation.getPosition()),newCustomer.enabled=!0};var CustomerRandomizer=pc.createScript("customerRandomizer");CustomerRandomizer.attributes.add("materials",{type:"asset",assetType:"material",array:!0,title:"Materials"}),CustomerRandomizer.attributes.add("body",{type:"entity",title:"Body"}),CustomerRandomizer.attributes.add("hat",{type:"entity",title:"Hat"}),CustomerRandomizer.attributes.add("hatSpawnChance",{type:"number",title:"Hat Spawn Chance",default:25}),CustomerRandomizer.attributes.add("hatMaterials",{type:"asset",assetType:"material",array:!0,title:"Hat Materials"}),CustomerRandomizer.attributes.add("isFemale",{type:"boolean",title:"Is Female"}),CustomerRandomizer.attributes.add("startingHairstyle",{type:"entity",title:"Female Starting Hairstyle"}),CustomerRandomizer.prototype.initialize=function(){this.customerHairColor=this.entity.script.customerHairColor,this.materialIndex=0,this.hatMaterialIndex=0,this.applyMaterial(),this.updateHat(),this.isFemale&&this.updateStartingHairstyle()},CustomerRandomizer.prototype.applyMaterial=function(t){this.materialIndex=Math.floor(Math.random()*this.materials.length);for(var a=this.materials[this.materialIndex],e=this.body.model.meshInstances,r=0;r<e.length;++r){e[r].material=a.resource}this.customerHairColor.updateHairColors(this.materialIndex)},CustomerRandomizer.prototype.updateHat=function(){this.isFemale||100*Math.random()<=this.hatSpawnChance&&(this.hat.enabled=!0,100*Math.random()>50&&this.hat.setLocalEulerAngles(0,180,0),this.applyHatMaterial())},CustomerRandomizer.prototype.applyHatMaterial=function(){this.hatMaterialIndex=Math.floor(Math.random()*this.hatMaterials.length);for(var t=this.hatMaterials[this.hatMaterialIndex],a=this.hat.model.meshInstances,e=0;e<a.length;++e){a[e].material=t.resource}},CustomerRandomizer.prototype.updateStartingHairstyle=function(){this.materialIndex=Math.floor(Math.random()*this.hatMaterials.length);for(var t=this.hatMaterials[this.materialIndex],a=this.startingHairstyle.model.meshInstances,e=0;e<a.length;++e){a[e].material=t.resource}},CustomerRandomizer.prototype.removeHat=function(){this.hat.enabled&&(this.hat.enabled=!1)};var Door=pc.createScript("door");Door.attributes.add("lollipopMat",{type:"asset",assetType:"material",title:"Lollipop Material"}),Door.attributes.add("rotateSpeed",{type:"number",title:"Rotate Speed"}),Door.tmp=new pc.Vec2,Door.prototype.initialize=function(){this.material=this.lollipopMat.resource,this.tmp=Door.tmp},Door.prototype.update=function(t){this.tmp.set(this.rotateSpeed,0),this.tmp.scale(t),this.material.diffuseMapOffset=this.material.diffuseMapOffset.add(this.tmp),this.material.update()};var HairstyleChooser=pc.createScript("hairstyleChooser");HairstyleChooser.attributes.add("id",{type:"number",title:"ID"}),HairstyleChooser.attributes.add("frameModel",{type:"entity",title:"Frame Model"}),HairstyleChooser.attributes.add("carpet",{type:"entity",title:"Carpet"}),HairstyleChooser.attributes.add("hairstyles",{type:"number",enum:[{FirstHairstyle:0},{SecondHairstyle:1},{ThirdHairstyle:2},{FourthHairstyle:3}],default:0}),HairstyleChooser.attributes.add("priceHairstyle1",{type:"number",title:"Hairstyle 1 Price"}),HairstyleChooser.attributes.add("priceHairstyle2",{type:"number",title:"Hairstyle 2 Price"}),HairstyleChooser.attributes.add("priceHairstyle3",{type:"number",title:"Hairstyle 3 Price"}),HairstyleChooser.attributes.add("priceHairstyle4",{type:"number",title:"Hairstyle 4 Price"}),HairstyleChooser.attributes.add("hairStyleIncomePercentage1",{type:"number",title:"Hairstyle 1 Income Percentage"}),HairstyleChooser.attributes.add("hairStyleIncomePercentage2",{type:"number",title:"Hairstyle 2 Income Percentage"}),HairstyleChooser.attributes.add("hairStyleIncomePercentage3",{type:"number",title:"Hairstyle 3 Income Percentage"}),HairstyleChooser.attributes.add("hairStyleIncomePercentage4",{type:"number",title:"Hairstyle 4 Income Percentage"}),HairstyleChooser.attributes.add("hairStyleSpeedPercentage1",{type:"number",title:"Hairstyle 1 Speed Percentage"}),HairstyleChooser.attributes.add("hairStyleSpeedPercentage2",{type:"number",title:"Hairstyle 2 Speed Percentage"}),HairstyleChooser.attributes.add("hairStyleSpeedPercentage3",{type:"number",title:"Hairstyle 3 Speed Percentage"}),HairstyleChooser.attributes.add("hairStyleSpeedPercentage4",{type:"number",title:"Hairstyle 4 Speed Percentage"}),HairstyleChooser.attributes.add("hairStyleChoosePanel",{type:"entity",title:"Hair Select Panel"}),HairstyleChooser.attributes.add("hairstyleUpgradePanels",{type:"entity",title:"Hairstyle Upgrade Panel"}),HairstyleChooser.attributes.add("tutorialEntity",{type:"entity",title:"Tutorial"}),HairstyleChooser.prototype.initialize=function(){this.hairstylesUpgrade=this.app.root.findByName("Hairstyles Upgrade Board Panel").script.hairstylesUpgrade,this.chooseHairstyleDetailsUpdater=this.app.root.findByName("Hairstyles Choose Board Panel").script.chooseHairstyleDetailsUpdater,this.hairstyleSaveManager=this.app.root.findByName("@Hairstyle Save Manager").script.hairstyleSaveManager,this.productionCap=this.app.root.findByName("@Production Cap").script.productionCap,this.waitLine=this.carpet.script.waitLine,this.initialHairstyleIncomePercentage1=this.hairStyleIncomePercentage1,this.initialHairstyleIncomePercentage2=this.hairStyleIncomePercentage2,this.initialHairstyleIncomePercentage3=this.hairStyleIncomePercentage3,this.initialHairstyleIncomePercentage4=this.hairStyleIncomePercentage4,this.initialHairstyleSpeedPercentage1=this.hairStyleSpeedPercentage1,this.initialHairstyleSpeedPercentage2=this.hairStyleSpeedPercentage2,this.initialHairstyleSpeedPercentage3=this.hairStyleSpeedPercentage3,this.initialHairstyleSpeedPercentage4=this.hairStyleSpeedPercentage4,this.hairstyles=0,this.hairstylesUpgrade.updateStats(this),this.tutorialEntity&&(this.tutorial=this.tutorialEntity.script.tutorial)},HairstyleChooser.prototype.postInitialize=function(){try{this.hairstyleSaveManager.loadData&&(this.hairstyleSaveManager.loadHairstyleChooser(this),this.updateHairstyleIncomePercentage(),this.updateHairstyleSpeedPercentage(),this.hairstylesUpgrade.updateStats(this))}catch(e){console.log(e)}},HairstyleChooser.prototype.openHairstyleMenu=function(){this.hairStyleChoosePanel.enabled=!0,this.hairStyleChoosePanel.script.selectedFrame.setFrame(this),this.chooseHairstyleDetailsUpdater.updateStats(),this.tutorialEntity&&!1===this.tutorial.isTut6Finished&&this.tutorial.tut6.enabled&&(this.tutorial.tut6Goal--,this.tutorial.checkTutorialStates())},HairstyleChooser.prototype.getModel=function(){if(this.frameModel)return this.frameModel},HairstyleChooser.prototype.getHairstylePrice=function(){switch(this.hairstyles){case 0:return this.priceHairstyle1;case 1:return this.priceHairstyle2;case 2:return this.priceHairstyle3;case 3:return this.priceHairstyle4}},HairstyleChooser.prototype.getHairstyleIncome=function(){switch(this.hairstyles){case 0:return this.hairStyleIncomePercentage1/100;case 1:return this.hairStyleIncomePercentage2/100;case 2:return this.hairStyleIncomePercentage3/100;case 3:return this.hairStyleIncomePercentage4/100}},HairstyleChooser.prototype.getHairstyleSpeed=function(){switch(this.hairstyles){case 0:return this.hairStyleSpeedPercentage1/100;case 1:return this.hairStyleSpeedPercentage2/100;case 2:return this.hairStyleSpeedPercentage3/100;case 3:return this.hairStyleSpeedPercentage4/100}},HairstyleChooser.prototype.getHairStyleLevel=function(){switch(this.hairstyles){case 0:return this.hairstylesUpgrade.hairstyleUpgradeLevel1;case 1:return this.hairstylesUpgrade.hairstyleUpgradeLevel2;case 2:return this.hairstylesUpgrade.hairstyleUpgradeLevel3;case 3:return this.hairstylesUpgrade.hairstyleUpgradeLevel4}},HairstyleChooser.prototype.updateHairstyleIncomePercentage=function(){switch(this.hairstyles){case 0:this.hairStyleIncomePercentage1=this.initialHairstyleIncomePercentage1*this.hairstylesUpgrade.hairstyleUpgradeLevel1;break;case 1:this.hairStyleIncomePercentage2=this.initialHairstyleIncomePercentage2*this.hairstylesUpgrade.hairstyleUpgradeLevel2;break;case 2:this.hairStyleIncomePercentage3=this.initialHairstyleIncomePercentage3*this.hairstylesUpgrade.hairstyleUpgradeLevel3;break;case 3:this.hairStyleIncomePercentage4=this.initialHairstyleIncomePercentage4*this.hairstylesUpgrade.hairstyleUpgradeLevel4}this.hairstylesUpgrade.updateStats(this)},HairstyleChooser.prototype.updateHairstyleSpeedPercentage=function(){switch(this.hairstyles){case 0:this.hairStyleSpeedPercentage1=this.initialHairstyleSpeedPercentage1*this.hairstylesUpgrade.hairstyleUpgradeLevel1;break;case 1:this.hairStyleSpeedPercentage2=this.initialHairstyleSpeedPercentage2*this.hairstylesUpgrade.hairstyleUpgradeLevel2;break;case 2:this.hairStyleSpeedPercentage3=this.initialHairstyleSpeedPercentage3*this.hairstylesUpgrade.hairstyleUpgradeLevel3;break;case 3:this.hairStyleSpeedPercentage4=this.initialHairstyleSpeedPercentage4*this.hairstylesUpgrade.hairstyleUpgradeLevel4}},HairstyleChooser.prototype.loadFrame=function(e,t){var r=this.frameModel.model.meshInstances,i=t[parseInt(this.hairstyles)];r[1].material=i.resource},HairstyleChooser.prototype.reduceUpdateCap=function(){this.productionCap.subtractProductionCap(this.waitLine.getProduction())},HairstyleChooser.prototype.increaseUpdateCap=function(){this.productionCap.addProductionCap(this.waitLine.getProduction())};var CloseButton=pc.createScript("closeButton");CloseButton.attributes.add("activePanel",{type:"entity",title:"Panel to Close"}),CloseButton.prototype.initialize=function(){this.entity.button.on("click",this.onClick,this)},CloseButton.prototype.onClick=function(t){this.activePanel.enabled=!1};var SelectedFrame=pc.createScript("selectedFrame");SelectedFrame.prototype.initialize=function(){this.currentSelectedFrame=null},SelectedFrame.prototype.getFrame=function(){if(this.currentSelectedFrame)return this.currentSelectedFrame},SelectedFrame.prototype.setFrame=function(e){this.currentSelectedFrame=e};var BtnSelectHairstyle=pc.createScript("btnSelectHairstyle");BtnSelectHairstyle.attributes.add("btnHs1",{type:"entity",title:"Button Hairstyle 1"}),BtnSelectHairstyle.attributes.add("btnHs2",{type:"entity",title:"Button Hairstyle 2"}),BtnSelectHairstyle.attributes.add("btnHs3",{type:"entity",title:"Button Hairstyle 3"}),BtnSelectHairstyle.attributes.add("btnHs4",{type:"entity",title:"Button Hairstyle 4"}),BtnSelectHairstyle.attributes.add("hairMaterials",{type:"asset",assetType:"material",title:"Hairstyle Materials",array:!0}),BtnSelectHairstyle.prototype.initialize=function(){this.panelController=this.app.root.findByName("@Panel Controller").script.panelController,this.productionCap=this.app.root.findByName("@Production Cap").script.productionCap,this.hairstyleSaveManager=this.app.root.findByName("@Hairstyle Save Manager").script.hairstyleSaveManager,this.btnHs1.button.on("click",this.onClickButtonHs1,this),this.btnHs2.button.on("click",this.onClickButtonHs2,this),this.btnHs3.button.on("click",this.onClickButtonHs3,this),this.btnHs4.button.on("click",this.onClickButtonHs4,this)},BtnSelectHairstyle.prototype.onClickButtonHs1=function(){var t=this.entity.script.selectedFrame.getFrame().entity.script.hairstyleChooser.getModel().model.meshInstances,e=this.hairMaterials[0];t[1].material=e.resource,this.panelController.closeAllPanels();var s=this.entity.script.selectedFrame.getFrame().entity.script.hairstyleChooser;s.reduceUpdateCap(),s.hairstyles=0,s.updateHairstyleIncomePercentage(),s.updateHairstyleSpeedPercentage(),this.hairstyleSaveManager.saveHairstyleChooser(s),s.increaseUpdateCap()},BtnSelectHairstyle.prototype.onClickButtonHs2=function(){var t=this.entity.script.selectedFrame.getFrame().entity.script.hairstyleChooser.getModel().model.meshInstances,e=this.hairMaterials[1];t[1].material=e.resource,this.panelController.closeAllPanels();var s=this.entity.script.selectedFrame.getFrame().entity.script.hairstyleChooser;s.reduceUpdateCap(),s.hairstyles=1,s.updateHairstyleIncomePercentage(),s.updateHairstyleSpeedPercentage(),this.hairstyleSaveManager.saveHairstyleChooser(s),s.increaseUpdateCap()},BtnSelectHairstyle.prototype.onClickButtonHs3=function(){var t=this.entity.script.selectedFrame.getFrame().entity.script.hairstyleChooser.getModel().model.meshInstances,e=this.hairMaterials[2];t[1].material=e.resource,this.panelController.closeAllPanels();var s=this.entity.script.selectedFrame.getFrame().entity.script.hairstyleChooser;s.reduceUpdateCap(),s.hairstyles=2,s.updateHairstyleIncomePercentage(),s.updateHairstyleSpeedPercentage(),this.hairstyleSaveManager.saveHairstyleChooser(s),s.increaseUpdateCap()},BtnSelectHairstyle.prototype.onClickButtonHs4=function(){var t=this.entity.script.selectedFrame.getFrame().entity.script.hairstyleChooser.getModel().model.meshInstances,e=this.hairMaterials[3];t[1].material=e.resource,this.panelController.closeAllPanels();var s=this.entity.script.selectedFrame.getFrame().entity.script.hairstyleChooser;s.reduceUpdateCap(),s.hairstyles=3,s.updateHairstyleIncomePercentage(),s.updateHairstyleSpeedPercentage(),this.hairstyleSaveManager.saveHairstyleChooser(s),s.increaseUpdateCap()},BtnSelectHairstyle.prototype.loadFrameMaterial=function(t){var e=t.getModel().model.meshInstances,s=this.hairMaterials[t.hairstyles];e[1].material=s.resource},BtnSelectHairstyle.prototype.removeEvents=function(){this.btnHs1.button.off("click",this.onClickButtonHs1,this),this.btnHs2.button.off("click",this.onClickButtonHs2,this),this.btnHs3.button.off("click",this.onClickButtonHs3,this),this.btnHs4.button.off("click",this.onClickButtonHs4,this)};var HairstyleFramePicker=pc.createScript("hairstyleFramePicker");HairstyleFramePicker.prototype.initialize=function(){this.app.mouse.on(pc.EVENT_MOUSEDOWN,this.onSelect,this),this.app.touch&&this.app.touch.on(pc.EVENT_TOUCHSTART,this.onTouchStart,this),this.panelController=this.app.root.findByName("@Panel Controller").script.panelController,this.cameraMovementButtons=this.app.root.findByName("ui_camera_move_buttons").script.cameraMovementButtons},HairstyleFramePicker.prototype.onTouchStart=function(t){1==t.touches.length&&(this.onSelect(t.touches[0]),t.event.preventDefault())},HairstyleFramePicker.prototype.onSelect=function(t){if(!this.panelController.isPanelOpen()&&!this.cameraMovementButtons.isHoldingButton){try{if(0===parseInt(localStorage.getItem("input")))return}catch(t){console.log(t)}var e=this.entity.camera.screenToWorld(t.x,t.y,this.entity.camera.nearClip),i=this.entity.camera.screenToWorld(t.x,t.y,this.entity.camera.farClip),o=this.panelController;this.app.systems.rigidbody.raycastFirst(e,i,(function(t){var e=t.entity;e.script&&e.script.hairstyleChooser&&(o.closeAllPanels(),e.script.hairstyleChooser.openHairstyleMenu())}))}},HairstyleFramePicker.prototype.removeEvents=function(){this.app.mouse.off(pc.EVENT_MOUSEDOWN,this.onSelect,this),this.app.touch&&this.app.touch.off(pc.EVENT_TOUCHSTART,this.onSelect,this)};var PanelController=pc.createScript("panelController");PanelController.attributes.add("panelHairstyleUpgrade",{type:"entity",title:"Hairstyle Upgrade Panel"}),PanelController.attributes.add("panelHairstyleSelect",{type:"entity",title:"Hairstyle Select Panel"}),PanelController.attributes.add("panelHireManager",{type:"entity",title:"Hire Manager Panel"}),PanelController.attributes.add("panelManager",{type:"entity",title:"Manager Panel"}),PanelController.attributes.add("panelUpgradeChair",{type:"entity",title:"Chair Upgrade Panel"}),PanelController.attributes.add("panelHairstyles",{type:"entity",title:"HairstylesPanel"}),PanelController.attributes.add("panelAchievements",{type:"entity",title:"AchievementsPanel"}),PanelController.attributes.add("panelChests",{type:"entity",title:"ChestsPanel"}),PanelController.attributes.add("panelSettings",{type:"entity",title:"SettingsPanel"}),PanelController.attributes.add("panelPurchaseShop",{type:"entity",title:"PurchaseShopPanel"}),PanelController.attributes.add("timeMachinePanel",{type:"entity",title:"Time Machine Panel"}),PanelController.attributes.add("giftPanel",{type:"entity",title:"Gift Panel"}),PanelController.attributes.add("rewardPanel",{type:"entity",title:"Reward Panel"}),PanelController.attributes.add("tutAdPanel",{type:"entity",title:"Tut Ad Panel"}),PanelController.attributes.add("loadingScreenPanel",{type:"entity",title:"Loading Screen Panel"}),PanelController.attributes.add("deleteProgressPanel",{type:"entity",title:"Delete Progress Panel"}),PanelController.prototype.closeAllPanels=function(){this.panelHairstyleUpgrade.enabled&&(this.panelHairstyleUpgrade.enabled=!1),this.panelHairstyleSelect.enabled&&(this.panelHairstyleSelect.enabled=!1),this.panelHireManager.enabled&&(this.panelHireManager.enabled=!1),this.panelManager.enabled&&(this.panelManager.enabled=!1),this.panelUpgradeChair.enabled&&(this.panelUpgradeChair.enabled=!1),this.panelHairstyles.enabled&&(this.panelUpgradeHairstyles.enabled=!1),this.panelAchievements.enabled&&(this.panelAchievements.enabled=!1),this.panelChests.enabled&&(this.panelChests.enabled=!1),this.panelSettings.enabled&&(this.panelSettings.enabled=!1),this.panelPurchaseShop&&this.panelPurchaseShop.enabled&&(this.panelPurchaseShop.enabled=!1),this.timeMachinePanel&&(this.timeMachinePanel.enabled=!1),this.giftPanel&&(this.giftPanel.enabled=!1),this.rewardPanel&&(this.rewardPanel.enabled=!1),this.tutAdPanel&&(this.tutAdPanel.enabled=!1),this.loadingScreenPanel&&(this.loadingScreenPanel.enabled=!1),this.deleteProgressPanel.enabled&&(this.deleteProgressPanel.enabled=!1)},PanelController.prototype.isPanelOpen=function(){return!!this.panelHairstyleUpgrade.enabled||(!!this.panelHairstyleSelect.enabled||(!!this.panelHireManager.enabled||(!!this.panelManager.enabled||(!!this.panelUpgradeChair.enabled||(!!this.panelHairstyles.enabled||(!!this.panelAchievements.enabled||(!!this.panelChests.enabled||(!!this.panelSettings.enabled||(!(!this.panelPurchaseShop||!this.panelPurchaseShop.enabled)||(!(!this.timeMachinePanel||!this.timeMachinePanel.enabled)||(!(!this.giftPanel||!this.giftPanel.enabled)||(!(!this.rewardPanel||!this.rewardPanel.enabled)||(!(!this.tutAdPanel||!this.tutAdPanel.enabled)||(!(!this.loadingScreenPanel||!this.loadingScreenPanel.enabled)||!(!this.deleteProgressPanel||!this.deleteProgressPanel.enabled)))))))))))))))},PanelController.prototype.triggerLoadingScreen=function(){this.loadingScreenPanel&&(this.loadingScreenPanel.enabled=!0)},PanelController.prototype.isChairPanelOpen=function(){return!!this.panelUpgradeChair.enabled},PanelController.prototype.isTutAdPanelOpen=function(){return!(!this.tutAdPanel||!this.tutAdPanel.enabled)};var CustomerHairColor=pc.createScript("customerHairColor");CustomerHairColor.attributes.add("hairstyles",{type:"entity",title:"Hairstyles",array:!0}),CustomerHairColor.attributes.add("isRandomColor",{type:"boolean",title:"Is Random Color",default:!0}),CustomerHairColor.attributes.add("matCh1",{type:"asset",assetType:"material",title:"Ch 1 Hair Color"}),CustomerHairColor.attributes.add("matCh3",{type:"asset",assetType:"material",title:"Ch 3 Hair Color"}),CustomerHairColor.attributes.add("matCh5",{type:"asset",assetType:"material",title:"Ch 5 Hair Color"}),CustomerHairColor.attributes.add("matCh6",{type:"asset",assetType:"material",title:"Ch 6 Hair Color"}),CustomerHairColor.attributes.add("matCh9",{type:"asset",assetType:"material",title:"Ch 9 Hair Color"}),CustomerHairColor.attributes.add("matCh11",{type:"asset",assetType:"material",title:"Ch 11 Hair Color"}),CustomerHairColor.attributes.add("matCh13",{type:"asset",assetType:"material",title:"Ch 13 Hair Color"}),CustomerHairColor.attributes.add("matChGeneric",{type:"asset",assetType:"material",title:"Ch Generic Hair Color"}),CustomerHairColor.attributes.add("randomColors",{type:"asset",assetType:"material",title:"Random Colors",array:!0}),CustomerHairColor.prototype.updateHairColors=function(t){var a=null;for(a=0===t?this.matCh1:2===t?this.matCh3:4===t?this.matCh5:5===t?this.matCh6:8===t?this.matCh9:10===t?this.matCh11:12===t?this.matCh13:this.matChGeneric,i=0;i<this.hairstyles.length;i++){this.hairstyles[i].model.meshInstances[0].material=a.resource}},CustomerHairColor.prototype.randomizeHairColor=function(){var t=Math.floor(Math.random()*this.randomColors.length),a=this.randomColors[t];for(i=0;i<this.hairstyles.length;i++){this.hairstyles[i].model.meshInstances[0].material=a.resource}};var BtnHireManager=pc.createScript("btnHireManager");BtnHireManager.attributes.add("btnHireManager",{type:"entity",title:"Hire Button"}),BtnHireManager.attributes.add("cost",{type:"number",title:"Manager Hire Cost"}),BtnHireManager.attributes.add("textCost",{type:"entity",title:"Cost Text"}),BtnHireManager.prototype.initialize=function(){this.panelController=this.app.root.findByName("@Panel Controller").script.panelController,this.hireManagerStand=this.app.root.findByName("hire_manager_collider").script.hireManagerStand,this.moneyManager=this.app.root.findByName("@Money Manager").script.moneyManager,this.moneyDisplayFormatter=this.app.root.findByName("@Money Display Formatter").script.moneyDisplayFormatter,this.achievements=this.app.root.findByName("@Achievements Controller").script.achievementsController,this.textCost.element.text="$"+this.moneyDisplayFormatter.formatEveryThirdPowerAsString(this.cost),this.btnHireManager.button.on("click",this.onClickHireManager,this),this.updateHireButton()},BtnHireManager.prototype.onClickHireManager=function(){this.moneyManager.totalMoney>=this.cost&&(this.moneyManager.subtractMoney(this.cost,!1),this.panelController.closeAllPanels(),this.hireManagerStand.enableManager(),this.achievements.increaseHiredManagers())},BtnHireManager.prototype.updateHireButton=function(){this.moneyManager||(this.moneyManager=this.app.root.findByName("@Money Manager").script.moneyManager),this.moneyManager.totalMoney>=this.cost?this.btnHireManager.button.active=!0:this.btnHireManager.button.active=!1},BtnHireManager.prototype.removeEvents=function(){this.btnHireManager.button.off("click",this.onClickHireManager,this)};var HireManagerPicker=pc.createScript("hireManagerPicker");HireManagerPicker.prototype.initialize=function(){this.app.mouse.on(pc.EVENT_MOUSEDOWN,this.onSelect,this),this.app.touch&&this.app.touch.on(pc.EVENT_TOUCHSTART,this.onTouchStart,this),this.panelController=this.app.root.findByName("@Panel Controller").script.panelController,this.cameraMovementButtons=this.app.root.findByName("ui_camera_move_buttons").script.cameraMovementButtons},HireManagerPicker.prototype.onTouchStart=function(t){1==t.touches.length&&(this.onSelect(t.touches[0]),t.event.preventDefault())},HireManagerPicker.prototype.onSelect=function(t){if(!this.panelController.isPanelOpen()&&!this.cameraMovementButtons.isHoldingButton){try{if(0===parseInt(localStorage.getItem("input")))return}catch(t){console.log(t)}var e=this.entity.camera.screenToWorld(t.x,t.y,this.entity.camera.nearClip),i=this.entity.camera.screenToWorld(t.x,t.y,this.entity.camera.farClip),r=this.panelController;this.app.systems.rigidbody.raycastFirst(e,i,(function(t){var e=t.entity;e.script&&e.script.hireManagerStand&&(r.closeAllPanels(),e.script.hireManagerStand.openHireManagerPanel())}))}},HireManagerPicker.prototype.removeEvents=function(){this.app.mouse.off(pc.EVENT_MOUSEDOWN,this.onSelect,this),this.app.touch&&this.app.touch.off(pc.EVENT_TOUCHSTART,this.onSelect,this)};var HireManagerStand=pc.createScript("hireManagerStand");HireManagerStand.attributes.add("hireManagerPanel",{type:"entity",title:"Hire Manager Panel"}),HireManagerStand.attributes.add("manager",{type:"entity",title:"Manager"}),HireManagerStand.attributes.add("tutorialEntity",{type:"entity",title:"Tutorial"}),HireManagerStand.attributes.add("tutorial7Entity",{type:"entity",title:"Tutorial 7"}),HireManagerStand.prototype.initialize=function(){this.managerSaveManager=this.app.root.findByName("@Manager Save Manager").script.managerSaveManager,this.levelController=this.app.root.findByName("@Level Controller").script.levelController,this.skipTutorial=!1,this.tutorialEntity&&(this.tutorial=this.tutorialEntity.script.tutorial);try{this.managerSaveManager.loadData&&(this.managerSaveManager.loadManager(),this.managerSaveManager.getManager().isUnlocked&&(this.enableManager(),this.managerSaveManager.getManager().updateOnLoad()))}catch(t){console.log(t)}try{localStorage.getItem("isTut7Finished")&&"true"===localStorage.getItem("isTut7Finished")&&(this.skipTutorial=!0)}catch(t){console.log(t)}},HireManagerStand.prototype.openHireManagerPanel=function(){if(1===this.levelController.cityindex&&1===this.levelController.shopIndex){if(!1===this.tutorial.isTut7Finished&&this.tutorial7Entity&&!1===this.tutorial7Entity.enabled)return;if(!1===this.skipTutorial&&this.tutorialEntity&&(!1===this.tutorial.isTut1Finished||!1===this.tutorial.isTut2Finished||!1===this.tutorial.isTut3Finished||!1===this.tutorial.tut4||!1===this.tutorial.isTut5Finished||!1===this.tutorial.isTut6Finished))return}this.hireManagerPanel.enabled=!0,PokiSDK.gameplayStop();try{localStorage.setItem("input",0)}catch(t){console.log(t)}PokiSDK.commercialBreak().then((()=>{PokiSDK.gameplayStart();try{localStorage.setItem("input",1)}catch(t){console.log(t)}})),this.tutorialEntity&&!1===this.tutorial.isTut7Finished&&this.tutorial.tut7.enabled&&(this.tutorial.tut7Goal--,this.tutorial.checkTutorialStates())},HireManagerStand.prototype.enableManager=function(){this.manager.enabled=!0,this.entity.parent.enabled=!1};var ManagerPanels=pc.createScript("managerPanels");ManagerPanels.attributes.add("managerEntity",{type:"entity",title:"Manager"}),ManagerPanels.attributes.add("btnManagerTab1",{type:"entity",title:"Button Tab 1"}),ManagerPanels.attributes.add("btnManagerTab2",{type:"entity",title:"Button Tab 2"}),ManagerPanels.attributes.add("btnManagerTab3",{type:"entity",title:"Button Tab 3"}),ManagerPanels.attributes.add("panelManager",{type:"entity",title:"Manager Panel"}),ManagerPanels.attributes.add("panelService",{type:"entity",title:"Service Panel"}),ManagerPanels.attributes.add("panelDuration",{type:"entity",title:"Duration Panel"}),ManagerPanels.attributes.add("elementsManager",{type:"entity",title:"Manager Elements"}),ManagerPanels.attributes.add("elementsService",{type:"entity",title:"Service Elements"}),ManagerPanels.attributes.add("elementsDuration",{type:"entity",title:"duration Elements"}),ManagerPanels.attributes.add("sliderService",{type:"entity",title:"Service Slider"}),ManagerPanels.attributes.add("sliderDuration",{type:"entity",title:"Duration Slider"}),ManagerPanels.attributes.add("txtManagerDescription",{type:"entity",title:"Manager Description"}),ManagerPanels.attributes.add("txtServiceUpgradeCost",{type:"entity",title:"Service Upgrade Cost Text"}),ManagerPanels.attributes.add("txtServiceDescription",{type:"entity",title:"Service Description"}),ManagerPanels.attributes.add("txtServiceButton",{type:"entity",title:"Service Button Text"}),ManagerPanels.attributes.add("txtServiceMax",{type:"entity",title:"Service Max Text"}),ManagerPanels.attributes.add("scrollbarService",{type:"entity",title:"Service Scrollbar"}),ManagerPanels.attributes.add("txtDurationUpgradeCost",{type:"entity",title:"Duration Upgrade Cost Text"}),ManagerPanels.attributes.add("txtDurationDescription",{type:"entity",title:"Duration Description"}),ManagerPanels.attributes.add("txtDurationButton",{type:"entity",title:"Duration Button Text"}),ManagerPanels.attributes.add("txtDurationMax",{type:"entity",title:"Duration Max Text"}),ManagerPanels.attributes.add("scrollbarDuration",{type:"entity",title:"Duration Scrollbar"}),ManagerPanels.attributes.add("textActivateHolder",{type:"entity",title:"Activate Text Holder"}),ManagerPanels.attributes.add("textTimerHolder",{type:"entity",title:"Timer Text Holder"}),ManagerPanels.attributes.add("textTime",{type:"entity",title:"Timer Text"}),ManagerPanels.prototype.initialize=function(){this.panelController=this.app.root.findByName("@Panel Controller").script.panelController,this.moneyDisplayFormatter=this.app.root.findByName("@Money Display Formatter").script.moneyDisplayFormatter,this.manager=this.managerEntity.script.manager,this.initServiceUpgradeCost=this.serviceUpgradeCost,this.initDurationUpgradeCost=this.durationUpgradeCost,this.btnManagerTab1.element.on("click",this.onClickButtonManagerTab1,this),this.btnManagerTab2.element.on("click",this.onClickButtonManagerTab2,this),this.btnManagerTab3.element.on("click",this.onClickButtonManagerTab3,this),this.button1Pos=this.btnManagerTab1.getLocalPosition(),this.button2Pos=this.btnManagerTab2.getLocalPosition(),this.button3Pos=this.btnManagerTab3.getLocalPosition(),this.updatePanels(),this.newButtonYPos=10+this.button1Pos.y,this.maxManagerUpgradeLevel=25},ManagerPanels.prototype.onClickButtonManagerTab1=function(){this.panelManager.element.drawOrder=30,this.panelService.element.drawOrder=20,this.panelDuration.element.drawOrder=10,this.panelManager.setLocalPosition(0,0,0),this.panelService.setLocalPosition(0,-15,0),this.panelDuration.setLocalPosition(0,-15,0),this.btnManagerTab1.setLocalPosition(this.button1Pos.x,this.button1Pos.y,this.button1Pos.z),this.btnManagerTab2.setLocalPosition(this.button2Pos.x,this.newButtonYPos,this.button2Pos.z),this.btnManagerTab3.setLocalPosition(this.button3Pos.x,this.newButtonYPos,this.button3Pos.z),this.btnManagerTab1.element.fontSize=38,this.btnManagerTab2.element.fontSize=30,this.btnManagerTab3.element.fontSize=30,this.btnManagerTab1.element.drawOrder=51,this.btnManagerTab2.element.drawOrder=61,this.btnManagerTab3.element.drawOrder=71,this.elementsManager.enabled=!0,this.elementsService.enabled=!1,this.elementsDuration.enabled=!1,this.sliderService.enabled=!1,this.sliderDuration.enabled=!1},ManagerPanels.prototype.onClickButtonManagerTab2=function(){this.panelManager.element.drawOrder=20,this.panelService.element.drawOrder=30,this.panelDuration.element.drawOrder=10,this.panelManager.setLocalPosition(0,-15,0),this.panelService.setLocalPosition(0,0,0),this.panelDuration.setLocalPosition(0,-15,0),this.btnManagerTab1.setLocalPosition(this.button1Pos.x,this.newButtonYPos,this.button1Pos.z),this.btnManagerTab2.setLocalPosition(this.button2Pos.x,this.button2Pos.y,this.button2Pos.z),this.btnManagerTab3.setLocalPosition(this.button3Pos.x,this.newButtonYPos,this.button3Pos.z),this.btnManagerTab1.element.fontSize=30,this.btnManagerTab2.element.fontSize=38,this.btnManagerTab3.element.fontSize=30,this.btnManagerTab1.element.drawOrder=61,this.btnManagerTab2.element.drawOrder=51,this.btnManagerTab3.element.drawOrder=71,this.elementsManager.enabled=!1,this.elementsService.enabled=!0,this.elementsDuration.enabled=!1,this.sliderService.enabled=!0,this.sliderDuration.enabled=!1},ManagerPanels.prototype.onClickButtonManagerTab3=function(){this.panelManager.element.drawOrder=20,this.panelService.element.drawOrder=10,this.panelDuration.element.drawOrder=30,this.panelManager.setLocalPosition(0,-15,0),this.panelService.setLocalPosition(0,-15,0),this.panelDuration.setLocalPosition(0,0,0),this.btnManagerTab1.setLocalPosition(this.button1Pos.x,this.newButtonYPos,this.button1Pos.z),this.btnManagerTab2.setLocalPosition(this.button2Pos.x,this.newButtonYPos,this.button2Pos.z),this.btnManagerTab3.setLocalPosition(this.button3Pos.x,this.button3Pos.y,this.button3Pos.z),this.btnManagerTab1.element.fontSize=30,this.btnManagerTab2.element.fontSize=30,this.btnManagerTab3.element.fontSize=38,this.btnManagerTab1.element.drawOrder=61,this.btnManagerTab2.element.drawOrder=71,this.btnManagerTab3.element.drawOrder=51,this.elementsManager.enabled=!1,this.elementsService.enabled=!1,this.elementsDuration.enabled=!0,this.sliderService.enabled=!1,this.sliderDuration.enabled=!0},ManagerPanels.prototype.updatePanels=function(){this.moneyDisplayFormatter||(this.moneyDisplayFormatter=this.app.root.findByName("@Money Display Formatter").script.moneyDisplayFormatter),this.updateManagerPanel(),this.txtManagerDescription.element.text="Automatic customer invitation\nfor "+~~(this.manager.serviceDuration/60*10)/10+" minutes",this.txtServiceUpgradeCost.element.text="$"+this.moneyDisplayFormatter.roundFormatEveryThirdPowerAsString(this.manager.serviceUpgradeCost),this.txtServiceDescription.element.text="Level "+this.manager.serviceUpgradeLevel+"\n+"+this.manager.servicePercentage+"% More Service Speed",this.txtDurationUpgradeCost.element.text="$"+this.moneyDisplayFormatter.roundFormatEveryThirdPowerAsString(this.manager.durationUpgradeCost),this.txtDurationDescription.element.text="Level "+this.manager.durationUpgradeLevel+"\n+"+this.manager.durationPercentage+"% More Duration",this.updateManagerPanelsScrollbars(),this.manager.serviceUpgradeLevel>=this.manager.maxManagerUpgradeLevel&&(this.txtServiceButton.enabled=!1,this.txtServiceMax.enabled=!0),this.manager.durationUpgradeLevel>=this.manager.maxManagerUpgradeLevel&&(this.txtDurationButton.enabled=!1,this.txtDurationMax.enabled=!0)},ManagerPanels.prototype.updateManagerPanel=function(t){this.manager||(this.manager=this.app.root.findByName("manager_collider").script.manager),this.manager.isCountDownEnabled||(this.manager.isServiceActive?(this.textActivateHolder.enabled&&(this.textActivateHolder.enabled=!1),!1===this.textTimerHolder.enabled&&(this.textTimerHolder.enabled=!0),this.manager.currentServiceDuration=this.manager.serviceDuration,this.manager.isCountDownEnabled=!0):(!1===this.textActivateHolder.enabled&&(this.textActivateHolder.enabled=!0),this.textTimerHolder.enabled&&(this.textTimerHolder.enabled=!1)))},ManagerPanels.prototype.updateActiveTimer=function(t){var e=~~(t%3600/60),a=~~t%60;this.textTime.element.text="",this.textTime.element.text+=e+":"+(a<10?"0":""),this.textTime.element.text+=""+a},ManagerPanels.prototype.updateManagerPanelsScrollbars=function(){this.scrollbarService.scrollbar.handleSize=this.manager.serviceUpgradeLevel/this.manager.maxManagerUpgradeLevel,this.scrollbarDuration.scrollbar.handleSize=this.manager.durationUpgradeLevel/this.manager.maxManagerUpgradeLevel},ManagerPanels.prototype.removeEvents=function(){this.btnManagerTab1.element.off("click",this.onClickButtonManagerTab1,this),this.btnManagerTab2.element.off("click",this.onClickButtonManagerTab2,this),this.btnManagerTab3.element.off("click",this.onClickButtonManagerTab3,this)};var Manager=pc.createScript("manager");Manager.attributes.add("isUnlocked",{type:"boolean"}),Manager.attributes.add("managerPanel",{type:"entity",title:"Manager Panel"}),Manager.attributes.add("isServiceActive",{type:"boolean",title:"Is Service Active"}),Manager.attributes.add("btnActivate",{type:"entity",title:"Button Activate"}),Manager.attributes.add("btnUpgradeService",{type:"entity",title:"Button Upgrade Service"}),Manager.attributes.add("btnUpgradeDuration",{type:"entity",title:"Button Upgrade Duration"}),Manager.attributes.add("serviceSpeed",{type:"number",title:"Service Speed"}),Manager.attributes.add("serviceDuration",{type:"number",title:"Service Duration"}),Manager.attributes.add("serviceDurationToAdd",{type:"number",title:"Service Duration To Add With Each Upgrade",default:30}),Manager.attributes.add("servicePercentage",{type:"number",title:"Service Percentage"}),Manager.attributes.add("durationPercentage",{type:"number",title:"Duration Percentage"}),Manager.attributes.add("servicePercentageGain",{type:"number",title:"Service Percentage Gain"}),Manager.attributes.add("durationPercentageGain",{type:"number",title:"Duration Percentage Gain"}),Manager.attributes.add("serviceUpgradeCost",{type:"number",title:"Service Upgrade Cost"}),Manager.attributes.add("durationUpgradeCost",{type:"number",title:"Duration Upgrade Cost"}),Manager.attributes.add("serviceUpgradeMultiplier",{type:"number",title:"Service Cost Upgrade Multiplier",default:2}),Manager.attributes.add("durationUpgradeMultiplier",{type:"number",title:"Duration Cost Upgrade Multiplier",default:2.5}),Manager.attributes.add("serviceUpgradeLevel",{type:"number",title:"Service Level"}),Manager.attributes.add("durationUpgradeLevel",{type:"number",title:"Duration Level"}),Manager.attributes.add("firstUpgradeEntity",{type:"entity",title:"First Upgrade Entity"}),Manager.attributes.add("secondUpgradeEntity",{type:"entity",title:"Second Upgrade Entity"}),Manager.prototype.initialize=function(){this.moneyManager=this.app.root.findByName("@Money Manager").script.moneyManager,this.achievements=this.app.root.findByName("@Achievements Controller").script.achievementsController,this.managerSaveManager=this.app.root.findByName("@Manager Save Manager").script.managerSaveManager,this.managerPanels=this.managerPanel.script.managerPanels,this.btnActivate.button.on("click",this.onClickActivate,this),this.btnUpgradeService.button.on("click",this.onClickUpgradeService,this),this.btnUpgradeDuration.button.on("click",this.onClickUpgradeDuration,this),this.initServiceUpgradeCost=this.serviceUpgradeCost,this.initDurationUpgradeCost=this.durationUpgradeCost,this.maxManagerUpgradeLevel=25,this.isUnlocked=!0,this.updateButtonsState(),this.updateManagerEntities();try{this.managerSaveManager.saveManager()}catch(e){console.log(e)}this.isCountDownEnabled=!1,this.currentServiceDuration=0},Manager.prototype.update=function(e){this.isCountDownEnabled&&(this.currentServiceDuration>0?(this.currentServiceDuration-=e,this.managerPanel.script.managerPanels.updateActiveTimer(this.currentServiceDuration)):(this.isServiceActive=!1,this.btnActivate.button.active=!0,this.isCountDownEnabled=!1,this.managerPanels.updatePanels()))},Manager.prototype.openManagerPanel=function(){this.managerPanels.entity.enabled=!0,PokiSDK.gameplayStop();try{localStorage.setItem("input",0)}catch(e){console.log(e)}PokiSDK.commercialBreak().then((()=>{PokiSDK.gameplayStart();try{localStorage.setItem("input",1)}catch(e){console.log(e)}})),this.managerPanels.updatePanels(),this.managerPanels.onClickButtonManagerTab1()},Manager.prototype.onClickActivate=function(){this.isServiceActive=!0,this.btnActivate.button.active=!1,this.managerPanels.updatePanels()},Manager.prototype.onClickUpgradeService=function(){this.serviceUpgradeLevel>=this.maxManagerUpgradeLevel||(this.moneyManager.totalMoney>=this.serviceUpgradeCost&&(this.moneyManager.subtractMoney(this.serviceUpgradeCost,!1),this.serviceUpgradeCost+=Math.round(this.serviceUpgradeCost/this.serviceUpgradeMultiplier),this.serviceUpgradeLevel++,this.servicePercentage+=this.servicePercentageGain,this.serviceSpeed=1-.03*this.serviceUpgradeLevel,this.managerPanel.script.managerPanels.updatePanels(),this.achievements.increaseManagerUpgradeCount()),this.updateButtonsState(),this.updateManagerEntities(),this.managerSaveManager.saveManager())},Manager.prototype.onClickUpgradeDuration=function(){this.durationUpgradeLevel>=this.maxManagerUpgradeLevel||(this.moneyManager.totalMoney>=this.durationUpgradeCost&&(this.moneyManager.subtractMoney(this.durationUpgradeCost,!1),this.durationUpgradeCost+=Math.round(this.durationUpgradeCost/this.durationUpgradeMultiplier),this.durationUpgradeLevel++,this.durationPercentage+=this.durationPercentageGain,this.serviceDuration+=this.serviceDurationToAdd,this.managerPanel.script.managerPanels.updatePanels(),this.achievements.increaseManagerUpgradeCount()),this.updateButtonsState(),this.updateManagerEntities(),this.managerSaveManager.saveManager())},Manager.prototype.updateManagerEntities=function(){var e=this.serviceUpgradeLevel+this.durationUpgradeLevel;e>=20&&this.secondUpgradeEntity?(this.secondUpgradeEntity.enabled=!0,this.firstUpgradeEntity.enabled=!1):e>=10&&this.firstUpgradeEntity&&(this.firstUpgradeEntity.enabled=!0)},Manager.prototype.getServiceSpeedBonus=function(){return this.servicePercentage/100},Manager.prototype.getDurationPercentage=function(){return this.durationPercentage/100},Manager.prototype.updateChairComfortabilityPercentage=function(){this.servicePercentage=this.servicePercentage*this.serviceUpgradeLevel},Manager.prototype.updateClipperSpeedPercentage=function(){this.durationPercentage=this.durationPercentage*this.durationUpgradeLevel},Manager.prototype.updateButtonsState=function(){this.moneyManager||(this.moneyManager=this.app.root.findByName("@Money Manager").script.moneyManager),this.moneyManager.totalMoney>=this.serviceUpgradeCost&&this.serviceUpgradeLevel<this.maxManagerUpgradeLevel?this.btnUpgradeService.button.active=!0:this.btnUpgradeService.button.active=!1,this.moneyManager.totalMoney>=this.durationUpgradeCost&&this.durationUpgradeLevel<this.maxManagerUpgradeLevel?this.btnUpgradeDuration.button.active=!0:this.btnUpgradeDuration.button.active=!1},Manager.prototype.updateOnLoad=function(){this.updateButtonsState(),this.updateManagerEntities()},Manager.prototype.removeEvents=function(){this.btnActivate.button.off("click",this.onClickActivate,this),this.btnUpgradeService.button.off("click",this.onClickUpgradeService,this),this.btnUpgradeDuration.button.off("click",this.onClickUpgradeDuration,this)};var ManagerPicker=pc.createScript("managerPicker");ManagerPicker.prototype.initialize=function(){this.app.mouse.on(pc.EVENT_MOUSEDOWN,this.onSelect,this),this.app.touch&&this.app.touch.on(pc.EVENT_TOUCHSTART,this.onTouchStart,this),this.panelController=this.app.root.findByName("@Panel Controller").script.panelController,this.cameraMovementButtons=this.app.root.findByName("ui_camera_move_buttons").script.cameraMovementButtons},ManagerPicker.prototype.onTouchStart=function(t){1==t.touches.length&&(this.onSelect(t.touches[0]),t.event.preventDefault())},ManagerPicker.prototype.onSelect=function(t){if(!this.panelController.isPanelOpen()&&!this.cameraMovementButtons.isHoldingButton){try{if(0===parseInt(localStorage.getItem("input")))return}catch(t){console.log(t)}var e=this.entity.camera.screenToWorld(t.x,t.y,this.entity.camera.nearClip),n=this.entity.camera.screenToWorld(t.x,t.y,this.entity.camera.farClip),o=this.panelController;this.app.systems.rigidbody.raycastFirst(e,n,(function(t){var e=t.entity;e.script&&e.script.manager&&(o.closeAllPanels(),e.script.manager.openManagerPanel())}))}},ManagerPicker.prototype.removeEvents=function(){this.app.mouse.off(pc.EVENT_MOUSEDOWN,this.onSelect,this),this.app.touch&&this.app.touch.off(pc.EVENT_TOUCHSTART,this.onSelect,this)};var ChairUpgradePanels=pc.createScript("chairUpgradePanels");ChairUpgradePanels.attributes.add("btnChairUpgradeTab1",{type:"entity",title:"Button Tab 1"}),ChairUpgradePanels.attributes.add("btnChairUpgradeTab2",{type:"entity",title:"Button Tab 2"}),ChairUpgradePanels.attributes.add("btnChairUpgradeTab3",{type:"entity",title:"Button Tab 3"}),ChairUpgradePanels.attributes.add("textCostUpgradeComfortability",{type:"entity",title:"Comfortability Cost Text"}),ChairUpgradePanels.attributes.add("textCostUpgradeSpeed",{type:"entity",title:"Speed Cost Text"}),ChairUpgradePanels.attributes.add("textCostUpgradePrecision",{type:"entity",title:"Precision Cost Text"}),ChairUpgradePanels.attributes.add("panelChair",{type:"entity",title:"Chair Panel"}),ChairUpgradePanels.attributes.add("panelClipper",{type:"entity",title:"Clipper Panel"}),ChairUpgradePanels.attributes.add("panelComb",{type:"entity",title:"Comb Panel"}),ChairUpgradePanels.attributes.add("elementsChair",{type:"entity",title:"Chair Elements"}),ChairUpgradePanels.attributes.add("elementsClipper",{type:"entity",title:"Clipper Elements"}),ChairUpgradePanels.attributes.add("elementsComb",{type:"entity",title:"Comb Elements"}),ChairUpgradePanels.attributes.add("descriptionTextChair",{type:"entity",title:"Chair Description Text"}),ChairUpgradePanels.attributes.add("descriptionTextClipper",{type:"entity",title:"Clipper Description Text"}),ChairUpgradePanels.attributes.add("descriptionTextComb",{type:"entity",title:"Comb Description Text"}),ChairUpgradePanels.attributes.add("sliderChair",{type:"entity",title:"Chair Slider"}),ChairUpgradePanels.attributes.add("sliderClipper",{type:"entity",title:"Clipper Slider"}),ChairUpgradePanels.attributes.add("sliderComb",{type:"entity",title:"Comb Slider"}),ChairUpgradePanels.attributes.add("txtMegaUpgradeChair",{type:"entity",title:"Chair Mega Upgrade Text"}),ChairUpgradePanels.attributes.add("txtMegaUpgradeClipper",{type:"entity",title:"Clipper Mega Upgrade Text"}),ChairUpgradePanels.attributes.add("txtMegaUpgradeComb",{type:"entity",title:"Comb Mega Upgrade Text"}),ChairUpgradePanels.attributes.add("scrollbarComfortability",{type:"entity",title:"Comfortability Scrollbar"}),ChairUpgradePanels.attributes.add("scrollbarSpeed",{type:"entity",title:"Speed Scrollbar"}),ChairUpgradePanels.attributes.add("scrollbarPrecision",{type:"entity",title:"Precision Scrollbar"}),ChairUpgradePanels.prototype.initialize=function(){this.panelController=this.app.root.findByName("@Panel Controller").script.panelController,this.moneyManager=this.app.root.findByName("@Money Manager").script.moneyManager,this.moneyDisplayFormatter=this.app.root.findByName("@Money Display Formatter").script.moneyDisplayFormatter,this.btnChairUpgradeTab1.element.on("click",this.onClickButtonChairUpgradeTab1,this),this.btnChairUpgradeTab2.element.on("click",this.onClickButtonChairUpgradeTab2,this),this.btnChairUpgradeTab3.element.on("click",this.onClickButtonChairUpgradeTab3,this),this.button1Pos=this.btnChairUpgradeTab1.getLocalPosition(),this.button2Pos=this.btnChairUpgradeTab2.getLocalPosition(),this.button3Pos=this.btnChairUpgradeTab3.getLocalPosition(),this.newButtonYPos=10+this.button1Pos.y},ChairUpgradePanels.prototype.onClickButtonChairUpgradeTab1=function(){this.panelChair.element.drawOrder=30,this.panelClipper.element.drawOrder=20,this.panelComb.element.drawOrder=10,this.panelChair.setLocalPosition(0,0,0),this.panelClipper.setLocalPosition(0,-15,0),this.panelComb.setLocalPosition(0,-15,0),this.btnChairUpgradeTab1.setLocalPosition(this.button1Pos.x,this.button1Pos.y,this.button1Pos.z),this.btnChairUpgradeTab2.setLocalPosition(this.button2Pos.x,this.newButtonYPos,this.button2Pos.z),this.btnChairUpgradeTab3.setLocalPosition(this.button3Pos.x,this.newButtonYPos,this.button3Pos.z),this.btnChairUpgradeTab1.element.fontSize=38,this.btnChairUpgradeTab2.element.fontSize=30,this.btnChairUpgradeTab3.element.fontSize=30,this.btnChairUpgradeTab1.element.drawOrder=51,this.btnChairUpgradeTab2.element.drawOrder=61,this.btnChairUpgradeTab3.element.drawOrder=71,this.elementsChair.enabled=!0,this.elementsClipper.enabled=!1,this.elementsComb.enabled=!1,this.sliderChair.enabled=!0,this.sliderClipper.enabled=!1,this.sliderComb.enabled=!1},ChairUpgradePanels.prototype.onClickButtonChairUpgradeTab2=function(){this.panelChair.element.drawOrder=20,this.panelClipper.element.drawOrder=30,this.panelComb.element.drawOrder=10,this.panelChair.setLocalPosition(0,-15,0),this.panelClipper.setLocalPosition(0,0,0),this.panelComb.setLocalPosition(0,-15,0),this.btnChairUpgradeTab1.setLocalPosition(this.button1Pos.x,this.newButtonYPos,this.button1Pos.z),this.btnChairUpgradeTab2.setLocalPosition(this.button2Pos.x,this.button2Pos.y,this.button2Pos.z),this.btnChairUpgradeTab3.setLocalPosition(this.button3Pos.x,this.newButtonYPos,this.button3Pos.z),this.btnChairUpgradeTab1.element.fontSize=30,this.btnChairUpgradeTab2.element.fontSize=38,this.btnChairUpgradeTab3.element.fontSize=30,this.btnChairUpgradeTab1.element.drawOrder=61,this.btnChairUpgradeTab2.element.drawOrder=51,this.btnChairUpgradeTab3.element.drawOrder=71,this.elementsChair.enabled=!1,this.elementsClipper.enabled=!0,this.elementsComb.enabled=!1,this.sliderChair.enabled=!1,this.sliderClipper.enabled=!0,this.sliderComb.enabled=!1},ChairUpgradePanels.prototype.onClickButtonChairUpgradeTab3=function(){this.panelChair.element.drawOrder=20,this.panelClipper.element.drawOrder=10,this.panelComb.element.drawOrder=30,this.panelChair.setLocalPosition(0,-15,0),this.panelClipper.setLocalPosition(0,-15,0),this.panelComb.setLocalPosition(0,0,0),this.btnChairUpgradeTab1.setLocalPosition(this.button1Pos.x,this.newButtonYPos,this.button1Pos.z),this.btnChairUpgradeTab2.setLocalPosition(this.button2Pos.x,this.newButtonYPos,this.button2Pos.z),this.btnChairUpgradeTab3.setLocalPosition(this.button3Pos.x,this.button3Pos.y,this.button3Pos.z),this.btnChairUpgradeTab1.element.fontSize=30,this.btnChairUpgradeTab2.element.fontSize=30,this.btnChairUpgradeTab3.element.fontSize=38,this.btnChairUpgradeTab1.element.drawOrder=61,this.btnChairUpgradeTab2.element.drawOrder=71,this.btnChairUpgradeTab3.element.drawOrder=51,this.elementsChair.enabled=!1,this.elementsClipper.enabled=!1,this.elementsComb.enabled=!0,this.sliderChair.enabled=!1,this.sliderClipper.enabled=!1,this.sliderComb.enabled=!0},ChairUpgradePanels.prototype.updatePanels=function(e){this.moneyDisplayFormatter||(this.moneyDisplayFormatter=this.app.root.findByName("@Money Display Formatter").script.moneyDisplayFormatter),this.textCostUpgradeComfortability.element.text="$"+this.moneyDisplayFormatter.roundFormatEveryThirdPowerAsString(e.comfortabilityUpgradeCost),this.textCostUpgradeSpeed.element.text="$"+this.moneyDisplayFormatter.roundFormatEveryThirdPowerAsString(e.speedUpgradeCost),this.textCostUpgradePrecision.element.text="$"+this.moneyDisplayFormatter.roundFormatEveryThirdPowerAsString(e.precisionUpgradeCost),this.descriptionTextChair.element.text="Level "+e.comfortabilityLevel+"\n+"+e.displayComfortability+"% Comfortability",this.descriptionTextClipper.element.text="Level "+e.speedLevel+"\n+"+e.displaySpeed+"% More Speed",this.descriptionTextComb.element.text="Level "+e.precisionLevel+"\n+"+e.displayPrecision+"% More Precision",this.txtMegaUpgradeChair.element.text="Mega upgrade at Level "+(25+25*Math.floor(e.comfortabilityLevel/25)),this.txtMegaUpgradeClipper.element.text="Mega upgrade at Level "+(25+25*Math.floor(e.speedLevel/25)),this.txtMegaUpgradeComb.element.text="Mega upgrade at Level "+(25+25*Math.floor(e.precisionLevel/25)),this.updateScrollbars(e)},ChairUpgradePanels.prototype.updateScrollbars=function(e){this.scrollbarComfortability.scrollbar.handleSize=e.comfortabilityLevel/25-Math.floor(e.comfortabilityLevel/25),this.scrollbarSpeed.scrollbar.handleSize=e.speedLevel/25-Math.floor(e.speedLevel/25),this.scrollbarPrecision.scrollbar.handleSize=e.precisionLevel/25-Math.floor(e.precisionLevel/25)},ChairUpgradePanels.prototype.removeEvents=function(){this.btnChairUpgradeTab1.element.off("click",this.onClickButtonChairUpgradeTab1,this),this.btnChairUpgradeTab2.element.off("click",this.onClickButtonChairUpgradeTab2,this),this.btnChairUpgradeTab3.element.off("click",this.onClickButtonChairUpgradeTab3,this)};var ChairPicker=pc.createScript("chairPicker");ChairPicker.prototype.initialize=function(){this.app.mouse.on(pc.EVENT_MOUSEDOWN,this.onSelect,this),this.app.touch&&this.app.touch.on(pc.EVENT_TOUCHSTART,this.onTouchStart,this),this.panelController=this.app.root.findByName("@Panel Controller").script.panelController,this.cameraMovementButtons=this.app.root.findByName("ui_camera_move_buttons").script.cameraMovementButtons},ChairPicker.prototype.onTouchStart=function(t){1==t.touches.length&&(this.onSelect(t.touches[0]),t.event.preventDefault())},ChairPicker.prototype.onSelect=function(t){if(!this.panelController.isPanelOpen()&&!this.cameraMovementButtons.isHoldingButton){try{if(0===parseInt(localStorage.getItem("input")))return}catch(t){console.log(t)}var e=this.entity.camera.screenToWorld(t.x,t.y,this.entity.camera.nearClip),i=this.entity.camera.screenToWorld(t.x,t.y,this.entity.camera.farClip),o=this.panelController;this.app.systems.rigidbody.raycastFirst(e,i,(function(t){var e=t.entity;e.script&&e.script.chair&&(o.closeAllPanels(),e.script.chair.openChairPanel())}))}},ChairPicker.prototype.removeEvents=function(){this.app.mouse.off(pc.EVENT_MOUSEDOWN,this.onSelect,this),this.app.touch&&this.app.touch.off(pc.EVENT_TOUCHSTART,this.onSelect,this)};var Chair=pc.createScript("chair");Chair.attributes.add("id",{type:"number",title:"ID"}),Chair.attributes.add("carpet",{type:"entity",title:"Carpet"}),Chair.attributes.add("upgradePanels",{type:"entity",title:"Chair Panel"}),Chair.attributes.add("btnUpgradeComfortability",{type:"entity",title:"Upgrade Comfortability Button"}),Chair.attributes.add("btnUpgradeSpeed",{type:"entity",title:"Upgrade Speed Button"}),Chair.attributes.add("btnUpgradePrecision",{type:"entity",title:"Upgrade Precision Button"}),Chair.attributes.add("comfortability",{type:"number",title:"Comfortability"}),Chair.attributes.add("speed",{type:"number",title:"Speed"}),Chair.attributes.add("precision",{type:"number",title:"Precision"}),Chair.attributes.add("comfortabilityLevel",{type:"number",title:"Comfortability Level"}),Chair.attributes.add("speedLevel",{type:"number",title:"Speed Level"}),Chair.attributes.add("precisionLevel",{type:"number",title:"Precision Level"}),Chair.attributes.add("initProductivityMultiplier",{type:"number",title:"Initial Productivity Multiplier %",default:1}),Chair.attributes.add("initComfortabilityPercentage",{type:"number",title:"Init Comfortability Percentage %",default:10}),Chair.attributes.add("initSpeedPercentage",{type:"number",title:"Init Speed Percentage %",default:6}),Chair.attributes.add("initPrecisionPercentage",{type:"number",title:"Init Precision Percentage %",default:10}),Chair.attributes.add("comfortabilityPercentageToAdd",{type:"number",title:"Add omfortability Percentage %",default:5}),Chair.attributes.add("speedPercentageToAdd",{type:"number",title:"Add Speed Percentage %",default:3}),Chair.attributes.add("precisionPercentageToAdd",{type:"number",title:"Add Precision Percentage %",default:5}),Chair.attributes.add("comfortabilityUpgradeCost",{type:"number",title:"Comfortability Upgrade Cost"}),Chair.attributes.add("speedUpgradeCost",{type:"number",title:"Speed Upgrade Cost"}),Chair.attributes.add("precisionUpgradeCost",{type:"number",title:"Precision Upgrade Cost"}),Chair.attributes.add("comfortabilityUpgradeMultiplier",{type:"number",title:"Comfortability Upgrade Multiplier",default:.06}),Chair.attributes.add("speedUpgradeMultiplier",{type:"number",title:"Speed Upgrade Multiplier",default:.09}),Chair.attributes.add("precisionUpgradeMultiplier",{type:"number",title:"Precision Upgrade Multiplier",default:.075}),Chair.attributes.add("displayInitComfortabilityPercentage",{type:"number",title:"Display Init Comfortability Percentage %",default:10}),Chair.attributes.add("displayInitSpeedPercentage",{type:"number",title:"Display Init Speed Percentage %",default:6}),Chair.attributes.add("displayInitPrecisionPercentage",{type:"number",title:"Display Init Precision Percentage %",default:10}),Chair.attributes.add("displayComfortabilityToAdd",{type:"number",title:"Disply Comf % To Add",default:5}),Chair.attributes.add("displaySpeedToAdd",{type:"number",title:"Disply Speed % To Add",default:3}),Chair.attributes.add("displayPrecisionToAdd",{type:"number",title:"Disply Precision % To Add",default:5}),Chair.attributes.add("tutorialEntity",{type:"entity",title:"Tutorial"}),Chair.prototype.initialize=function(){this.panelController=this.app.root.findByName("@Panel Controller").script.panelController,this.moneyManager=this.app.root.findByName("@Money Manager").script.moneyManager,this.achievements=this.app.root.findByName("@Achievements Controller").script.achievementsController,this.chairSaveManager=this.app.root.findByName("@Chair Save Manager").script.chairSaveManager,this.productionCap=this.app.root.findByName("@Production Cap").script.productionCap,this.waitLine=this.carpet.script.waitLine,this.tutorialEntity&&(this.tutorial=this.tutorialEntity.script.tutorial),this.comfortability=this.initComfortabilityPercentage,this.speed=this.initSpeedPercentage,this.precision=this.initPrecisionPercentage,this.displayComfortability=this.displayInitComfortabilityPercentage,this.displaySpeed=this.displayInitSpeedPercentage,this.displayPrecision=this.displayInitPrecisionPercentage,this.nextMegaUpgrade=25},Chair.prototype.postInitialize=function(){try{this.chairSaveManager.loadData&&this.chairSaveManager.loadChair(this)}catch(t){console.log(t)}},Chair.prototype.openChairPanel=function(){if(!this.tutorialEntity||!1!==this.tutorial.isTut1Finished&&!1!==this.tutorial.isTut2Finished){this.disableButtonEvents(),this.btnUpgradeComfortability.button.on("click",this.onUpgradeComfortability,this),this.btnUpgradeSpeed.button.on("click",this.onUpgradeSpeed,this),this.btnUpgradePrecision.button.on("click",this.onUpgradePrecision,this),this.upgradePanels.enabled=!0,PokiSDK.gameplayStop();try{localStorage.setItem("input",0)}catch(t){console.log(t)}PokiSDK.commercialBreak().then((()=>{PokiSDK.gameplayStart();try{localStorage.setItem("input",1)}catch(t){console.log(t)}})),this.upgradePanels.script.selectedChair.setChair(this.entity),this.upgradePanels.script.chairUpgradePanels.onClickButtonChairUpgradeTab1(),this.upgradePanels.script.chairUpgradePanels.updatePanels(this),this.updateButtonStates(),this.tutorialEntity&&!1===this.tutorial.isTut3Finished&&this.tutorial.tut3.enabled&&(this.tutorial.tut3Goal--,this.tutorial.checkTutorialStates())}},Chair.prototype.onUpgradeComfortability=function(){if(this.moneyManager.totalMoney>=this.comfortabilityUpgradeCost){var t=this.waitLine.getProduction();this.moneyManager.subtractMoney(this.comfortabilityUpgradeCost,!0),this.comfortabilityLevel++,this.comfortability+=this.comfortabilityPercentageToAdd,this.displayComfortability+=this.displayComfortabilityToAdd;var i=this.comfortabilityUpgradeCost*this.comfortabilityUpgradeMultiplier,e=this.comfortabilityUpgradeCost+i,a=Math.round(100*(e+Number.EPSILON))/100;this.comfortabilityUpgradeCost=a;var r=this.waitLine.getProduction()-t;r>0&&this.productionCap.addProductionCap(r),this.upgradePanels.script.chairUpgradePanels.updatePanels(this),this.achievements.increaseUpgradeCount(),this.chairSaveManager.saveChair(this)}},Chair.prototype.onUpgradeSpeed=function(){if(this.moneyManager.totalMoney>=this.speedUpgradeCost){var t=this.waitLine.getProduction();this.moneyManager.subtractMoney(this.speedUpgradeCost,!0),this.speedLevel++,this.speed+=this.speedPercentageToAdd,this.displaySpeed+=this.displaySpeedToAdd;var i=this.speedUpgradeCost*this.speedUpgradeMultiplier,e=this.speedUpgradeCost+i,a=Math.round(100*(e+Number.EPSILON))/100;this.speedUpgradeCost=a;var r=this.waitLine.getProduction()-t;r>0&&this.productionCap.addProductionCap(r),this.upgradePanels.script.chairUpgradePanels.updatePanels(this),this.achievements.increaseUpgradeCount(),this.chairSaveManager.saveChair(this)}},Chair.prototype.onUpgradePrecision=function(){if(this.moneyManager.totalMoney>=this.precisionUpgradeCost){var t=this.waitLine.getProduction();this.moneyManager.subtractMoney(this.precisionUpgradeCost,!0),this.precisionLevel++,this.precision+=this.precisionPercentageToAdd,this.displayPrecision+=this.displayPrecisionToAdd;var i=this.precisionUpgradeCost*this.precisionUpgradeMultiplier,e=this.precisionUpgradeCost+i,a=Math.round(100*(e+Number.EPSILON))/100;this.precisionUpgradeCost=a;var r=this.waitLine.getProduction()-t;r>0&&this.productionCap.addProductionCap(r),this.upgradePanels.script.chairUpgradePanels.updatePanels(this),this.achievements.increaseUpgradeCount(),this.chairSaveManager.saveChair(this)}},Chair.prototype.updateButtonStates=function(){this.moneyManager.totalMoney>=this.comfortabilityUpgradeCost?this.btnUpgradeComfortability.button.active=!0:this.btnUpgradeComfortability.button.active=!1,this.moneyManager.totalMoney>=this.speedUpgradeCost?this.btnUpgradeSpeed.button.active=!0:this.btnUpgradeSpeed.button.active=!1,this.moneyManager.totalMoney>=this.precisionUpgradeCost?this.btnUpgradePrecision.button.active=!0:this.btnUpgradePrecision.button.active=!1},Chair.prototype.upgradeRandomly=function(t){var e=0,a=0,r=0,o=0,s=0,d=0;for(i=0;i<t;i++)0===(e=Math.floor(3*Math.random()))?(d=this.waitLine.getProduction(),this.comfortabilityLevel++,this.comfortability+=this.comfortabilityPercentageToAdd,this.displayComfortability+=this.displayComfortabilityToAdd,a=this.comfortabilityUpgradeCost*this.comfortabilityUpgradeMultiplier,r=this.comfortabilityUpgradeCost+a,o=Math.round(100*(r+Number.EPSILON))/100,this.comfortabilityUpgradeCost=o,(s=this.waitLine.getProduction()-d)>0&&this.productionCap.addProductionCap(s)):1===e?(d=this.waitLine.getProduction(),this.speedLevel++,this.speed+=this.speedPercentageToAdd,this.displaySpeed+=this.displaySpeedToAdd,a=this.speedUpgradeCost*this.speedUpgradeMultiplier,r=this.speedUpgradeCost+a,o=Math.round(100*(r+Number.EPSILON))/100,this.speedUpgradeCost=o,(s=this.waitLine.getProduction()-d)>0&&this.productionCap.addProductionCap(s)):e>=2&&(d=this.waitLine.getProduction(),this.precisionLevel++,this.precision+=this.precisionPercentageToAdd,this.displayPrecision+=this.displayPrecisionToAdd,a=this.precisionUpgradeCost*this.precisionUpgradeMultiplier,r=this.precisionUpgradeCost+a,o=Math.round(100*(r+Number.EPSILON))/100,precisionUpgradeCost=o,(s=this.waitLine.getProduction()-d)>0&&this.productionCap.addProductionCap(s));this.upgradePanels.script.chairUpgradePanels.updatePanels(this),this.achievements.increaseUpgradeCount(),this.chairSaveManager.saveChair(this)},Chair.prototype.disableButtonEvents=function(){this.btnUpgradeComfortability.button.off("click",this.onUpgradeComfortability,this),this.btnUpgradeSpeed.button.off("click",this.onUpgradeSpeed,this),this.btnUpgradePrecision.button.off("click",this.onUpgradePrecision,this)};var SelectedChair=pc.createScript("selectedChair");SelectedChair.attributes.add("currentSelectedChair",{type:"entity",title:"Current Selected Chair"}),SelectedChair.prototype.initialize=function(){this.currentSelectedChair=null},SelectedChair.prototype.getChair=function(){if(this.currentSelectedChair)return this.currentSelectedChair},SelectedChair.prototype.setChair=function(e){this.currentSelectedChair=e};var EntrywayRug=pc.createScript("entrywayRug");EntrywayRug.attributes.add("spawnCooldown",{type:"number",default:1,title:"Spawn Cooldown Timer"}),EntrywayRug.attributes.add("rugModel",{type:"entity",title:"Carpet"}),EntrywayRug.attributes.add("materials",{type:"asset",assetType:"material",array:!0,title:"Carpet Materials"}),EntrywayRug.attributes.add("managerEntity",{type:"entity",title:"Manager"}),EntrywayRug.attributes.add("tutorialEntity",{type:"entity",title:"Tutorial"}),EntrywayRug.prototype.initialize=function(){this.customerSpawner=this.app.root.findByName("@Customer Spawner").script.customerSpawner,this.achievements=this.app.root.findByName("@Achievements Controller").script.achievementsController,this.tutorialEntity&&(this.tutorial=this.tutorialEntity.script.tutorial),this.manager=this.managerEntity.script.manager,this.cooldown=0},EntrywayRug.prototype.update=function(t){this.cooldown>0?this.cooldown-=2*t:this.rugModel.model.meshInstances[2].material!==this.materials[1].resource&&this.resetColors()},EntrywayRug.prototype.spawnNewCustomer=function(){this.manager.isServiceActive||this.cooldown>0||(this.flashColor(),this.customerSpawner.spawnCustomer(),this.cooldown=this.spawnCooldown,this.tutorialEntity&&!1===this.tutorial.isTut1Finished&&this.tutorial.tut1.enabled&&(this.tutorial.tut1Goal--,this.tutorial.checkTutorialStates()),this.achievements.increaseCustomersInvited())},EntrywayRug.prototype.flashColor=function(){for(var t=this.materials[0],e=this.rugModel.model.meshInstances,a=0;a<e.length;++a){e[a].material=t.resource}},EntrywayRug.prototype.resetColors=function(){var t=this.rugModel.model.meshInstances;t[1].material=this.materials[0].resource,t[2].material=this.materials[1].resource};var EntrywayRugPicker=pc.createScript("entrywayRugPicker");EntrywayRugPicker.prototype.initialize=function(){this.app.mouse.on(pc.EVENT_MOUSEDOWN,this.onSelect,this),this.app.touch&&this.app.touch.on(pc.EVENT_TOUCHSTART,this.onTouchStart,this),this.panelController=this.app.root.findByName("@Panel Controller").script.panelController},EntrywayRugPicker.prototype.onTouchStart=function(t){1==t.touches.length&&(this.onSelect(t.touches[0]),t.event.preventDefault())},EntrywayRugPicker.prototype.onSelect=function(t){if(!this.panelController.isPanelOpen()){try{if(0===parseInt(localStorage.getItem("input")))return}catch(t){console.log(t)}var e=this.entity.camera.screenToWorld(t.x,t.y,this.entity.camera.nearClip),r=this.entity.camera.screenToWorld(t.x,t.y,this.entity.camera.farClip);this.panelController;this.app.systems.rigidbody.raycastFirst(e,r,(function(t){var e=t.entity;e.script&&e.script.entrywayRug&&e.script.entrywayRug.spawnNewCustomer()}))}},EntrywayRugPicker.prototype.removeEvents=function(){this.app.mouse.off(pc.EVENT_MOUSEDOWN,this.onSelect,this),this.app.touch&&this.app.touch.off(pc.EVENT_TOUCHSTART,this.onSelect,this)};var CarpetChooser=pc.createScript("carpetChooser");CarpetChooser.attributes.add("speedFactor",{type:"number",default:.2,title:"Click Speed Factor"}),CarpetChooser.attributes.add("clickCooldown",{type:"number",default:.1,title:"Click Cooldown Timer"}),CarpetChooser.attributes.add("carpetModel",{type:"entity",title:"Carpet"}),CarpetChooser.attributes.add("materials",{type:"asset",assetType:"material",array:!0,title:"Carpet Materials"}),CarpetChooser.attributes.add("carpet",{type:"entity",title:"WaitLine Entity"}),CarpetChooser.attributes.add("tutorialEntity",{type:"entity",title:"Tutorial"}),CarpetChooser.prototype.initialize=function(){this.achievements=this.app.root.findByName("@Achievements Controller").script.achievementsController,this.tutorialEntity&&(this.tutorial=this.tutorialEntity.script.tutorial),this.cooldown=0,this.waitLineSpeedCooldown=0,this.waitLine=this.carpet.script.waitLine},CarpetChooser.prototype.update=function(t){this.cooldown>0?this.cooldown-=2*t:this.carpetModel.model.meshInstances[1].material!==this.materials[1].resource&&this.resetColors(),this.waitLineSpeedCooldown>0?this.waitLineSpeedCooldown-=t:this.waitLine.speedMultiplier>1&&(this.waitLine.speedMultiplier=1)},CarpetChooser.prototype.increaseBarberEfficiency=function(){var t;this.cooldown=this.clickCooldown,this.waitLine||(this.waitLine=this.carpet.script.waitLine),this.waitLineSpeedCooldown=.2,this.waitLine.speedMultiplier=2,this.waitLine.getFirstCustomer()&&(t=this.waitLine.getFirstCustomer().script.customer),t&&t.increaseCustomerSpeed(),this.waitLine.customerGettingHaircut&&this.waitLine.customerGettingHaircut.increaseCustomerSpeed(this.speedFactor/10),this.tutorialEntity&&!1===this.tutorial.isTut2Finished&&this.tutorial.tut2.enabled&&(this.tutorial.tut2Goal--,this.tutorial.checkTutorialStates()),this.flashColor()},CarpetChooser.prototype.flashColor=function(){for(var t=this.materials[0],e=this.carpetModel.model.meshInstances,i=0;i<e.length;++i){e[i].material=t.resource}},CarpetChooser.prototype.resetColors=function(){var t=this.carpetModel.model.meshInstances;t[0].material=this.materials[0].resource,t[1].material=this.materials[1].resource};var CarpetPicker=pc.createScript("carpetPicker");CarpetPicker.prototype.initialize=function(){this.app.mouse.on(pc.EVENT_MOUSEDOWN,this.onSelect,this),this.app.touch&&this.app.touch.on(pc.EVENT_TOUCHSTART,this.onTouchStart,this),this.panelController=this.app.root.findByName("@Panel Controller").script.panelController,this.cameraMovementButtons=this.app.root.findByName("ui_camera_move_buttons").script.cameraMovementButtons},CarpetPicker.prototype.onTouchStart=function(t){1==t.touches.length&&(this.onSelect(t.touches[0]),t.event.preventDefault())},CarpetPicker.prototype.onSelect=function(t){if(!this.panelController.isPanelOpen()&&!this.cameraMovementButtons.isHoldingButton){try{if(0===parseInt(localStorage.getItem("input")))return}catch(t){console.log(t)}var e=this.entity.camera.screenToWorld(t.x,t.y,this.entity.camera.nearClip),o=this.entity.camera.screenToWorld(t.x,t.y,this.entity.camera.farClip);this.panelController;this.app.systems.rigidbody.raycastFirst(e,o,(function(t){var e=t.entity;e.script&&e.script.carpetChooser&&e.script.carpetChooser.increaseBarberEfficiency()}))}},CarpetPicker.prototype.removeEvents=function(){this.app.mouse.off(pc.EVENT_MOUSEDOWN,this.onSelect,this),this.app.touch&&this.app.touch.off(pc.EVENT_TOUCHSTART,this.onSelect,this)};var AnimateFan=pc.createScript("animateFan");AnimateFan.attributes.add("body",{type:"entity",title:"Fan Body"}),AnimateFan.attributes.add("blade",{type:"entity",title:"Fan Blade"}),AnimateFan.attributes.add("bodyduration",{type:"number",default:1}),AnimateFan.attributes.add("bodyeasing",{type:"string",default:"Linear"}),AnimateFan.attributes.add("bodydelay",{type:"number",default:0}),AnimateFan.attributes.add("bodyloop",{type:"boolean",default:!0}),AnimateFan.attributes.add("bodyyoyo",{type:"boolean",default:!0}),AnimateFan.attributes.add("bodyrepeat",{type:"number",default:1}),AnimateFan.attributes.add("bladeduration",{type:"number",default:1}),AnimateFan.attributes.add("bladeeasing",{type:"string",default:"Linear"}),AnimateFan.attributes.add("bladedelay",{type:"number",default:0}),AnimateFan.attributes.add("bladeloop",{type:"boolean",default:!0}),AnimateFan.attributes.add("bladeyoyo",{type:"boolean",default:!0}),AnimateFan.attributes.add("bladerepeat",{type:"number",default:1}),AnimateFan.prototype.initialize=function(){this.bodyRot=this.body.getLocalRotation(),this.bladeRot=this.blade.getLocalRotation(),this.tweenBody(),this.tweenBlades()},AnimateFan.prototype.update=function(t){},AnimateFan.prototype.tweenBody=function(){var t=null;t&&t.stop(),this.body.setLocalEulerAngles(0,40,0),t=this.body.tween(this.body.getLocalRotation()).rotate(new pc.Vec3(this.bodyRot.x,-40,this.bodyRot.z),this.bodyduration,pc[this.bodyeasing]).delay(this.bodydelay).loop(this.bodyloop).yoyo(this.bodyyoyo),this.bodyloop||t.repeat(this.bodyrepeat),t.start()},AnimateFan.prototype.tweenBlades=function(){var t=null;t&&t.stop(),this.blade.setLocalEulerAngles(0,0,0),t=this.blade.tween(this.blade.getLocalRotation()).rotate(new pc.Vec3(-180,this.bladeRot.y,this.bladeRot.z),this.bladeduration,pc[this.bladeeasing]).delay(this.bladedelay).loop(this.bladeloop).yoyo(this.bladeyoyo),this.bladeloop||t.repeat(this.bladerepeat),t.start()};var Uitop=pc.createScript("uitop");Uitop.attributes.add("sceneManagerEntity",{type:"entity",title:"Scene Manager"}),Uitop.attributes.add("btnWorldMap",{type:"entity",title:"World Map Button"}),Uitop.attributes.add("bntHairstyles",{type:"entity",title:"Hairstyles Button"}),Uitop.attributes.add("btnAchievements",{type:"entity",title:"Achievements Button"}),Uitop.attributes.add("btnChests",{type:"entity",title:"Chests Button"}),Uitop.attributes.add("btnSettings",{type:"entity",title:"Settings Button"}),Uitop.attributes.add("panelHairstyles",{type:"entity",title:"HairstylesPanel"}),Uitop.attributes.add("panelAchievements",{type:"entity",title:"AchievementsPanel"}),Uitop.attributes.add("panelChests",{type:"entity",title:"ChestsPanel"}),Uitop.attributes.add("panelSettings",{type:"entity",title:"SettingsPanel"}),Uitop.attributes.add("exclamationMark",{type:"entity",title:"Achievement Exlamation Mark"}),Uitop.attributes.add("tutorialEntity",{type:"entity",title:"Tutorial"}),Uitop.attributes.add("cityName",{type:"string",title:"City Scene Name"}),Uitop.prototype.initialize=function(){this.panelController=this.app.root.findByName("@Panel Controller").script.panelController,this.hairstylesUpgrade=this.app.root.findByName("Hairstyles Upgrade Board Panel").script.hairstylesUpgrade,this.achievementsPanel=this.panelAchievements.script.achievementsPanel,this.sceneManager=this.sceneManagerEntity.script.sceneManager,this.productionCap=this.app.root.findByName("@Production Cap").script.productionCap,this.tutorialEntity&&(this.tutorial=this.tutorialEntity.script.tutorial),this.btnPlanet=this.app.root.findByName("btn_planet").button,this.btnWorldMap.element.on("click",this.onClickButtonWorldMap,this),this.bntHairstyles.element.on("click",this.onClickButtonHairstyles,this),this.btnAchievements.element.on("click",this.onClickButtonAchievements,this),this.btnChests.element.on("click",this.onClickButtonChests,this),this.btnSettings.element.on("click",this.onClickButtonSettings,this),this.btnPlanet.on("click",this.onClickButtonPlanet,this)},Uitop.prototype.onClickButtonWorldMap=function(){try{if(0===parseInt(localStorage.getItem("input")))return}catch(t){console.log(t)}this.panelController.closeAllPanels(),this.productionCap.stopUpdate=!0,this.sceneManager.loadSceneWithName(this.cityName);try{localStorage.setItem("input",0)}catch(t){console.log(t)}},Uitop.prototype.onClickButtonHairstyles=function(){try{if(0===parseInt(localStorage.getItem("input")))return}catch(t){console.log(t)}this.panelController.closeAllPanels(),this.panelHairstyles.enabled=!0,PokiSDK.gameplayStop();try{localStorage.setItem("input",0)}catch(t){console.log(t)}PokiSDK.commercialBreak().then((()=>{PokiSDK.gameplayStart();try{localStorage.setItem("input",1)}catch(t){console.log(t)}})),this.hairstylesUpgrade.updateHairstyleStates(),this.tutorialEntity&&!1===this.tutorial.isTut5Finished&&this.tutorial.tut5.enabled&&(this.tutorial.tut5Goal--,this.tutorial.checkTutorialStates())},Uitop.prototype.onClickButtonAchievements=function(){try{if(0===parseInt(localStorage.getItem("input")))return}catch(t){console.log(t)}this.panelController.closeAllPanels(),this.achievementsPanel.updateAchievements(),this.panelAchievements.enabled=!0,PokiSDK.gameplayStop();try{localStorage.setItem("input",0)}catch(t){console.log(t)}PokiSDK.commercialBreak().then((()=>{PokiSDK.gameplayStart();try{localStorage.setItem("input",1)}catch(t){console.log(t)}}))},Uitop.prototype.onClickButtonChests=function(){try{if(0===parseInt(localStorage.getItem("input")))return}catch(t){console.log(t)}this.panelController.closeAllPanels(),this.panelChests.enabled=!0,PokiSDK.gameplayStop();try{localStorage.setItem("input",0)}catch(t){console.log(t)}PokiSDK.commercialBreak().then((()=>{PokiSDK.gameplayStart();try{localStorage.setItem("input",1)}catch(t){console.log(t)}}))},Uitop.prototype.onClickButtonSettings=function(){try{if(0===parseInt(localStorage.getItem("input")))return}catch(t){console.log(t)}this.panelController.closeAllPanels(),this.panelSettings.enabled=!0},Uitop.prototype.onClickButtonPlanet=function(){try{if(0===parseInt(localStorage.getItem("input")))return}catch(t){console.log(t)}this.panelController.closeAllPanels(),this.sceneManager.loadSceneWithName("Planet")},Uitop.prototype.removeEvents=function(){this.btnWorldMap.element.off("click",this.onClickButtonWorldMap,this),this.bntHairstyles.element.off("click",this.onClickButtonHairstyles,this),this.btnAchievements.element.off("click",this.onClickButtonAchievements,this),this.btnChests.element.off("click",this.onClickButtonChests,this),this.btnSettings.element.off("click",this.onClickButtonSettings,this),this.btnPlanet.off("click",this.onClickButtonPlanet,this)};var AchievementsPanel=pc.createScript("achievementsPanel");AchievementsPanel.attributes.add("background",{type:"entity",title:"Background Image"}),AchievementsPanel.attributes.add("txtDescAch1",{type:"entity",title:"Ach1 Description"}),AchievementsPanel.attributes.add("txtDescAch2",{type:"entity",title:"Ach2 Description"}),AchievementsPanel.attributes.add("txtDescAch3",{type:"entity",title:"Ach3 Description"}),AchievementsPanel.attributes.add("txtDescAch4",{type:"entity",title:"Ach4 Description"}),AchievementsPanel.attributes.add("txtDescAch5",{type:"entity",title:"Ach5 Description"}),AchievementsPanel.attributes.add("txtDescAch6",{type:"entity",title:"Ach6 Description"}),AchievementsPanel.attributes.add("txtDescAch7",{type:"entity",title:"Ach7 Description"}),AchievementsPanel.attributes.add("txtDescAch8",{type:"entity",title:"Ach8 Description"}),AchievementsPanel.attributes.add("txtDescAch9",{type:"entity",title:"Ach9 Description"}),AchievementsPanel.attributes.add("txtDescAch10",{type:"entity",title:"Ach10 Description"}),AchievementsPanel.attributes.add("txtDescAch11",{type:"entity",title:"Ach11 Description"}),AchievementsPanel.attributes.add("txtDescAch12",{type:"entity",title:"Ach12 Description"}),AchievementsPanel.attributes.add("txtDescAch13",{type:"entity",title:"Ach13 Description"}),AchievementsPanel.attributes.add("txtProgressAch1",{type:"entity",title:"Ach1 Progress"}),AchievementsPanel.attributes.add("txtProgressAch2",{type:"entity",title:"Ach2 Progress"}),AchievementsPanel.attributes.add("txtProgressAch3",{type:"entity",title:"Ach3 Progress"}),AchievementsPanel.attributes.add("txtProgressAch4",{type:"entity",title:"Ach4 Progress"}),AchievementsPanel.attributes.add("txtProgressAch5",{type:"entity",title:"Ach5 Progress"}),AchievementsPanel.attributes.add("txtProgressAch6",{type:"entity",title:"Ach6 Progress"}),AchievementsPanel.attributes.add("txtProgressAch7",{type:"entity",title:"Ach7 Progress"}),AchievementsPanel.attributes.add("txtProgressAch8",{type:"entity",title:"Ach8 Progress"}),AchievementsPanel.attributes.add("txtProgressAch9",{type:"entity",title:"Ach9 Progress"}),AchievementsPanel.attributes.add("txtProgressAch10",{type:"entity",title:"Ach10 Progress"}),AchievementsPanel.attributes.add("txtProgressAch11",{type:"entity",title:"Ach11 Progress"}),AchievementsPanel.attributes.add("txtProgressAch12",{type:"entity",title:"Ach12 Progress"}),AchievementsPanel.attributes.add("txtProgressAch13",{type:"entity",title:"Ach13 Progress"}),AchievementsPanel.attributes.add("scrollbarParentAch1",{type:"entity",title:"Ach1 Scrollbar Parent"}),AchievementsPanel.attributes.add("scrollbarParentAch2",{type:"entity",title:"Ach2 Scrollbar Parent"}),AchievementsPanel.attributes.add("scrollbarParentAch3",{type:"entity",title:"Ach3 Scrollbar Parent"}),AchievementsPanel.attributes.add("scrollbarParentAch4",{type:"entity",title:"Ach4 Scrollbar Parent"}),AchievementsPanel.attributes.add("scrollbarParentAch5",{type:"entity",title:"Ach5 Scrollbar Parent"}),AchievementsPanel.attributes.add("scrollbarParentAch6",{type:"entity",title:"Ach6 Scrollbar Parent"}),AchievementsPanel.attributes.add("scrollbarParentAch7",{type:"entity",title:"Ach7 Scrollbar Parent"}),AchievementsPanel.attributes.add("scrollbarParentAch8",{type:"entity",title:"Ach8 Scrollbar Parent"}),AchievementsPanel.attributes.add("scrollbarParentAch9",{type:"entity",title:"Ach9 Scrollbar Parent"}),AchievementsPanel.attributes.add("scrollbarParentAch10",{type:"entity",title:"Ach10 Scrollbar Parent"}),AchievementsPanel.attributes.add("scrollbarParentAch11",{type:"entity",title:"Ach11 Scrollbar Parent"}),AchievementsPanel.attributes.add("scrollbarParentAch12",{type:"entity",title:"Ach12 Scrollbar Parent"}),AchievementsPanel.attributes.add("scrollbarParentAch13",{type:"entity",title:"Ach13 Scrollbar Parent"}),AchievementsPanel.attributes.add("scrollbarAch1",{type:"entity",title:"Ach1 Scrollbar"}),AchievementsPanel.attributes.add("scrollbarAch2",{type:"entity",title:"Ach2 Scrollbar"}),AchievementsPanel.attributes.add("scrollbarAch3",{type:"entity",title:"Ach3 Scrollbar"}),AchievementsPanel.attributes.add("scrollbarAch4",{type:"entity",title:"Ach4 Scrollbar"}),AchievementsPanel.attributes.add("scrollbarAch5",{type:"entity",title:"Ach5 Scrollbar"}),AchievementsPanel.attributes.add("scrollbarAch6",{type:"entity",title:"Ach6 Scrollbar"}),AchievementsPanel.attributes.add("scrollbarAch7",{type:"entity",title:"Ach7 Scrollbar"}),AchievementsPanel.attributes.add("scrollbarAch8",{type:"entity",title:"Ach8 Scrollbar"}),AchievementsPanel.attributes.add("scrollbarAch9",{type:"entity",title:"Ach9 Scrollbar"}),AchievementsPanel.attributes.add("scrollbarAch10",{type:"entity",title:"Ach10 Scrollbar"}),AchievementsPanel.attributes.add("scrollbarAch11",{type:"entity",title:"Ach11 Scrollbar"}),AchievementsPanel.attributes.add("scrollbarAch12",{type:"entity",title:"Ach12 Scrollbar"}),AchievementsPanel.attributes.add("scrollbarAch13",{type:"entity",title:"Ach13 Scrollbar"}),AchievementsPanel.attributes.add("btnAch1",{type:"entity",title:"Ach1 Button"}),AchievementsPanel.attributes.add("btnAch2",{type:"entity",title:"Ach2 Button"}),AchievementsPanel.attributes.add("btnAch3",{type:"entity",title:"Ach3 Button"}),AchievementsPanel.attributes.add("btnAch4",{type:"entity",title:"Ach4 Button"}),AchievementsPanel.attributes.add("btnAch5",{type:"entity",title:"Ach5 Button"}),AchievementsPanel.attributes.add("btnAch6",{type:"entity",title:"Ach6 Button"}),AchievementsPanel.attributes.add("btnAch7",{type:"entity",title:"Ach7 Button"}),AchievementsPanel.attributes.add("btnAch8",{type:"entity",title:"Ach8 Button"}),AchievementsPanel.attributes.add("btnAch9",{type:"entity",title:"Ach9 Button"}),AchievementsPanel.attributes.add("btnAch10",{type:"entity",title:"Ach10 Button"}),AchievementsPanel.attributes.add("btnAch11",{type:"entity",title:"Ach11 Button"}),AchievementsPanel.attributes.add("btnAch12",{type:"entity",title:"Ach12 Button"}),AchievementsPanel.attributes.add("btnAch13",{type:"entity",title:"Ach13 Button"}),AchievementsPanel.attributes.add("txtMoneyAch1",{type:"entity",title:"Ach1 Money Text"}),AchievementsPanel.attributes.add("txtMoneyAch2",{type:"entity",title:"Ach2 Money Text"}),AchievementsPanel.attributes.add("txtMoneyAch3",{type:"entity",title:"Ach3 Money Text"}),AchievementsPanel.attributes.add("txtMoneyAch4",{type:"entity",title:"Ach4 Money Text"}),AchievementsPanel.attributes.add("txtMoneyAch5",{type:"entity",title:"Ach5 Money Text"}),AchievementsPanel.attributes.add("txtMoneyAch6",{type:"entity",title:"Ach6 Money Text"}),AchievementsPanel.attributes.add("txtMoneyAch7",{type:"entity",title:"Ach7 Money Text"}),AchievementsPanel.attributes.add("txtMoneyAch8",{type:"entity",title:"Ach8 Money Text"}),AchievementsPanel.attributes.add("txtMoneyAch9",{type:"entity",title:"Ach9 Money Text"}),AchievementsPanel.attributes.add("txtMoneyAch10",{type:"entity",title:"Ach10 Money Text"}),AchievementsPanel.attributes.add("txtMoneyAch11",{type:"entity",title:"Ach11 Money Text"}),AchievementsPanel.attributes.add("txtMoneyAch12",{type:"entity",title:"Ach12 Money Text"}),AchievementsPanel.attributes.add("txtMoneyAch13",{type:"entity",title:"Ach13 Money Text"}),AchievementsPanel.attributes.add("achievementsControllerEntity",{type:"entity",title:"Achievements Controller"}),AchievementsPanel.attributes.add("moneyDisplayFormatterEntity",{type:"entity",title:"Money Display Formatter"}),AchievementsPanel.prototype.initialize=function(){this.achievementsController=this.achievementsControllerEntity.script.achievementsController,this.moneyDisplayFormatter=this.moneyDisplayFormatterEntity.script.moneyDisplayFormatter,this.moneyManager=this.app.root.findByName("@Money Manager").script.moneyManager,this.uiTop=this.app.root.findByName("ui_top").script.uitop,this.btnAch1.button.on("click",this.claimAch1Reward,this),this.btnAch2.button.on("click",this.claimAch2Reward,this),this.btnAch3.button.on("click",this.claimAch3Reward,this),this.btnAch4.button.on("click",this.claimAch4Reward,this),this.btnAch5.button.on("click",this.claimAch5Reward,this),this.btnAch6.button.on("click",this.claimAch6Reward,this),this.btnAch7.button.on("click",this.claimAch7Reward,this),this.btnAch8.button.on("click",this.claimAch8Reward,this),this.btnAch9.button.on("click",this.claimAch9Reward,this),this.btnAch10.button.on("click",this.claimAch10Reward,this),this.btnAch11.button.on("click",this.claimAch11Reward,this),this.btnAch12.button.on("click",this.claimAch12Reward,this),this.btnAch13.button.on("click",this.claimAch13Reward,this)},AchievementsPanel.prototype.updateAchievements=function(){this.updateDescriptions(),this.updateProgressions(),this.updateScrollbars(),this.updateButtons(),this.updateAchievementExclamationMark()},AchievementsPanel.prototype.updateDescriptions=function(){this.achievementsControllerEntity||(this.achievementsControllerEntity=this.app.root.findByName("@Achievements Controller")),this.achievementsControllerEntity.script||(this.achievementsControllerEntity.script=this.app.root.findByName("@Achievements Controller").script),this.achievementsController||(this.achievementsController=this.achievementsControllerEntity.script.achievementsController),this.moneyDisplayFormatterEntity||(this.moneyDisplayFormatterEntity=this.app.root.findByName("@Money Display Formatter")),this.moneyDisplayFormatterEntity.script||(this.moneyDisplayFormatterEntity.script=this.app.root.findByName("@Money Display Formatter").script),this.moneyDisplayFormatter||(this.moneyDisplayFormatter=this.moneyDisplayFormatterEntity.script.moneyDisplayFormatter),this.txtDescAch1.element||(this.txtDescAch1.element=this.app.root.findByName("txt_ach1_description").element),this.txtDescAch2.element||(this.txtDescAch2.element=this.app.root.findByName("txt_ach2_description").element),this.txtDescAch3.element||(this.txtDescAch3.element=this.app.root.findByName("txt_ach3_description").element),this.txtDescAch4.element||(this.txtDescAch4.element=this.app.root.findByName("txt_ach4_description").element),this.txtDescAch5.element||(this.txtDescAch5.element=this.app.root.findByName("txt_ach5_description").element),this.txtDescAch6.element||(this.txtDescAch6.element=this.app.root.findByName("txt_ach6_description").element),this.txtDescAch7.element||(this.txtDescAch7.element=this.app.root.findByName("txt_ach7_description").element),this.txtDescAch8.element||(this.txtDescAch8.element=this.app.root.findByName("txt_ach8_description").element),this.txtDescAch9.element||(this.txtDescAch9.element=this.app.root.findByName("txt_ach9_description").element),this.txtDescAch10.element||(this.txtDescAch10.element=this.app.root.findByName("txt_ach10_description").element),this.txtDescAch11.element||(this.txtDescAch11.element=this.app.root.findByName("txt_ach11_description").element),this.txtDescAch12.element||(this.txtDescAch12.element=this.app.root.findByName("txt_ach12_description").element),this.txtDescAch13.element||(this.txtDescAch13.element=this.app.root.findByName("txt_ach13_description").element),this.txtDescAch1.element.text="Increase your wealth! Earn $"+this.moneyDisplayFormatter.formatEveryThirdPowerAsStringExceptK(this.achievementsController.ach1Goal),this.txtDescAch2.element.text="Purchase "+this.achievementsController.ach2Goal+" chairs",this.txtDescAch3.element.text="Invest and you shall gain! Invest $"+this.moneyDisplayFormatter.formatEveryThirdPowerAsStringExceptK(this.achievementsController.ach3Goal),this.txtDescAch4.element.text="Keep it up! Upgrade "+this.achievementsController.ach4Goal+" times",this.txtDescAch5.element.text="Unlock "+this.achievementsController.ach5Goal+" haircuts",this.txtDescAch6.element.text="Hire "+this.achievementsController.ach6Goal+" managers",this.txtDescAch7.element.text="Upgrade managers to level "+this.achievementsController.ach7Goal,this.txtDescAch8.element.text="Don't stop exploring! Unlock "+this.achievementsController.ach8Goal+" cities",this.txtDescAch9.element.text="Keep expanding! Own "+this.achievementsController.ach9Goal+" shops",this.txtDescAch10.element.text="Keep them flowing! Invite "+this.achievementsController.ach10Goal+" customers",this.txtDescAch11.element.text="Keep them happy! Serve your customers quicker "+this.achievementsController.ach11Goal+" times",this.txtDescAch12.element.text="Be the all-time best! Serve "+this.achievementsController.ach12Goal+" customers",this.txtDescAch13.element.text="Show your loyalty to your business! Show up "+this.achievementsController.ach13Goal+" days"},AchievementsPanel.prototype.updateProgressions=function(){this.achievementsController||(this.achievementsController=this.achievementsControllerEntity.script.achievementsController),this.moneyDisplayFormatter||(this.moneyDisplayFormatter=this.moneyDisplayFormatterEntity.script.moneyDisplayFormatter),this.txtProgressAch1.element||(this.txtProgressAch1.element=this.app.root.findByName("txt_ach1_progress").element),this.txtProgressAch2.element||(this.txtProgressAch2.element=this.app.root.findByName("txt_ach2_progress").element),this.txtProgressAch3.element||(this.txtProgressAch3.element=this.app.root.findByName("txt_ach3_progress").element),this.txtProgressAch4.element||(this.txtProgressAch4.element=this.app.root.findByName("txt_ach4_progress").element),this.txtProgressAch5.element||(this.txtProgressAch5.element=this.app.root.findByName("txt_ach5_progress").element),this.txtProgressAch6.element||(this.txtProgressAch6.element=this.app.root.findByName("txt_ach6_progress").element),this.txtProgressAch7.element||(this.txtProgressAch7.element=this.app.root.findByName("txt_ach7_progress").element),this.txtProgressAch8.element||(this.txtProgressAch8.element=this.app.root.findByName("txt_ach8_progress").element),this.txtProgressAch9.element||(this.txtProgressAch9.element=this.app.root.findByName("txt_ach9_progress").element),this.txtProgressAch10.element||(this.txtProgressAch10.element=this.app.root.findByName("txt_ach10_progress").element),this.txtProgressAch11.element||(this.txtProgressAch11.element=this.app.root.findByName("txt_ach11_progress").element),this.txtProgressAch12.element||(this.txtProgressAch12.element=this.app.root.findByName("txt_ach12_progress").element),this.txtProgressAch13.element||(this.txtProgressAch13.element=this.app.root.findByName("txt_ach13_progress").element),this.txtProgressAch1.element.text="$"+this.moneyDisplayFormatter.formatEveryThirdPowerAsStringExceptK(this.achievementsController.moneyEarned)+"/$"+this.moneyDisplayFormatter.formatEveryThirdPowerAsStringExceptK(this.achievementsController.ach1Goal),this.txtProgressAch2.element.text=this.achievementsController.chairsUnlocked+"/"+this.achievementsController.ach2Goal,this.txtProgressAch3.element.text="$"+this.moneyDisplayFormatter.formatEveryThirdPowerAsStringExceptK(this.achievementsController.moneyInvested)+"/$"+this.moneyDisplayFormatter.formatEveryThirdPowerAsStringExceptK(this.achievementsController.ach3Goal),this.txtProgressAch4.element.text=this.achievementsController.upgradesMade+"/"+this.achievementsController.ach4Goal,this.txtProgressAch5.element.text=this.achievementsController.unlockedHaircuts+"/"+this.achievementsController.ach5Goal,this.txtProgressAch6.element.text=this.achievementsController.managersHired+"/"+this.achievementsController.ach6Goal,this.txtProgressAch7.element.text=this.achievementsController.managerUpgrades+"/"+this.achievementsController.ach7Goal,this.txtProgressAch8.element.text=this.achievementsController.citiesUnlocked+"/"+this.achievementsController.ach8Goal,this.txtProgressAch9.element.text=this.achievementsController.shopsOwned+"/"+this.achievementsController.ach9Goal,this.txtProgressAch10.element.text=this.achievementsController.customersInvited+"/"+this.achievementsController.ach10Goal,this.txtProgressAch11.element.text=this.achievementsController.customersServedQuicker+"/"+this.achievementsController.ach11Goal,this.txtProgressAch12.element.text=this.achievementsController.customersServed+"/"+this.achievementsController.ach12Goal,this.txtProgressAch13.element.text=this.achievementsController.daysShowedUp+"/"+this.achievementsController.ach13Goal},AchievementsPanel.prototype.updateScrollbars=function(){this.scrollbarAch1.scrollbar||(this.scrollbarAch1.scrollbar=this.app.root.findByName("scrollbar_ach1").scrollbar),this.scrollbarAch2.scrollbar||(this.scrollbarAch2.scrollbar=this.app.root.findByName("scrollbar_ach2").scrollbar),this.scrollbarAch3.scrollbar||(this.scrollbarAch3.scrollbar=this.app.root.findByName("scrollbar_ach3").scrollbar),this.scrollbarAch4.scrollbar||(this.scrollbarAch4.scrollbar=this.app.root.findByName("scrollbar_ach4").scrollbar),this.scrollbarAch5.scrollbar||(this.scrollbarAch5.scrollbar=this.app.root.findByName("scrollbar_ach5").scrollbar),this.scrollbarAch6.scrollbar||(this.scrollbarAch6.scrollbar=this.app.root.findByName("scrollbar_ach6").scrollbar),this.scrollbarAch7.scrollbar||(this.scrollbarAch7.scrollbar=this.app.root.findByName("scrollbar_ach7").scrollbar),this.scrollbarAch8.scrollbar||(this.scrollbarAch8.scrollbar=this.app.root.findByName("scrollbar_ach8").scrollbar),this.scrollbarAch9.scrollbar||(this.scrollbarAch9.scrollbar=this.app.root.findByName("scrollbar_ach9").scrollbar),this.scrollbarAch10.scrollbar||(this.scrollbarAch10.scrollbar=this.app.root.findByName("scrollbar_ach10").scrollbar),this.scrollbarAch11.scrollbar||(this.scrollbarAch11.scrollbar=this.app.root.findByName("scrollbar_ach11").scrollbar),this.scrollbarAch12.scrollbar||(this.scrollbarAch12.scrollbar=this.app.root.findByName("scrollbar_ach12").scrollbar),this.scrollbarAch13.scrollbar||(this.scrollbarAch13.scrollbar=this.app.root.findByName("scrollbar_ach13").scrollbar),this.scrollbarAch1.scrollbar.handleSize=this.achievementsController.moneyEarned/this.achievementsController.ach1Goal,this.scrollbarAch2.scrollbar.handleSize=this.achievementsController.chairsUnlocked/this.achievementsController.ach2Goal,this.scrollbarAch3.scrollbar.handleSize=this.achievementsController.moneyInvested/this.achievementsController.ach3Goal,this.scrollbarAch4.scrollbar.handleSize=this.achievementsController.upgradesMade/this.achievementsController.ach4Goal,this.scrollbarAch5.scrollbar.handleSize=this.achievementsController.unlockedHaircuts/this.achievementsController.ach5Goal,this.scrollbarAch6.scrollbar.handleSize=this.achievementsController.managersHired/this.achievementsController.ach6Goal,this.scrollbarAch7.scrollbar.handleSize=this.achievementsController.managerUpgrades/this.achievementsController.ach7Goal,this.scrollbarAch8.scrollbar.handleSize=this.achievementsController.citiesUnlocked/this.achievementsController.ach8Goal,this.scrollbarAch9.scrollbar.handleSize=this.achievementsController.shopsOwned/this.achievementsController.ach9Goal,this.scrollbarAch10.scrollbar.handleSize=this.achievementsController.customersInvited/this.achievementsController.ach10Goal,this.scrollbarAch11.scrollbar.handleSize=this.achievementsController.customersServedQuicker/this.achievementsController.ach11Goal,this.scrollbarAch12.scrollbar.handleSize=this.achievementsController.customersServed/this.achievementsController.ach12Goal,this.scrollbarAch13.scrollbar.handleSize=this.achievementsController.daysShowedUp/this.achievementsController.ach13Goal,0===this.scrollbarAch1.scrollbar.handleSize&&(this.scrollbarAch1.scrollbar.handleSize=.05),0===this.scrollbarAch2.scrollbar.handleSize&&(this.scrollbarAch2.scrollbar.handleSize=.15),0===this.scrollbarAch3.scrollbar.handleSize&&(this.scrollbarAch3.scrollbar.handleSize=.03),0===this.scrollbarAch4.scrollbar.handleSize&&(this.scrollbarAch4.scrollbar.handleSize=.15),0===this.scrollbarAch5.scrollbar.handleSize&&(this.scrollbarAch5.scrollbar.handleSize=.15),0===this.scrollbarAch6.scrollbar.handleSize&&(this.scrollbarAch6.scrollbar.handleSize=.15),0===this.scrollbarAch7.scrollbar.handleSize&&(this.scrollbarAch7.scrollbar.handleSize=.15),0===this.scrollbarAch8.scrollbar.handleSize&&(this.scrollbarAch8.scrollbar.handleSize=.15),0===this.scrollbarAch9.scrollbar.handleSize&&(this.scrollbarAch9.scrollbar.handleSize=.15),0===this.scrollbarAch10.scrollbar.handleSize&&(this.scrollbarAch10.scrollbar.handleSize=.01),0===this.scrollbarAch11.scrollbar.handleSize&&(this.scrollbarAch11.scrollbar.handleSize=.01),0===this.scrollbarAch12.scrollbar.handleSize&&(this.scrollbarAch12.scrollbar.handleSize=.01),0===this.scrollbarAch13.scrollbar.handleSize&&(this.scrollbarAch13.scrollbar.handleSize=.15)},AchievementsPanel.prototype.updateButtons=function(){this.txtMoneyAch1.element||(this.txtMoneyAch1.element=this.app.root.findByName("txt_ach1_money").element),this.txtMoneyAch2.element||(this.txtMoneyAch2.element=this.app.root.findByName("txt_ach2_money").element),this.txtMoneyAch3.element||(this.txtMoneyAch3.element=this.app.root.findByName("txt_ach3_money").element),this.txtMoneyAch4.element||(this.txtMoneyAch4.element=this.app.root.findByName("txt_ach4_money").element),this.txtMoneyAch5.element||(this.txtMoneyAch5.element=this.app.root.findByName("txt_ach5_money").element),this.txtMoneyAch6.element||(this.txtMoneyAch6.element=this.app.root.findByName("txt_ach6_money").element),this.txtMoneyAch7.element||(this.txtMoneyAch7.element=this.app.root.findByName("txt_ach7_money").element),this.txtMoneyAch8.element||(this.txtMoneyAch8.element=this.app.root.findByName("txt_ach8_money").element),this.txtMoneyAch9.element||(this.txtMoneyAch9.element=this.app.root.findByName("txt_ach9_money").element),this.txtMoneyAch10.element||(this.txtMoneyAch10.element=this.app.root.findByName("txt_ach10_money").element),this.txtMoneyAch11.element||(this.txtMoneyAch11.element=this.app.root.findByName("txt_ach11_money").element),this.txtMoneyAch12.element||(this.txtMoneyAch12.element=this.app.root.findByName("txt_ach12_money").element),this.txtMoneyAch13.element||(this.txtMoneyAch13.element=this.app.root.findByName("txt_ach13_money").element),this.updateButton(this.achievementsController.claimAch1,this.btnAch1,this.scrollbarParentAch1,this.txtMoneyAch1,this.achievementsController.ach1Reward),this.updateButton(this.achievementsController.claimAch2,this.btnAch2,this.scrollbarParentAch2,this.txtMoneyAch2,this.achievementsController.ach2Reward),this.updateButton(this.achievementsController.claimAch3,this.btnAch3,this.scrollbarParentAch3,this.txtMoneyAch3,this.achievementsController.ach3Reward),this.updateButton(this.achievementsController.claimAch4,this.btnAch4,this.scrollbarParentAch4,this.txtMoneyAch4,this.achievementsController.ach4Reward),this.updateButton(this.achievementsController.claimAch5,this.btnAch5,this.scrollbarParentAch5,this.txtMoneyAch5,this.achievementsController.ach5Reward),this.updateButton(this.achievementsController.claimAch6,this.btnAch6,this.scrollbarParentAch6,this.txtMoneyAch6,this.achievementsController.ach6Reward),this.updateButton(this.achievementsController.claimAch7,this.btnAch7,this.scrollbarParentAch7,this.txtMoneyAch7,this.achievementsController.ach7Reward),this.updateButton(this.achievementsController.claimAch8,this.btnAch8,this.scrollbarParentAch8,this.txtMoneyAch8,this.achievementsController.ach8Reward),this.updateButton(this.achievementsController.claimAch9,this.btnAch9,this.scrollbarParentAch9,this.txtMoneyAch9,this.achievementsController.ach9Reward),this.updateButton(this.achievementsController.claimAch10,this.btnAch10,this.scrollbarParentAch10,this.txtMoneyAch10,this.achievementsController.ach10Reward),this.updateButton(this.achievementsController.claimAch11,this.btnAch11,this.scrollbarParentAch11,this.txtMoneyAch11,this.achievementsController.ach11Reward),this.updateButton(this.achievementsController.claimAch12,this.btnAch12,this.scrollbarParentAch12,this.txtMoneyAch12,this.achievementsController.ach12Reward),this.updateButton(this.achievementsController.claimAch13,this.btnAch13,this.scrollbarParentAch13,this.txtMoneyAch13,this.achievementsController.ach13Reward)},AchievementsPanel.prototype.updateButton=function(t,e,h,i,s){t&&(e.enabled=!0,h.enabled=!1,i.element.text="$"+this.moneyDisplayFormatter.formatEveryThirdPowerAsStringExceptK(s))},AchievementsPanel.prototype.claimAch1Reward=function(){this.achievementsController.claimAch1=!1,this.claimAchievementReward(this.btnAch1,this.scrollbarParentAch1,this.achievementsController.ach1Reward),this.achievementsController.ach1Reward=0,this.achievementsController.updateMoneyEarned(),this.updateAchievementExclamationMark()},AchievementsPanel.prototype.claimAch2Reward=function(){this.achievementsController.claimAch2=!1,this.claimAchievementReward(this.btnAch2,this.scrollbarParentAch2,this.achievementsController.ach2Reward),this.achievementsController.ach2Reward=0,this.updateAchievementExclamationMark()},AchievementsPanel.prototype.claimAch3Reward=function(){this.achievementsController.claimAch3=!1,this.claimAchievementReward(this.btnAch3,this.scrollbarParentAch3,this.achievementsController.ach3Reward),this.achievementsController.ach3Reward=0,this.achievementsController.updateMoneyInvested(),this.updateAchievementExclamationMark()},AchievementsPanel.prototype.claimAch4Reward=function(){this.achievementsController.claimAch4=!1,this.claimAchievementReward(this.btnAch4,this.scrollbarParentAch4,this.achievementsController.ach4Reward),this.achievementsController.ach4Reward=0,this.updateAchievementExclamationMark()},AchievementsPanel.prototype.claimAch5Reward=function(){this.achievementsController.claimAch5=!1,this.claimAchievementReward(this.btnAch5,this.scrollbarParentAch5,this.achievementsController.ach5Reward),this.achievementsController.ach5Reward=0,this.updateAchievementExclamationMark()},AchievementsPanel.prototype.claimAch6Reward=function(){this.achievementsController.claimAch6=!1,this.claimAchievementReward(this.btnAch6,this.scrollbarParentAch6,this.achievementsController.ach6Reward),this.achievementsController.ach6Reward=0,this.updateAchievementExclamationMark()},AchievementsPanel.prototype.claimAch7Reward=function(){this.achievementsController.claimAch7=!1,this.claimAchievementReward(this.btnAch7,this.scrollbarParentAch7,this.achievementsController.ach7Reward),this.achievementsController.ach7Reward=0,this.updateAchievementExclamationMark()},AchievementsPanel.prototype.claimAch8Reward=function(){this.achievementsController.claimAch8=!1,this.claimAchievementReward(this.btnAch8,this.scrollbarParentAch8,this.achievementsController.ach8Reward),this.achievementsController.ach8Reward=0,this.updateAchievementExclamationMark()},AchievementsPanel.prototype.claimAch9Reward=function(){this.achievementsController.claimAch9=!1,this.claimAchievementReward(this.btnAch9,this.scrollbarParentAch9,this.achievementsController.ach9Reward),this.achievementsController.ach9Reward=0,this.updateAchievementExclamationMark()},AchievementsPanel.prototype.claimAch10Reward=function(){this.achievementsController.claimAch10=!1,this.claimAchievementReward(this.btnAch10,this.scrollbarParentAch10,this.achievementsController.ach10Reward),this.achievementsController.ach10Reward=0,this.updateAchievementExclamationMark()},AchievementsPanel.prototype.claimAch11Reward=function(){this.achievementsController.claimAch11=!1,this.claimAchievementReward(this.btnAch11,this.scrollbarParentAch11,this.achievementsController.ach11Reward),this.achievementsController.ach11Reward=0,this.updateAchievementExclamationMark()},AchievementsPanel.prototype.claimAch12Reward=function(){this.achievementsController.claimAch12=!1,this.claimAchievementReward(this.btnAch12,this.scrollbarParentAch12,this.achievementsController.ach12Reward),this.achievementsController.ach12Reward=0,this.updateAchievementExclamationMark()},AchievementsPanel.prototype.claimAch13Reward=function(){this.achievementsController.claimAch13=!1,this.claimAchievementReward(this.btnAch13,this.scrollbarParentAch13,this.achievementsController.ach13Reward),this.achievementsController.ach13Reward=0,this.updateAchievementExclamationMark()},AchievementsPanel.prototype.claimAchievementReward=function(t,e,h){t.enabled=!1,e.enabled=!0,this.moneyManager.claimAchievementMoney(h)},AchievementsPanel.prototype.updateAchievementExclamationMark=function(){this.uiTop||(this.uiTop=this.app.root.findByName("ui_top").script.uitop);var t=0;this.achievementsController||(this.achievementsController=this.app.root.findByName("@Achievements Controller").script.achievementsController),this.achievementsController.claimAch1&&t++,this.achievementsController.claimAch2&&t++,this.achievementsController.claimAch3&&t++,this.achievementsController.claimAch4&&t++,this.achievementsController.claimAch5&&t++,this.achievementsController.claimAch6&&t++,this.achievementsController.claimAch7&&t++,this.achievementsController.claimAch8&&t++,this.achievementsController.claimAch9&&t++,this.achievementsController.claimAch10&&t++,this.achievementsController.claimAch11&&t++,this.achievementsController.claimAch12&&t++,this.achievementsController.claimAch13&&t++,this.uiTop.exclamationMark.enabled=t>0},AchievementsPanel.prototype.removeEvents=function(){this.btnAch1.button.off("click",this.claimAch1Reward,this),this.btnAch2.button.off("click",this.claimAch2Reward,this),this.btnAch3.button.off("click",this.claimAch3Reward,this),this.btnAch4.button.off("click",this.claimAch4Reward,this),this.btnAch5.button.off("click",this.claimAch5Reward,this),this.btnAch6.button.off("click",this.claimAch6Reward,this),this.btnAch7.button.off("click",this.claimAch7Reward,this),this.btnAch8.button.off("click",this.claimAch8Reward,this),this.btnAch9.button.off("click",this.claimAch9Reward,this),this.btnAch10.button.off("click",this.claimAch10Reward,this),this.btnAch11.button.off("click",this.claimAch11Reward,this),this.btnAch12.button.off("click",this.claimAch12Reward,this),this.btnAch13.button.off("click",this.claimAch13Reward,this)};var ChestsPanel=pc.createScript("chestsPanel");ChestsPanel.attributes.add("background",{type:"entity",title:"Background Image"}),ChestsPanel.attributes.add("texts",{type:"entity",title:"Background Image",array:!0}),ChestsPanel.prototype.initialize=function(){for(this.entity.element.drawOrder=30,this.background.element.drawOrder=10,i=0;i<this.texts.Length;i++)this.texts[i].element.drawOrder=10};var TouchInput=pc.createScript("touchInput");TouchInput.attributes.add("orbitSensitivity",{type:"number",default:.4,title:"Orbit Sensitivity",description:"How fast the camera moves around the orbit. Higher is faster"}),TouchInput.attributes.add("distanceSensitivity",{type:"number",default:.2,title:"Distance Sensitivity",description:"How fast the camera moves in and out. Higher is faster"}),TouchInput.prototype.initialize=function(){this.orbitCamera=this.entity.script.orbitCamera,this.lastTouchPoint=new pc.Vec2,this.lastPinchMidPoint=new pc.Vec2,this.lastPinchDistance=0,this.orbitCamera&&this.app.touch&&(this.app.touch.on(pc.EVENT_TOUCHSTART,this.onTouchStartEndCancel,this),this.app.touch.on(pc.EVENT_TOUCHEND,this.onTouchStartEndCancel,this),this.app.touch.on(pc.EVENT_TOUCHCANCEL,this.onTouchStartEndCancel,this),this.app.touch.on(pc.EVENT_TOUCHMOVE,this.onTouchMove,this),this.on("destroy",(function(){this.app.touch.off(pc.EVENT_TOUCHSTART,this.onTouchStartEndCancel,this),this.app.touch.off(pc.EVENT_TOUCHEND,this.onTouchStartEndCancel,this),this.app.touch.off(pc.EVENT_TOUCHCANCEL,this.onTouchStartEndCancel,this),this.app.touch.off(pc.EVENT_TOUCHMOVE,this.onTouchMove,this)})))},TouchInput.prototype.getPinchDistance=function(t,i){var n=t.x-i.x,o=t.y-i.y;return Math.sqrt(n*n+o*o)},TouchInput.prototype.calcMidPoint=function(t,i,n){n.set(i.x-t.x,i.y-t.y),n.scale(.5),n.x+=t.x,n.y+=t.y},TouchInput.prototype.onTouchStartEndCancel=function(t){var i=t.touches;1==i.length&&(this.lastPinchDistance=this.getPinchDistance(i[0],i[1]),this.calcMidPoint(i[0],i[1],this.lastPinchMidPoint))},TouchInput.fromWorldPoint=new pc.Vec3,TouchInput.toWorldPoint=new pc.Vec3,TouchInput.worldDiff=new pc.Vec3,TouchInput.prototype.pan=function(t){var i=TouchInput.fromWorldPoint,n=TouchInput.toWorldPoint,o=TouchInput.worldDiff,c=this.entity.camera,h=this.orbitCamera.distance;c.screenToWorld(t.x,t.y,h,i),c.screenToWorld(this.lastPinchMidPoint.x,t.y,h,n),o.sub2(n,i),this.orbitCamera.pivotPoint.add(o)},TouchInput.pinchMidPoint=new pc.Vec2,TouchInput.prototype.onTouchMove=function(t){var i=TouchInput.pinchMidPoint,n=t.touches;if(1==n.length){var o=this.getPinchDistance(n[0],n[1]),c=o-this.lastPinchDistance;this.lastPinchDistance=o,this.orbitCamera.distance-=c*this.distanceSensitivity*.1*(.1*this.orbitCamera.distance),this.calcMidPoint(n[0],n[1],i),this.pan(i),this.lastPinchMidPoint.copy(i)}};var MouseInput=pc.createScript("mouseInput");MouseInput.attributes.add("orbitSensitivity",{type:"number",default:.3,title:"Orbit Sensitivity",description:"How fast the camera moves around the orbit. Higher is faster"}),MouseInput.attributes.add("distanceSensitivity",{type:"number",default:.15,title:"Distance Sensitivity",description:"How fast the camera moves in and out. Higher is faster"}),MouseInput.prototype.initialize=function(){if(this.orbitCamera=this.entity.script.orbitCamera,this.orbitCamera){var t=this,onMouseOut=function(o){t.onMouseOut(o)};this.app.mouse.on(pc.EVENT_MOUSEDOWN,this.onMouseDown,this),this.app.mouse.on(pc.EVENT_MOUSEUP,this.onMouseUp,this),this.app.mouse.on(pc.EVENT_MOUSEMOVE,this.onMouseMove,this),window.addEventListener("mouseout",onMouseOut,!1),this.on("destroy",(function(){this.app.mouse.off(pc.EVENT_MOUSEDOWN,this.onMouseDown,this),this.app.mouse.off(pc.EVENT_MOUSEUP,this.onMouseUp,this),this.app.mouse.off(pc.EVENT_MOUSEMOVE,this.onMouseMove,this),window.removeEventListener("mouseout",onMouseOut,!1)}))}this.app.mouse.disableContextMenu(),this.lookButtonDown=!1,this.panButtonDown=!1,this.lastPoint=new pc.Vec2},MouseInput.fromWorldPoint=new pc.Vec3,MouseInput.toWorldPoint=new pc.Vec3,MouseInput.worldDiff=new pc.Vec3,MouseInput.prototype.pan=function(t){var o=MouseInput.fromWorldPoint,e=MouseInput.toWorldPoint,n=MouseInput.worldDiff,s=this.entity.camera,i=this.orbitCamera.distance;s.screenToWorld(t.x,t.y,i,o),s.screenToWorld(this.lastPoint.x,t.y,i,e),n.sub2(e,o),this.orbitCamera.pivotPoint.add(n)},MouseInput.prototype.onMouseDown=function(t){switch(t.button){case pc.MOUSEBUTTON_LEFT:this.panButtonDown=!0}},MouseInput.prototype.onMouseUp=function(t){switch(t.button){case pc.MOUSEBUTTON_LEFT:this.panButtonDown=!1}},MouseInput.prototype.onMouseMove=function(t){pc.app.mouse;this.panButtonDown&&this.pan(t),this.lastPoint.set(t.x,t.y)},MouseInput.prototype.onMouseOut=function(t){this.lookButtonDown=!1,this.panButtonDown=!1};var OrbitCamera=pc.createScript("orbitCamera");OrbitCamera.attributes.add("distanceMax",{type:"number",default:0,title:"Distance Max",description:"Setting this at 0 will give an infinite distance limit"}),OrbitCamera.attributes.add("distanceMin",{type:"number",default:0,title:"Distance Min"}),OrbitCamera.attributes.add("pitchAngleMax",{type:"number",default:90,title:"Pitch Angle Max (degrees)"}),OrbitCamera.attributes.add("pitchAngleMin",{type:"number",default:-90,title:"Pitch Angle Min (degrees)"}),OrbitCamera.attributes.add("inertiaFactor",{type:"number",default:0,title:"Inertia Factor",description:"Higher value means that the camera will continue moving after the user has stopped dragging. 0 is fully responsive."}),OrbitCamera.attributes.add("focusEntity",{type:"entity",title:"Focus Entity",description:"Entity for the camera to focus on. If blank, then the camera will use the whole scene"}),OrbitCamera.attributes.add("frameOnStart",{type:"boolean",default:!0,title:"Frame on Start",description:'Frames the entity or scene at the start of the application."'}),Object.defineProperty(OrbitCamera.prototype,"distance",{get:function(){return this._targetDistance},set:function(t){this._targetDistance=this._clampDistance(t)}}),Object.defineProperty(OrbitCamera.prototype,"pitch",{get:function(){return this._targetPitch},set:function(t){this._targetPitch=this._clampPitchAngle(t)}}),Object.defineProperty(OrbitCamera.prototype,"yaw",{get:function(){return this._targetYaw},set:function(t){this._targetYaw=t;var i=(this._targetYaw-this._yaw)%360;this._targetYaw=i>180?this._yaw-(360-i):i<-180?this._yaw+(360+i):this._yaw+i}}),Object.defineProperty(OrbitCamera.prototype,"pivotPoint",{get:function(){return this._pivotPoint},set:function(t){this._pivotPoint.copy(t)}}),OrbitCamera.prototype.focus=function(t){this._buildAabb(t,0);var i=this._modelsAabb.halfExtents,e=Math.max(i.x,Math.max(i.y,i.z));e/=Math.tan(.5*this.entity.camera.fov*pc.math.DEG_TO_RAD),e*=2,this.distance=e,this._removeInertia(),this._pivotPoint.copy(this._modelsAabb.center)},OrbitCamera.distanceBetween=new pc.Vec3,OrbitCamera.prototype.resetAndLookAtPoint=function(t,i){this.pivotPoint.copy(i),this.entity.setPosition(t),this.entity.lookAt(i);var e=OrbitCamera.distanceBetween;e.sub2(i,t),this.distance=e.length(),this.pivotPoint.copy(i);var a=this.entity.getRotation();this.yaw=this._calcYaw(a),this.pitch=this._calcPitch(a,this.yaw),this._removeInertia(),this._updatePosition()},OrbitCamera.prototype.resetAndLookAtEntity=function(t,i){this._buildAabb(i,0),this.resetAndLookAtPoint(t,this._modelsAabb.center)},OrbitCamera.prototype.reset=function(t,i,e){this.pitch=i,this.yaw=t,this.distance=e,this._removeInertia()},OrbitCamera.prototype.initialize=function(){var t=this,onWindowResize=function(){t._checkAspectRatio()};window.addEventListener("resize",onWindowResize,!1),this._checkAspectRatio(),this._modelsAabb=new pc.BoundingBox,this._buildAabb(this.focusEntity||this.app.root,0),this.entity.lookAt(this._modelsAabb.center),this._pivotPoint=new pc.Vec3,this._pivotPoint.copy(this._modelsAabb.center);var i=this.entity.getRotation();if(this._yaw=this._calcYaw(i),this._pitch=this._clampPitchAngle(this._calcPitch(i,this._yaw)),this.entity.setLocalEulerAngles(this._pitch,this._yaw,0),this._distance=0,this._targetYaw=this._yaw,this._targetPitch=this._pitch,this.frameOnStart)this.focus(this.focusEntity||this.app.root);else{var e=new pc.Vec3;e.sub2(this.entity.getPosition(),this._pivotPoint),this._distance=this._clampDistance(e.length())}this._targetDistance=this._distance,this.on("attr:distanceMin",(function(t,i){this._targetDistance=this._clampDistance(this._distance)})),this.on("attr:distanceMax",(function(t,i){this._targetDistance=this._clampDistance(this._distance)})),this.on("attr:pitchAngleMin",(function(t,i){this._targetPitch=this._clampPitchAngle(this._pitch)})),this.on("attr:pitchAngleMax",(function(t,i){this._targetPitch=this._clampPitchAngle(this._pitch)})),this.on("attr:focusEntity",(function(t,i){this.frameOnStart?this.focus(t||this.app.root):this.resetAndLookAtEntity(this.entity.getPosition(),t||this.app.root)})),this.on("attr:frameOnStart",(function(t,i){t&&this.focus(this.focusEntity||this.app.root)})),this.on("destroy",(function(){window.removeEventListener("resize",onWindowResize,!1)})),this.entity.setLocalPosition(6.336,18.618,19.576),this.entity.setLocalEulerAngles(-20,35,0)},OrbitCamera.prototype.update=function(t){var i=0===this.inertiaFactor?1:Math.min(t/this.inertiaFactor,1);this._distance=pc.math.lerp(this._distance,this._targetDistance,i),this._yaw=pc.math.lerp(this._yaw,this._targetYaw,i),this._pitch=pc.math.lerp(this._pitch,this._targetPitch,i),this._updatePosition()},OrbitCamera.prototype._updatePosition=function(){var t=this.entity.getPosition();t.copy(this.entity.forward),t.scale(-this._distance),t.add(this.pivotPoint),this.entity.setPosition(t)},OrbitCamera.prototype._removeInertia=function(){this._yaw=this._targetYaw,this._pitch=this._targetPitch,this._distance=this._targetDistance},OrbitCamera.prototype._checkAspectRatio=function(){var t=this.app.graphicsDevice.height,i=this.app.graphicsDevice.width;this.entity.camera.horizontalFov=t>i},OrbitCamera.prototype._buildAabb=function(t,i){var e=0;if(t.model){var a=t.model.meshInstances;for(e=0;e<a.length;e++)0===i?this._modelsAabb.copy(a[e].aabb):this._modelsAabb.add(a[e].aabb),i+=1}for(e=0;e<t.children.length;++e)i+=this._buildAabb(t.children[e],i);return i},OrbitCamera.prototype._calcYaw=function(t){var i=new pc.Vec3;return t.transformVector(pc.Vec3.FORWARD,i),Math.atan2(-i.x,-i.z)*pc.math.RAD_TO_DEG},OrbitCamera.prototype._clampDistance=function(t){return this.distanceMax>0?pc.math.clamp(t,this.distanceMin,this.distanceMax):Math.max(t,this.distanceMin)},OrbitCamera.prototype._clampPitchAngle=function(t){return pc.math.clamp(t,-this.pitchAngleMax,-this.pitchAngleMin)},OrbitCamera.quatWithoutYaw=new pc.Quat,OrbitCamera.yawOffset=new pc.Quat,OrbitCamera.prototype._calcPitch=function(t,i){var e=OrbitCamera.quatWithoutYaw,a=OrbitCamera.yawOffset;a.setFromEulerAngles(0,-i,0),e.mul2(a,t);var s=new pc.Vec3;return e.transformVector(pc.Vec3.FORWARD,s),Math.atan2(s.y,-s.z)*pc.math.RAD_TO_DEG};var Moneyuiupdater=pc.createScript("moneyuiupdater");Moneyuiupdater.attributes.add("currentMoneyEntity",{type:"entity",title:"Current Money Entity"}),Moneyuiupdater.attributes.add("currentMoneyCapEntity",{type:"entity",title:"Current Money Cap Entity"}),Moneyuiupdater.prototype.initialize=function(){this.moneyManager=this.app.root.findByName("@Money Manager").script.moneyManager,this.moneyDisplayFormatter=this.app.root.findByName("@Money Display Formatter").script.moneyDisplayFormatter,this.currentMoney=this.currentMoneyEntity.element,this.currentCap=this.currentMoneyCapEntity.element,this.currentMoney.text="$0",this.updateTotalMoney()},Moneyuiupdater.prototype.updateTotalMoney=function(){this.moneyManager||(this.moneyManager=this.app.root.findByName("@Money Manager").script.moneyManager),this.currentMoneyCapEntity||(this.currentMoneyCapEntity=this.app.root.findByName("txt_cap_display")),this.currentMoneyEntity||(this.currentMoneyEntity=this.app.root.findByName("txt_money_display")),this.moneyDisplayFormatter||(this.moneyDisplayFormatter=this.app.root.findByName("@Money Display Formatter").script.moneyDisplayFormatter);var t=this.moneyManager.totalMoney,e=Math.round(100*t)/100,n=this.moneyDisplayFormatter.formatEveryThirdPowerAsString(e);this.currentMoneyEntity.element||(this.currentMoneyEntity.element=this.app.root.findByName("txt_money_display").element),this.currentMoney=this.currentMoneyEntity.element,this.currentMoney.text="$"+n};var MoneyManager=pc.createScript("moneyManager");MoneyManager.attributes.add("totalMoney",{type:"number",title:"Total Money"}),MoneyManager.attributes.add("selectedChair",{type:"entity",title:"Selected Chair"}),MoneyManager.attributes.add("hireManagerEntity",{type:"entity",title:"Hire Manager Panel"}),MoneyManager.attributes.add("achievementsControllerEntity",{type:"entity",title:"Achievements Controller"}),MoneyManager.attributes.add("tutorialEntity",{type:"entity",title:"Tutorial"}),MoneyManager.prototype.initialize=function(){this.levelController=this.app.root.findByName("@Level Controller").script.levelController,this.moneyUiUpdater=this.app.root.findByName("@Money UI Updater").script.moneyuiupdater,this.carpetSpawnersController=this.app.root.findByName("@Carpet Spawners Controller").script.carpetSpawnersController,this.moneySaveManager=this.app.root.findByName("@Money Save Manager").script.moneySaveManager,this.productionCap=this.app.root.findByName("@Production Cap").script.productionCap,this.achievements=this.achievementsControllerEntity.script.achievementsController,this.hireManagerEntity&&!1===this.levelController.isInCity&&(this.hireManager=this.hireManagerEntity.script.btnHireManager),!1===this.levelController.isInCity&&(this.manager=this.app.root.findByName("manager_collider").script.manager);try{this.moneySaveManager.loadData&&this.moneySaveManager.loadMoney()}catch(e){console.log(e)}this.tutorialEntity&&(this.tutorial=this.tutorialEntity.script.tutorial)},MoneyManager.prototype.addMoney=function(e){this.totalMoney+=e,this.achievements||(this.achievements=this.achievementsControllerEntity.script.achievementsController),this.achievements.moneyEarned+=e,this.achievements.updateMoneyEarned(),this.moneyUiUpdater.updateTotalMoney(),!1===this.levelController.isInCity&&this.carpetSpawnersController.updateCarpetSpawners(),this.selectedChair&&(this.selectedChair.script||(this.selectedChair.script=this.app.root.findByName("Chair Upgrade Panels").script)),this.selectedChair&&this.selectedChair.script.selectedChair.currentSelectedChair&&this.selectedChair.script.selectedChair.currentSelectedChair.script.chair.updateButtonStates(),this.hireManager&&this.hireManager.updateHireButton(),this.managerPanels&&this.managerPanels.updateButtons();try{this.moneySaveManager.saveMoney()}catch(e){console.log(e)}this.tutorialEntity&&this.tutorial.isTut7Finished&&!1===this.tutorial.isTut8Finished&&!1===this.tutorial.tut8.enabled&&this.totalMoney>1e4&&this.tutorial.checkLastTutorial()},MoneyManager.prototype.addProductionMoney=function(e){this.levelController||(this.levelController=this.app.root.findByName("@Level Controller").script.levelController),this.moneyUiUpdater||(this.moneyUiUpdater=this.app.root.findByName("@Money UI Updater").script.moneyuiupdater),this.moneySaveManager||(this.moneySaveManager=this.app.root.findByName("@Money Save Manager").script.moneySaveManager),this.totalMoney+=e,this.moneyUiUpdater.updateTotalMoney(),!1===this.levelController.isInCity&&this.carpetSpawnersController.updateCarpetSpawners(),!1===this.levelController.isInCity&&(this.selectedChair&&(this.selectedChair.script||(this.selectedChair.script=this.app.root.findByName("Chair Upgrade Panels").script)),this.selectedChair&&this.selectedChair.script.selectedChair.currentSelectedChair&&this.selectedChair.script.selectedChair.currentSelectedChair.script.chair.updateButtonStates()),this.hireManager&&this.hireManager.updateHireButton(),this.manager&&this.manager.updateButtonsState();try{this.moneySaveManager.saveMoney()}catch(e){console.log(e)}},MoneyManager.prototype.claimAchievementMoney=function(e){this.totalMoney+=e,this.moneyUiUpdater.updateTotalMoney(),!1===this.levelController.isInCity&&this.carpetSpawnersController.updateCarpetSpawners(),this.selectedChair&&(this.selectedChair.script||(this.selectedChair.script=this.app.root.findByName("Chair Upgrade Panels").script)),this.selectedChair&&this.selectedChair.script.selectedChair.currentSelectedChair&&this.selectedChair.script.selectedChair.currentSelectedChair.script.chair.updateButtonStates();try{this.moneySaveManager.saveMoney()}catch(e){console.log(e)}},MoneyManager.prototype.addTimeMachineReward=function(){var e=this.productionCap.totalProductionCap;e<20&&(e=20);var t=60*e;this.totalMoney+=t,this.achievements||(this.achievements=this.achievementsControllerEntity.script.achievementsController),this.achievements.moneyEarned+=t,this.achievements.updateMoneyEarned(),this.moneyUiUpdater.updateTotalMoney(),!1===this.levelController.isInCity&&this.carpetSpawnersController.updateCarpetSpawners();try{this.moneySaveManager.saveMoney()}catch(e){console.log(e)}return t},MoneyManager.prototype.addTurnBackReward=function(e){var t=this.productionCap.totalProductionCap;t<20&&(t=20);var a=60*productionCap*e;this.totalMoney+=a,this.achievements||(this.achievements=this.achievementsControllerEntity.script.achievementsController),this.achievements.moneyEarned+=a,this.achievements.updateMoneyEarned(),this.moneyUiUpdater.updateTotalMoney(),!1===this.levelController.isInCity&&this.carpetSpawnersController.updateCarpetSpawners();try{this.moneySaveManager.saveMoney()}catch(e){console.log(e)}return a},MoneyManager.prototype.addGiftReward=function(){var e=this.productionCap.totalProductionCap;e<20&&(e=20);var t=30*e;this.totalMoney+=t,this.achievements||(this.achievements=this.achievementsControllerEntity.script.achievementsController),this.achievements.moneyEarned+=t,this.achievements.updateMoneyEarned(),this.moneyUiUpdater.updateTotalMoney(),!1===this.levelController.isInCity&&this.carpetSpawnersController.updateCarpetSpawners();try{this.moneySaveManager.saveMoney()}catch(e){console.log(e)}return t},MoneyManager.prototype.addTutAdReward=function(e){this.totalMoney+=e,this.achievements||(this.achievements=this.achievementsControllerEntity.script.achievementsController),this.achievements.moneyEarned+=e,this.achievements.updateMoneyEarned(),this.moneyUiUpdater.updateTotalMoney(),!1===this.levelController.isInCity&&this.carpetSpawnersController.updateCarpetSpawners();try{this.moneySaveManager.saveMoney()}catch(e){console.log(e)}},MoneyManager.prototype.addOfflineReward=function(e){var t=this.productionCap.totalProductionCap;console.log("Production: "+t),t<20&&(t=20);var a=60*t*e;this.totalMoney+=a,this.moneyUiUpdater.updateTotalMoney(),!1===this.levelController.isInCity&&this.carpetSpawnersController.updateCarpetSpawners();try{this.moneySaveManager.saveMoney()}catch(e){console.log(e)}return a},MoneyManager.prototype.addChestReward=function(e){var t=this.productionCap.totalProductionCap;t<20&&(t=20);var a=0,r=0;e>=3?((r=Math.round(41*Math.random()))<30&&(r=30),a=t*r*4):2===e?((r=Math.round(31*Math.random()))<20&&(r=20),a=t*r*3):e<=1&&((r=Math.round(21*Math.random()))<10&&(r=10),a=t*r*2),this.totalMoney+=a,this.achievements||(this.achievements=this.achievementsControllerEntity.script.achievementsController),this.achievements.moneyEarned+=a,this.achievements.updateMoneyEarned(),this.moneyUiUpdater.updateTotalMoney(),!1===this.levelController.isInCity&&this.carpetSpawnersController.updateCarpetSpawners();try{this.moneySaveManager.saveMoney()}catch(e){console.log(e)}return a},MoneyManager.prototype.subtractMoney=function(e,t){this.totalMoney-=e,this.achievements||(this.achievements=this.achievementsControllerEntity.script.achievementsController),this.achievements.moneyInvested+=e,this.achievements.updateMoneyInvested(),this.moneyUiUpdater.updateTotalMoney(),this.carpetSpawnersController.updateCarpetSpawners(),this.selectedChair&&(this.selectedChair.script||(this.selectedChair.script=this.app.root.findByName("Chair Upgrade Panels").script)),this.selectedChair&&this.selectedChair.script.selectedChair.currentSelectedChair&&this.selectedChair.script.selectedChair.currentSelectedChair.script.chair.updateButtonStates(),this.hireManager&&this.hireManager.updateHireButton(),this.manager&&this.manager.updateButtonsState();try{this.moneySaveManager.saveMoney()}catch(e){console.log(e)}},MoneyManager.prototype.getGiftReward=function(){var e=this.productionCap.totalProductionCap;return e<20&&(e=20),30*e};var HairstylesUpgrade=pc.createScript("hairstylesUpgrade");HairstylesUpgrade.attributes.add("isHairstyleUnlocked1",{type:"boolean",title:"Hairstyle 1 Unlocked",default:!0}),HairstylesUpgrade.attributes.add("isHairstyleUnlocked2",{type:"boolean",title:"Hairstyle 2 Unlocked",default:!1}),HairstylesUpgrade.attributes.add("isHairstyleUnlocked3",{type:"boolean",title:"Hairstyle 3 Unlocked",default:!1}),HairstylesUpgrade.attributes.add("isHairstyleUnlocked4",{type:"boolean",title:"Hairstyle 4 Unlocked",default:!1}),HairstylesUpgrade.attributes.add("btnHairstyle1",{type:"entity",title:"Hairstyle 1 Button"}),HairstylesUpgrade.attributes.add("btnHairstyle2",{type:"entity",title:"Hairstyle 2 Button"}),HairstylesUpgrade.attributes.add("btnHairstyle3",{type:"entity",title:"Hairstyle 3 Button"}),HairstylesUpgrade.attributes.add("btnHairstyle4",{type:"entity",title:"Hairstyle 4 Button"}),HairstylesUpgrade.attributes.add("hairstyleCost1",{type:"number",title:"Hairstyle 1 Cost"}),HairstylesUpgrade.attributes.add("hairstyleCost2",{type:"number",title:"Hairstyle 2 Cost"}),HairstylesUpgrade.attributes.add("hairstyleCost3",{type:"number",title:"Hairstyle 3 Cost"}),HairstylesUpgrade.attributes.add("hairstyleCost4",{type:"number",title:"Hairstyle 4 Cost"}),HairstylesUpgrade.attributes.add("hairstyleUnlockCost2",{type:"number",title:"Hairstyle 2 Unlock Cost"}),HairstylesUpgrade.attributes.add("hairstyleUnlockCost3",{type:"number",title:"Hairstyle 3 Unlock Cost"}),HairstylesUpgrade.attributes.add("hairstyleUnlockCost4",{type:"number",title:"Hairstyle 4 Unlock Cost"}),HairstylesUpgrade.attributes.add("hairstyleUpgradeCost1",{type:"number",title:"Hairstyle 1 Upgrade Cost"}),HairstylesUpgrade.attributes.add("hairstyleUpgradeCost2",{type:"number",title:"Hairstyle 2 Upgrade Cost"}),HairstylesUpgrade.attributes.add("hairstyleUpgradeCost3",{type:"number",title:"Hairstyle 3 Upgrade Cost"}),HairstylesUpgrade.attributes.add("hairstyleUpgradeCost4",{type:"number",title:"Hairstyle 4 Upgrade Cost"}),HairstylesUpgrade.attributes.add("hairstyleUpgradeLevel1",{type:"number",title:"Hairstyle 1 Level"}),HairstylesUpgrade.attributes.add("hairstyleUpgradeLevel2",{type:"number",title:"Hairstyle 2 Level"}),HairstylesUpgrade.attributes.add("hairstyleUpgradeLevel3",{type:"number",title:"Hairstyle 3 Level"}),HairstylesUpgrade.attributes.add("hairstyleUpgradeLevel4",{type:"number",title:"Hairstyle 4 Level"}),HairstylesUpgrade.attributes.add("hairstyleTextLeft1",{type:"entity",title:"Hairstyle 1 Left Text"}),HairstylesUpgrade.attributes.add("hairstyleTextLeft2",{type:"entity",title:"Hairstyle 2 Left Text"}),HairstylesUpgrade.attributes.add("hairstyleTextLeft3",{type:"entity",title:"Hairstyle 3 Left Text"}),HairstylesUpgrade.attributes.add("hairstyleTextLeft4",{type:"entity",title:"Hairstyle 4 Left Text"}),HairstylesUpgrade.attributes.add("hairstyleTextRight1",{type:"entity",title:"Hairstyle 1 Right Text"}),HairstylesUpgrade.attributes.add("hairstyleTextRight2",{type:"entity",title:"Hairstyle 2 Right Text"}),HairstylesUpgrade.attributes.add("hairstyleTextRight3",{type:"entity",title:"Hairstyle 3 Right Text"}),HairstylesUpgrade.attributes.add("hairstyleTextRight4",{type:"entity",title:"Hairstyle 4 Right Text"}),HairstylesUpgrade.attributes.add("hairstyleTextMax1",{type:"entity",title:"Hairstyle 1 Max Text"}),HairstylesUpgrade.attributes.add("hairstyleTextMax2",{type:"entity",title:"Hairstyle 2 Max Text"}),HairstylesUpgrade.attributes.add("hairstyleTextMax3",{type:"entity",title:"Hairstyle 3 Max Text"}),HairstylesUpgrade.attributes.add("hairstyleTextMax4",{type:"entity",title:"Hairstyle 4 Max Text"}),HairstylesUpgrade.attributes.add("hairstyleTextStats1",{type:"entity",title:"Hairstyle 1 Stats Text"}),HairstylesUpgrade.attributes.add("hairstyleTextStats2",{type:"entity",title:"Hairstyle 2 Stats Text"}),HairstylesUpgrade.attributes.add("hairstyleTextStats3",{type:"entity",title:"Hairstyle 3 Stats Text"}),HairstylesUpgrade.attributes.add("hairstyleTextStats4",{type:"entity",title:"Hairstyle 4 Stats Text"}),HairstylesUpgrade.attributes.add("hairstyleSlider1",{type:"entity",title:"Hairstyle 1 Slider"}),HairstylesUpgrade.attributes.add("hairstyleSlider2",{type:"entity",title:"Hairstyle 2 Slider"}),HairstylesUpgrade.attributes.add("hairstyleSlider3",{type:"entity",title:"Hairstyle 3 Slider"}),HairstylesUpgrade.attributes.add("hairstyleSlider4",{type:"entity",title:"Hairstyle 4 Slider"}),HairstylesUpgrade.attributes.add("hairstyleScrollbar1",{type:"entity",title:"Hairstyle 1 Scrollbar"}),HairstylesUpgrade.attributes.add("hairstyleScrollbar2",{type:"entity",title:"Hairstyle 2 Scrollbar"}),HairstylesUpgrade.attributes.add("hairstyleScrollbar3",{type:"entity",title:"Hairstyle 3 Scrollbar"}),HairstylesUpgrade.attributes.add("hairstyleScrollbar4",{type:"entity",title:"Hairstyle 4 Scrollbar"}),HairstylesUpgrade.attributes.add("imageHairstyle1",{type:"entity",title:"Hairstyle 1 Image"}),HairstylesUpgrade.attributes.add("imageHairstyle2",{type:"entity",title:"Hairstyle 2 Image"}),HairstylesUpgrade.attributes.add("imageHairstyle3",{type:"entity",title:"Hairstyle 3 Image"}),HairstylesUpgrade.attributes.add("imageHairstyle4",{type:"entity",title:"Hairstyle 4 Image"}),HairstylesUpgrade.attributes.add("textureEnabledHairstyle1",{type:"asset",assetType:"texture",title:"Hairstyle 1 Enabled Texture"}),HairstylesUpgrade.attributes.add("textureEnabledHairstyle2",{type:"asset",assetType:"texture",title:"Hairstyle 2 Enabled Texture"}),HairstylesUpgrade.attributes.add("textureEnabledHairstyle3",{type:"asset",assetType:"texture",title:"Hairstyle 3 Enabled Texture"}),HairstylesUpgrade.attributes.add("textureEnabledHairstyle4",{type:"asset",assetType:"texture",title:"Hairstyle 4 Enabled Texture"}),HairstylesUpgrade.attributes.add("textureDisabledHairstyle1",{type:"asset",assetType:"texture",title:"Hairstyle 1 Disabled Texture"}),HairstylesUpgrade.attributes.add("textureDisabledHairstyle2",{type:"asset",assetType:"texture",title:"Hairstyle 2 Disabled Texture"}),HairstylesUpgrade.attributes.add("textureDisabledHairstyle3",{type:"asset",assetType:"texture",title:"Hairstyle 3 Disabled Texture"}),HairstylesUpgrade.attributes.add("textureDisabledHairstyle4",{type:"asset",assetType:"texture",title:"Hairstyle 4 Disabled Texture"}),HairstylesUpgrade.prototype.initialize=function(){this.moneyManager=this.app.root.findByName("@Money Manager").script.moneyManager,this.hairstyleChoosers=this.app.root.findByTag("Hairstyle Chooser"),this.moneyDisplayFormatter=this.app.root.findByName("@Money Display Formatter").script.moneyDisplayFormatter,this.achievements=this.app.root.findByName("@Achievements Controller").script.achievementsController,this.hairstyleSaveManager=this.app.root.findByName("@Hairstyle Save Manager").script.hairstyleSaveManager,this.btnHairstyle1.button.on("click",this.onClickButtonHs1,this),this.btnHairstyle2.button.on("click",this.onClickButtonHs2,this),this.btnHairstyle3.button.on("click",this.onClickButtonHs3,this),this.btnHairstyle4.button.on("click",this.onClickButtonHs4,this),this.initialHairstyleCost1=this.hairstyleCost1,this.initialHairstyleCost2=this.hairstyleCost2,this.initialHairstyleCost3=this.hairstyleCost3,this.initialHairstyleCost4=this.hairstyleCost4,this.initialHairstyleUpgradeCost1=this.hairstyleUpgradeCost1,this.initialHairstyleUpgradeCost2=this.hairstyleUpgradeCost2,this.initialHairstyleUpgradeCost3=this.hairstyleUpgradeCost3,this.initialHairstyleUpgradeCost4=this.hairstyleUpgradeCost4,this.hairstyleMaxLevel=4;try{this.hairstyleSaveManager.loadData&&(this.hairstyleSaveManager.loadHairstyles(),this.updateButtonState(),this.updateHairstyleStates())}catch(t){console.log(t)}this.updateTextFields(),this.updateScrollbars()},HairstylesUpgrade.prototype.updateHairstyleStates=function(t){this.hairstyleUpgradeLevel1<this.hairstyleMaxLevel&&this.moneyManager.totalMoney>=this.hairstyleUpgradeCost1?(this.btnHairstyle1.button||(this.btnHairstyle1.button=this.app.root.findByName("btn_hs1_unlock").button),this.imageHairstyle1.element||(this.imageHairstyle1.element=this.app.root.findByName("Image_hs1").element),this.btnHairstyle1.button.active=!0,this.imageHairstyle1.element.texture=this.textureEnabledHairstyle1.resource):(this.btnHairstyle1.button||(this.btnHairstyle1.button=this.app.root.findByName("btn_hs1_unlock").button),this.imageHairstyle1.element||(this.imageHairstyle1.element=this.app.root.findByName("Image_hs1").element),this.btnHairstyle1.button.active=!1,this.imageHairstyle1.element.texture=this.textureDisabledHairstyle1.resource),this.hairstyleUpgradeLevel2<this.hairstyleMaxLevel&&this.moneyManager.totalMoney>=this.hairstyleUpgradeCost2?(this.btnHairstyle2.button||(this.btnHairstyle2.button=this.app.root.findByName("btn_hs2_unlock").button),this.imageHairstyle2.element||(this.imageHairstyle2.element=this.app.root.findByName("Image_hs2").element),this.btnHairstyle2.button.active=!0,this.imageHairstyle2.element.texture=this.textureEnabledHairstyle2.resource):(this.btnHairstyle2.button||(this.btnHairstyle2.button=this.app.root.findByName("btn_hs2_unlock").button),this.imageHairstyle2.element||(this.imageHairstyle2.element=this.app.root.findByName("Image_hs2").element),this.btnHairstyle2.button.active=!1,this.imageHairstyle2.element.texture=this.textureDisabledHairstyle2.resource),this.hairstyleUpgradeLevel3<this.hairstyleMaxLevel&&this.moneyManager.totalMoney>=this.hairstyleUpgradeCost3?(this.btnHairstyle3.button||(this.btnHairstyle3.button=this.app.root.findByName("btn_hs3_unlock").button),this.imageHairstyle3.element||(this.imageHairstyle3.element=this.app.root.findByName("Image_hs3").element),this.btnHairstyle3.button.active=!0,this.imageHairstyle3.element.texture=this.textureEnabledHairstyle3.resource):(this.btnHairstyle3.button||(this.btnHairstyle3.button=this.app.root.findByName("btn_hs3_unlock").button),this.imageHairstyle3.element||(this.imageHairstyle3.element=this.app.root.findByName("Image_hs3").element),this.btnHairstyle3.button.active=!1,this.imageHairstyle3.element.texture=this.textureDisabledHairstyle3.resource),this.hairstyleUpgradeLevel4<this.hairstyleMaxLevel&&this.moneyManager.totalMoney>=this.hairstyleUpgradeCost4?(this.btnHairstyle4.button||(this.btnHairstyle4.button=this.app.root.findByName("btn_hs4_unlock").button),this.imageHairstyle4.element||(this.imageHairstyle4.element=this.app.root.findByName("Image_hs4").element),this.btnHairstyle4.button.active=!0,this.imageHairstyle4.element.texture=this.textureEnabledHairstyle4.resource):(this.btnHairstyle4.button||(this.btnHairstyle4.button=this.app.root.findByName("btn_hs4_unlock").button),this.imageHairstyle4.element||(this.imageHairstyle4.element=this.app.root.findByName("Image_hs4").element),this.btnHairstyle4.button.active=!1,this.imageHairstyle4.element.texture=this.textureDisabledHairstyle4.resource)},HairstylesUpgrade.prototype.onClickButtonHs1=function(){this.hairstyleUpgradeLevel1>=this.hairstyleMaxLevel||this.moneyManager.totalMoney>=this.hairstyleUpgradeCost1&&(this.hairstyleChoosers.forEach((function(t){t.enabled&&0===t.script.hairstyleChooser.hairstyles&&t.script.hairstyleChooser.reduceUpdateCap()})),this.moneyManager.subtractMoney(this.hairstyleUpgradeCost1,!1),this.hairstyleUpgradeCost1+=this.initialHairstyleUpgradeCost1/2,this.hairstyleUpgradeLevel1++,this.hairstyleChoosers.forEach((function(t){t.enabled&&0===t.script.hairstyleChooser.hairstyles&&t.script.hairstyleChooser.increaseUpdateCap()})),this.updateAllHairstyleChoosers(),this.updateTextFields(),this.updateScrollbars(),this.updateHairstyleStates(),this.hairstyleSaveManager.saveHairstyles())},HairstylesUpgrade.prototype.onClickButtonHs2=function(){this.hairstyleUpgradeLevel2>=this.hairstyleMaxLevel||(!1!==this.isHairstyleUnlocked2?this.moneyManager.totalMoney>=this.hairstyleUpgradeCost2&&(this.hairstyleChoosers.forEach((function(t){t.enabled&&1===t.script.hairstyleChooser.hairstyles&&t.script.hairstyleChooser.reduceUpdateCap()})),this.moneyManager.subtractMoney(this.hairstyleUpgradeCost2,!1),this.hairstyleUpgradeCost2+=this.initialHairstyleUpgradeCost2/2,this.hairstyleUpgradeLevel2++,this.hairstyleChoosers.forEach((function(t){t.enabled&&1===t.script.hairstyleChooser.hairstyles&&t.script.hairstyleChooser.increaseUpdateCap()})),this.updateAllHairstyleChoosers(),this.updateTextFields(),this.updateScrollbars(),this.updateHairstyleStates(),this.hairstyleSaveManager.saveHairstyles()):this.moneyManager.totalMoney>=this.hairstyleUnlockCost2&&(this.moneyManager.subtractMoney(this.hairstyleUnlockCost2,!1),this.isHairstyleUnlocked2=!0,this.updateTextFields(),this.achievements.increaseUnlockedHaircuts(),this.hairstyleSaveManager.saveHairstyles()))},HairstylesUpgrade.prototype.onClickButtonHs3=function(){this.hairstyleUpgradeLevel3>=this.hairstyleMaxLevel||(!1!==this.isHairstyleUnlocked3?this.moneyManager.totalMoney>=this.hairstyleUpgradeCost3&&(this.hairstyleChoosers.forEach((function(t){t.enabled&&2===t.script.hairstyleChooser.hairstyles&&t.script.hairstyleChooser.reduceUpdateCap()})),this.moneyManager.subtractMoney(this.hairstyleUpgradeCost3,!1),this.hairstyleUpgradeCost3+=this.initialHairstyleUpgradeCost3/2,this.hairstyleUpgradeLevel3++,this.hairstyleChoosers.forEach((function(t){t.enabled&&2===t.script.hairstyleChooser.hairstyles&&t.script.hairstyleChooser.increaseUpdateCap()})),this.updateAllHairstyleChoosers(),this.updateTextFields(),this.updateScrollbars(),this.updateHairstyleStates(),this.hairstyleSaveManager.saveHairstyles()):this.moneyManager.totalMoney>=this.hairstyleUnlockCost3&&(this.moneyManager.subtractMoney(this.hairstyleUnlockCost3,!1),this.isHairstyleUnlocked3=!0,this.updateTextFields(),this.achievements.increaseUnlockedHaircuts(),this.hairstyleSaveManager.saveHairstyles()))},HairstylesUpgrade.prototype.onClickButtonHs4=function(){this.hairstyleUpgradeLevel4>=this.hairstyleMaxLevel||(!1!==this.isHairstyleUnlocked4?this.moneyManager.totalMoney>=this.hairstyleUpgradeCost4&&(this.hairstyleChoosers.forEach((function(t){t.enabled&&3===t.script.hairstyleChooser.hairstyles&&t.script.hairstyleChooser.reduceUpdateCap()})),this.moneyManager.subtractMoney(this.hairstyleUpgradeCost4,!1),this.hairstyleUpgradeCost4+=this.initialHairstyleUpgradeCost4/2,this.hairstyleUpgradeLevel4++,this.hairstyleChoosers.forEach((function(t){t.enabled&&3===t.script.hairstyleChooser.hairstyles&&t.script.hairstyleChooser.increaseUpdateCap()})),this.updateAllHairstyleChoosers(),this.updateTextFields(),this.updateScrollbars(),this.updateHairstyleStates(),this.hairstyleSaveManager.saveHairstyles()):this.moneyManager.totalMoney>=this.hairstyleUnlockCost4&&(this.moneyManager.subtractMoney(this.hairstyleUnlockCost4,!1),this.isHairstyleUnlocked4=!0,this.updateTextFields(),this.achievements.increaseUnlockedHaircuts(),this.hairstyleSaveManager.saveHairstyles()))},HairstylesUpgrade.prototype.updateAllHairstyleChoosers=function(){this.hairstyleChoosers.forEach((function(t){t.enabled&&(t.script.hairstyleChooser.updateHairstyleIncomePercentage(),t.script.hairstyleChooser.updateHairstyleSpeedPercentage())}))},HairstylesUpgrade.prototype.updateTextFields=function(){this.isHairstyleUnlocked1?(this.hairstyleTextLeft1.element.text="Train",this.hairstyleTextRight1.element.text="$"+this.moneyDisplayFormatter.roundFormatEveryThirdPowerAsString(this.hairstyleUpgradeCost1),this.hairstyleTextStats1.enabled=!0,this.hairstyleSlider1.enabled=!0):(this.hairstyleTextLeft1.element.text="Unlock",this.hairstyleTextRight1.element.text="$"+this.moneyDisplayFormatter.roundFormatEveryThirdPowerAsString(this.hairstyleUpgradeCost1),this.hairstyleTextStats1.enabled=!1,this.hairstyleSlider1.enabled=!1),this.isHairstyleUnlocked2?(this.hairstyleTextLeft2.element.text="Train",this.hairstyleTextRight2.element.text="$"+this.moneyDisplayFormatter.formatEveryThirdPowerAsString(this.hairstyleUpgradeCost2),this.hairstyleTextStats2.enabled=!0,this.hairstyleSlider2.enabled=!0):(this.hairstyleTextLeft2.element.text="Unlock",this.hairstyleTextRight2.element.text="$"+this.moneyDisplayFormatter.formatEveryThirdPowerAsString(this.hairstyleUnlockCost2),this.hairstyleTextStats2.enabled=!1,this.hairstyleSlider2.enabled=!1),this.isHairstyleUnlocked3?(this.hairstyleTextLeft3.element.text="Train",this.hairstyleTextRight3.element.text="$"+this.moneyDisplayFormatter.formatEveryThirdPowerAsString(this.hairstyleUpgradeCost3),this.hairstyleTextStats3.enabled=!0,this.hairstyleSlider3.enabled=!0):(this.hairstyleTextLeft3.element.text="Unlock",this.hairstyleTextRight3.element.text="$"+this.moneyDisplayFormatter.formatEveryThirdPowerAsString(this.hairstyleUnlockCost3),this.hairstyleTextStats3.enabled=!1,this.hairstyleSlider3.enabled=!1),this.isHairstyleUnlocked4?(this.hairstyleTextLeft4.element.text="Train",this.hairstyleTextRight4.element.text="$"+this.moneyDisplayFormatter.formatEveryThirdPowerAsString(this.hairstyleUpgradeCost4),this.hairstyleTextStats4.enabled=!0,this.hairstyleSlider4.enabled=!0):(this.hairstyleTextLeft4.element.text="Unlock",this.hairstyleTextRight4.element.text="$"+this.moneyDisplayFormatter.formatEveryThirdPowerAsString(this.hairstyleUnlockCost4),this.hairstyleTextStats4.enabled=!1,this.hairstyleSlider4.enabled=!1),this.updateButtonState()},HairstylesUpgrade.prototype.updateButtonState=function(){this.hairstyleUpgradeLevel1>=this.hairstyleMaxLevel&&(this.btnHairstyle1.button.active=!1,this.hairstyleTextLeft1.enabled=!1,this.hairstyleTextRight1.enabled=!1,this.hairstyleTextMax1.enabled=!0),this.hairstyleUpgradeLevel2>=this.hairstyleMaxLevel&&(this.btnHairstyle2.button.active=!1,this.hairstyleTextLeft2.enabled=!1,this.hairstyleTextRight2.enabled=!1,this.hairstyleTextMax2.enabled=!0),this.hairstyleUpgradeLevel3>=this.hairstyleMaxLevel&&(this.btnHairstyle3.button.active=!1,this.hairstyleTextLeft3.enabled=!1,this.hairstyleTextRight3.enabled=!1,this.hairstyleTextMax3.enabled=!0),this.hairstyleUpgradeLevel4>=this.hairstyleMaxLevel&&(this.btnHairstyle4.button.active=!1,this.hairstyleTextLeft4.enabled=!1,this.hairstyleTextRight4.enabled=!1,this.hairstyleTextMax4.enabled=!0)},HairstylesUpgrade.prototype.updateScrollbars=function(){this.hairstyleScrollbar1.scrollbar.handleSize=this.hairstyleUpgradeLevel1/4,this.hairstyleScrollbar2.scrollbar.handleSize=this.hairstyleUpgradeLevel2/4,this.hairstyleScrollbar3.scrollbar.handleSize=this.hairstyleUpgradeLevel3/4,this.hairstyleScrollbar4.scrollbar.handleSize=this.hairstyleUpgradeLevel4/4},HairstylesUpgrade.prototype.updateStats=function(t){this.hairstyleTextStats1.element.text="+"+t.initialHairstyleIncomePercentage1*this.hairstyleUpgradeLevel1+"% INCOME\n+"+t.initialHairstyleSpeedPercentage1*this.hairstyleUpgradeLevel1+"% SPEED",this.hairstyleTextStats2.element.text="+"+t.initialHairstyleIncomePercentage2*this.hairstyleUpgradeLevel2+"% INCOME\n+"+t.initialHairstyleSpeedPercentage2*this.hairstyleUpgradeLevel2+"% SPEED",this.hairstyleTextStats3.element.text="+"+t.initialHairstyleIncomePercentage3*this.hairstyleUpgradeLevel3+"% INCOME\n+"+t.initialHairstyleSpeedPercentage3*this.hairstyleUpgradeLevel3+"% SPEED",this.hairstyleTextStats4.element.text="+"+t.initialHairstyleIncomePercentage4*this.hairstyleUpgradeLevel4+"% INCOME\n+"+t.initialHairstyleSpeedPercentage4*this.hairstyleUpgradeLevel4+"% SPEED"},HairstylesUpgrade.prototype.removeEvents=function(){this.btnHairstyle1.button.off("click",this.onClickButtonHs1,this),this.btnHairstyle2.button.off("click",this.onClickButtonHs2,this),this.btnHairstyle3.button.off("click",this.onClickButtonHs3,this),this.btnHairstyle4.button.off("click",this.onClickButtonHs4,this)};var ChooseHairstyleDetailsUpdater=pc.createScript("chooseHairstyleDetailsUpdater");ChooseHairstyleDetailsUpdater.attributes.add("btnHairstyle1",{type:"entity",title:"Hairstyle 1 Button"}),ChooseHairstyleDetailsUpdater.attributes.add("btnHairstyle2",{type:"entity",title:"Hairstyle 2 Button"}),ChooseHairstyleDetailsUpdater.attributes.add("btnHairstyle3",{type:"entity",title:"Hairstyle 3 Button"}),ChooseHairstyleDetailsUpdater.attributes.add("btnHairstyle4",{type:"entity",title:"Hairstyle 4 Button"}),ChooseHairstyleDetailsUpdater.attributes.add("imageHairstyle1",{type:"entity",title:"Hairstyle 1 Image"}),ChooseHairstyleDetailsUpdater.attributes.add("imageHairstyle2",{type:"entity",title:"Hairstyle 2 Image"}),ChooseHairstyleDetailsUpdater.attributes.add("imageHairstyle3",{type:"entity",title:"Hairstyle 3 Image"}),ChooseHairstyleDetailsUpdater.attributes.add("imageHairstyle4",{type:"entity",title:"Hairstyle 4 Image"}),ChooseHairstyleDetailsUpdater.attributes.add("textureEnabledHairstyle1",{type:"asset",assetType:"texture",title:"Hairstyle 1 Enabled Texture"}),ChooseHairstyleDetailsUpdater.attributes.add("textureEnabledHairstyle2",{type:"asset",assetType:"texture",title:"Hairstyle 2 Enabled Texture"}),ChooseHairstyleDetailsUpdater.attributes.add("textureEnabledHairstyle3",{type:"asset",assetType:"texture",title:"Hairstyle 3 Enabled Texture"}),ChooseHairstyleDetailsUpdater.attributes.add("textureEnabledHairstyle4",{type:"asset",assetType:"texture",title:"Hairstyle 4 Enabled Texture"}),ChooseHairstyleDetailsUpdater.attributes.add("textureDisabledHairstyle1",{type:"asset",assetType:"texture",title:"Hairstyle 1 Disabled Texture"}),ChooseHairstyleDetailsUpdater.attributes.add("textureDisabledHairstyle2",{type:"asset",assetType:"texture",title:"Hairstyle 2 Disabled Texture"}),ChooseHairstyleDetailsUpdater.attributes.add("textureDisabledHairstyle3",{type:"asset",assetType:"texture",title:"Hairstyle 3 Disabled Texture"}),ChooseHairstyleDetailsUpdater.attributes.add("textureDisabledHairstyle4",{type:"asset",assetType:"texture",title:"Hairstyle 4 Disabled Texture"}),ChooseHairstyleDetailsUpdater.attributes.add("hairstyleTextSelect1",{type:"entity",title:"Hairstyle 1 Select Text"}),ChooseHairstyleDetailsUpdater.attributes.add("hairstyleTextSelect2",{type:"entity",title:"Hairstyle 2 Select Text"}),ChooseHairstyleDetailsUpdater.attributes.add("hairstyleTextSelect3",{type:"entity",title:"Hairstyle 3 Select Text"}),ChooseHairstyleDetailsUpdater.attributes.add("hairstyleTextSelect4",{type:"entity",title:"Hairstyle 4 Select Text"}),ChooseHairstyleDetailsUpdater.attributes.add("hairstyleTextButton1",{type:"entity",title:"Hairstyle 1 Button Text"}),ChooseHairstyleDetailsUpdater.attributes.add("hairstyleTextButton2",{type:"entity",title:"Hairstyle 2 Button Text"}),ChooseHairstyleDetailsUpdater.attributes.add("hairstyleTextButton3",{type:"entity",title:"Hairstyle 3 Button Text"}),ChooseHairstyleDetailsUpdater.attributes.add("hairstyleTextButton4",{type:"entity",title:"Hairstyle 4 Button Text"}),ChooseHairstyleDetailsUpdater.attributes.add("hairstyleTextStats1",{type:"entity",title:"Hairstyle 1 Stats Text"}),ChooseHairstyleDetailsUpdater.attributes.add("hairstyleTextStats2",{type:"entity",title:"Hairstyle 2 Stats Text"}),ChooseHairstyleDetailsUpdater.attributes.add("hairstyleTextStats3",{type:"entity",title:"Hairstyle 3 Stats Text"}),ChooseHairstyleDetailsUpdater.attributes.add("hairstyleTextStats4",{type:"entity",title:"Hairstyle 4 Stats Text"}),ChooseHairstyleDetailsUpdater.attributes.add("hairstyleSlider1",{type:"entity",title:"Hairstyle 1 Slider"}),ChooseHairstyleDetailsUpdater.attributes.add("hairstyleSlider2",{type:"entity",title:"Hairstyle 2 Slider"}),ChooseHairstyleDetailsUpdater.attributes.add("hairstyleSlider3",{type:"entity",title:"Hairstyle 3 Slider"}),ChooseHairstyleDetailsUpdater.attributes.add("hairstyleSlider4",{type:"entity",title:"Hairstyle 4 Slider"}),ChooseHairstyleDetailsUpdater.attributes.add("hairstyleScrollbar1",{type:"entity",title:"Hairstyle 1 Scrollbar"}),ChooseHairstyleDetailsUpdater.attributes.add("hairstyleScrollbar2",{type:"entity",title:"Hairstyle 2 Scrollbar"}),ChooseHairstyleDetailsUpdater.attributes.add("hairstyleScrollbar3",{type:"entity",title:"Hairstyle 3 Scrollbar"}),ChooseHairstyleDetailsUpdater.attributes.add("hairstyleScrollbar4",{type:"entity",title:"Hairstyle 4 Scrollbar"}),ChooseHairstyleDetailsUpdater.prototype.initialize=function(){this.hairstylesUpgrade=this.app.root.findByName("Hairstyles Upgrade Board Panel").script.hairstylesUpgrade,this.hairstylesUpgrade&&(this.hairstylesUpgrade.entity.enabled=!0,this.hairstylesUpgrade.entity.enabled=!1),this.updateStats()},ChooseHairstyleDetailsUpdater.prototype.updateStats=function(){this.updateHairstyleStatus(),this.hairstyleTextStats1.element.text=this.hairstylesUpgrade.hairstyleTextStats1.element.text,this.hairstyleTextStats2.element.text=this.hairstylesUpgrade.hairstyleTextStats2.element.text,this.hairstyleTextStats3.element.text=this.hairstylesUpgrade.hairstyleTextStats3.element.text,this.hairstyleTextStats4.element.text=this.hairstylesUpgrade.hairstyleTextStats4.element.text,this.hairstyleScrollbar1.scrollbar.handleSize=this.hairstylesUpgrade.hairstyleUpgradeLevel1/4,this.hairstyleScrollbar2.scrollbar.handleSize=this.hairstylesUpgrade.hairstyleUpgradeLevel2/4,this.hairstyleScrollbar3.scrollbar.handleSize=this.hairstylesUpgrade.hairstyleUpgradeLevel3/4,this.hairstyleScrollbar4.scrollbar.handleSize=this.hairstylesUpgrade.hairstyleUpgradeLevel4/4},ChooseHairstyleDetailsUpdater.prototype.updateHairstyleStatus=function(){this.hairstylesUpgrade||(this.hairstylesUpgrade=this.app.root.findByName("Hairstyles Upgrade Board Panel").script.hairstylesUpgrade),this.hairstylesUpgrade.isHairstyleUnlocked2?(this.hairstyleTextStats2.enabled=!0,this.hairstyleSlider2.enabled=!0,this.btnHairstyle2.button.active=!0,this.hairstyleTextButton2.element.text="Select",this.imageHairstyle2.element.texture=this.textureEnabledHairstyle2.resource):(this.hairstyleTextStats2.enabled=!1,this.hairstyleSlider2.enabled=!1,this.btnHairstyle2.button.active=!1,this.hairstyleTextButton2.element.text="Locked",this.imageHairstyle2.element.texture=this.textureDisabledHairstyle2.resource),this.hairstylesUpgrade.isHairstyleUnlocked3?(this.hairstyleTextStats3.enabled=!0,this.hairstyleSlider3.enabled=!0,this.btnHairstyle3.button.active=!0,this.hairstyleTextButton3.element.text="Select",this.imageHairstyle3.element.texture=this.textureEnabledHairstyle3.resource):(this.hairstyleTextStats3.enabled=!1,this.hairstyleSlider3.enabled=!1,this.btnHairstyle3.button.active=!1,this.hairstyleTextButton3.element.text="Locked",this.imageHairstyle3.element.texture=this.textureDisabledHairstyle3.resource),this.hairstylesUpgrade.isHairstyleUnlocked4?(this.hairstyleTextStats4.enabled=!0,this.hairstyleSlider4.enabled=!0,this.btnHairstyle4.button.active=!0,this.hairstyleTextButton4.element.text="Select",this.imageHairstyle4.element.texture=this.textureEnabledHairstyle4.resource):(this.hairstyleTextStats4.enabled=!1,this.hairstyleSlider4.enabled=!1,this.btnHairstyle4.button.active=!1,this.hairstyleTextButton4.element.text="Locked",this.imageHairstyle4.element.texture=this.textureDisabledHairstyle4.resource)};var CarpetSpawner=pc.createScript("carpetSpawner");CarpetSpawner.attributes.add("id",{type:"number",title:"Id"}),CarpetSpawner.attributes.add("cost",{type:"number",title:"Cost"}),CarpetSpawner.attributes.add("carpet",{type:"entity",title:"Carpet"}),CarpetSpawner.attributes.add("isPurchased",{type:"boolean",title:"Is Purchased",default:!1}),CarpetSpawner.attributes.add("priceDisplay",{type:"entity",title:"Price Display"}),CarpetSpawner.attributes.add("priceDisplayMaterials",{type:"asset",assetType:"material",array:!0,title:"Price Display Materials"}),CarpetSpawner.attributes.add("tutorialEntity",{type:"entity",title:"Tutorial"}),CarpetSpawner.prototype.initialize=function(){this.moneyManager=this.app.root.findByName("@Money Manager").script.moneyManager,this.carpetSpawnersController=this.app.root.findByName("@Carpet Spawners Controller").script.carpetSpawnersController,this.achievements=this.app.root.findByName("@Achievements Controller").script.achievementsController,this.chairSaveManager=this.app.root.findByName("@Chair Save Manager").script.chairSaveManager,this.productionCap=this.app.root.findByName("@Production Cap").script.productionCap,this.panelController=this.app.root.findByName("@Panel Controller").script.panelController,this.tutorialEntity&&(this.tutorial=this.tutorialEntity.script.tutorial),this.updatePriceDisplay();try{this.chairSaveManager.loadData&&this.chairSaveManager.loadCarpetSpawner(this)}catch(t){console.log(t)}},CarpetSpawner.prototype.postInitialize=function(){this.isPurchased&&(this.initializeCarpet(),this.entity.enabled=!1)},CarpetSpawner.prototype.hireBarber=function(){(!this.tutorialEntity||!1!==this.tutorial.isTut1Finished&&!1!==this.tutorial.isTut2Finished&&!1!==this.tutorial.isTut3Finished&&!1!==this.tutorial.tut4)&&this.moneyManager.totalMoney>this.cost&&(this.isPurchased=!0,this.carpet.enabled=!0,this.entity.enabled=!1,this.moneyManager.subtractMoney(this.cost,!0),this.carpetSpawnersController.unlockNextSpawner(),this.productionCap.addProductionCap(this.carpet.script.waitLine.getProduction()),this.chairSaveManager.saveCarpetSpawner(this),this.achievements.increaseChairLevel(),this.tutorialEntity&&!1===this.tutorial.isTut4Finished&&this.tutorial.tut4.enabled&&(this.tutorial.tut4Goal--,this.tutorial.checkTutorialStates()))},CarpetSpawner.prototype.hireBarberForFree=function(){this.isPurchased=!0,this.carpet.enabled=!0,this.entity.enabled=!1,this.carpetSpawnersController.unlockNextSpawner(),this.productionCap.addProductionCap(this.carpet.script.waitLine.getProduction()),this.chairSaveManager.saveCarpetSpawner(this),this.achievements.increaseChairLevel()},CarpetSpawner.prototype.initializeCarpet=function(){this.carpet.enabled=!0,this.isPurchased=!0,this.carpetSpawnersController.unlockNextSpawner()},CarpetSpawner.prototype.updatePriceDisplay=function(){var t;if(this.moneyManager||(this.moneyManager=this.app.root.findByName("@Money Manager").script.moneyManager),this.moneyManager){this.moneyManager.totalMoney>=this.cost?(t=this.priceDisplayMaterials[1],this.tutorialEntity&&!1===this.tutorial.isTut4Finished&&!1===this.tutorial.tut4.enabled&&!1===this.panelController.isChairPanelOpen()&&this.tutorial.checkForTutorials()):t=this.priceDisplayMaterials[0];for(var e=this.priceDisplay.model.meshInstances,a=0;a<e.length;++a){e[a].material=t.resource}}},CarpetSpawner.prototype.checkIfAvailableToPurchase=function(){return this.moneyManager.totalMoney>=this.cost};var CarpetSpawnerPicker=pc.createScript("carpetSpawnerPicker");CarpetSpawnerPicker.prototype.initialize=function(){this.app.mouse.on(pc.EVENT_MOUSEDOWN,this.onSelect,this),this.app.touch&&this.app.touch.on(pc.EVENT_TOUCHSTART,this.onTouchStart,this),this.panelController=this.app.root.findByName("@Panel Controller").script.panelController,this.cameraMovementButtons=this.app.root.findByName("ui_camera_move_buttons").script.cameraMovementButtons},CarpetSpawnerPicker.prototype.onTouchStart=function(t){1==t.touches.length&&(this.onSelect(t.touches[0]),t.event.preventDefault())},CarpetSpawnerPicker.prototype.onSelect=function(t){if(!this.panelController.isPanelOpen()&&!this.cameraMovementButtons.isHoldingButton){try{if(0===parseInt(localStorage.getItem("input")))return}catch(t){console.log(t)}var e=this.entity.camera.screenToWorld(t.x,t.y,this.entity.camera.nearClip),r=this.entity.camera.screenToWorld(t.x,t.y,this.entity.camera.farClip),o=this.panelController;this.app.systems.rigidbody.raycastFirst(e,r,(function(t){var e=t.entity;e.script&&e.script.carpetSpawner&&(o.closeAllPanels(),e.script.carpetSpawner.hireBarber())}))}},CarpetSpawnerPicker.prototype.removeEvents=function(){this.app.mouse.off(pc.EVENT_MOUSEDOWN,this.onSelect,this),this.app.touch&&this.app.touch.off(pc.EVENT_TOUCHSTART,this.onSelect,this)};var CarpetSpawnersController=pc.createScript("carpetSpawnersController");CarpetSpawnersController.attributes.add("carpetSpawners",{type:"entity",title:"Carpet Spawners",array:!0}),CarpetSpawnersController.attributes.add("levelControllerEntity",{type:"entity",title:"Level Controller"}),CarpetSpawnersController.prototype.initialize=function(){this.levelController=this.levelControllerEntity.script.levelController},CarpetSpawnersController.prototype.unlockNextSpawner=function(){for(i=0;i<this.carpetSpawners.length;i++)if(!1===this.carpetSpawners[i].script.carpetSpawner.isPurchased)return void(this.carpetSpawners[i].enabled=!0)},CarpetSpawnersController.prototype.updateCarpetSpawners=function(){if(!this.levelController.isInCity)for(i=0;i<this.carpetSpawners.length;i++)this.carpetSpawners[i].script.carpetSpawner.updatePriceDisplay()};var CloseButtonChairUpgrades=pc.createScript("closeButtonChairUpgrades");CloseButtonChairUpgrades.attributes.add("activePanel",{type:"entity",title:"Panel to Close"}),CloseButtonChairUpgrades.attributes.add("selectedChair",{type:"entity",title:"Selected Chair"}),CloseButtonChairUpgrades.prototype.initialize=function(){this.entity.button.on("click",this.onClick,this)},CloseButtonChairUpgrades.prototype.onClick=function(t){this.selectedChair.script.selectedChair.currentSelectedChair.script.chair.disableButtonEvents(),this.activePanel.enabled=!1},CloseButtonChairUpgrades.prototype.disableSelectedChairButtonEvents=function(){this.selectedChair.script.selectedChair.currentSelectedChair&&this.selectedChair.script.selectedChair.currentSelectedChair.script.chair.disableButtonEvents()},CloseButtonChairUpgrades.prototype.removeEvents=function(){this.entity.button.off("click",this.onClick,this)};var EarningsText=pc.createScript("earningsText");EarningsText.attributes.add("duration",{type:"number",title:"Animation Duration",default:2}),EarningsText.attributes.add("offsetPos",{type:"vec3",title:"Offset"}),EarningsText.prototype.initialize=function(){this.moneyDisplayFormatter=this.app.root.findByName("@Money Display Formatter").script.moneyDisplayFormatter,this.textElement=this.entity.element,this.fadeText=!1,this.isObjectBeingDestroyed=!1},EarningsText.prototype.update=function(t){this.isObjectBeingDestroyed||this.fadeText&&(this.entity.element.opacity-=t,this.entity.element.outlineThickness-=t,this.entity.element.opacity<=0&&(this.isObjectBeingDestroyed=!1,this.removeEntity()))},EarningsText.prototype.updateValue=function(t){this.textElement.text="+$"+this.moneyDisplayFormatter.roundFormatEveryThirdPowerAsString(t),this.animateTextPosition()},EarningsText.prototype.animateTextPosition=function(){this.tween&&this.tween.stop();var t=new pc.Vec3(this.entity.getLocalPosition().x+this.offsetPos.x,this.entity.getLocalPosition().y+this.offsetPos.y,this.entity.getLocalPosition().z+this.offsetPos.z);this.tween=this.entity.tween(this.entity.getLocalPosition()).to(t,this.duration,pc.Linear).on("complete",(()=>this.animateTextColor())),this.tween.start()},EarningsText.prototype.animateTextColor=function(){this.fadeText=!0},EarningsText.prototype.removeEntity=function(){this.entity.destroy()};var MoneyDisplayFormatter=pc.createScript("moneyDisplayFormatter");MoneyDisplayFormatter.prototype.formatEveryThirdPower=function(e){var i=e;return i<1e4?Math.round(100*(i+Number.EPSILON))/100:i>=1e4&&i<1e6?+(i/1e3).toFixed(2)+"k":i>=1e6&&i<1e9?+(i/1e6).toFixed(2)+"M":i>=1e9&&i<1e12?+(i/1e9).toFixed(2)+"B":i>=1e12&&i<1e15?+(i/1e12).toFixed(2)+"T":i>=1e15&&i<1e18?+(i/1e15).toFixed(2)+"Qa":i>=1e18&&i<1e21?+(i/1e18).toFixed(2)+"Qi":i>=1e21&&i<1e24?+(i/1e21).toFixed(2)+"Sx":i>=1e24&&i<1e27?+(i/1e24).toFixed(2)+"Sp":i>=1e27&&i<1e30?+(i/1e27).toFixed(2)+"Oc":i>=1e30&&i<1e33?+(i/1e30).toFixed(2)+"No":i>=1e33&&i<1e36?+(i/1e33).toFixed(2)+"Dc":void 0},MoneyDisplayFormatter.prototype.roundFormatEveryThirdPower=function(e){var i=Math.round(e);return i<1e4?Math.round(100*(i+Number.EPSILON))/100:i>=1e4&&i<1e6?+(i/1e3).toFixed(2)+"k":i>=1e6&&i<1e9?+(i/1e6).toFixed(2)+"M":i>=1e9&&i<1e12?+(i/1e9).toFixed(2)+"B":i>=1e12&&i<1e15?+(i/1e12).toFixed(2)+"T":i>=1e15&&i<1e18?+(i/1e15).toFixed(2)+"Qa":i>=1e18&&i<1e21?+(i/1e18).toFixed(2)+"Qi":i>=1e21&&i<1e24?+(i/1e21).toFixed(2)+"Sx":i>=1e24&&i<1e27?+(i/1e24).toFixed(2)+"Sp":i>=1e27&&i<1e30?+(i/1e27).toFixed(2)+"Oc":i>=1e30&&i<1e33?+(i/1e30).toFixed(2)+"No":i>=1e33&&i<1e36?+(i/1e33).toFixed(2)+"Dc":void 0},MoneyDisplayFormatter.prototype.formatEveryThirdPowerAsString=function(e){var i=e;return i<1e4?(Math.round(100*(i+Number.EPSILON))/100).toLocaleString("en-US",{maximumFractionDigits:2}):i>=1e4&&i<1e6?(+i/1e3).toLocaleString("en-US",{maximumFractionDigits:2})+"k":i>=1e6&&i<1e9?(+i/1e6).toLocaleString("en-US",{maximumFractionDigits:2})+"M":i>=1e9&&i<1e12?(+i/1e9).toLocaleString("en-US",{maximumFractionDigits:2})+"B":i>=1e12&&i<1e15?(+i/1e12).toLocaleString("en-US",{maximumFractionDigits:2})+"T":i>=1e15&&i<1e18?(+i/1e15).toLocaleString("en-US",{maximumFractionDigits:2})+"Qa":i>=1e18&&i<1e21?(+i/1e18).toLocaleString("en-US",{maximumFractionDigits:2})+"Qi":i>=1e21&&i<1e24?(+i/1e21).toLocaleString("en-US",{maximumFractionDigits:2})+"Sx":i>=1e24&&i<1e27?(+i/1e24).toLocaleString("en-US",{maximumFractionDigits:2})+"Sp":i>=1e27&&i<1e30?(+i/1e27).toLocaleString("en-US",{maximumFractionDigits:2})+"Oc":i>=1e30&&i<1e33?(+i/1e30).toLocaleString("en-US",{maximumFractionDigits:2})+"No":i>=1e33&&i<1e36?(+i/1e33).toLocaleString("en-US",{maximumFractionDigits:2})+"Dc":void 0},MoneyDisplayFormatter.prototype.formatEveryThirdPowerAsStringExceptK=function(e){var i=e;return i<1e4?(Math.round(100*(i+Number.EPSILON))/100).toLocaleString("en-US",{maximumFractionDigits:0}):i>=1e4&&i<1e6?(+i/1e3).toLocaleString("en-US",{maximumFractionDigits:2})+"k":i>=1e6&&i<1e9?(+i/1e6).toLocaleString("en-US",{maximumFractionDigits:2})+"M":i>=1e9&&i<1e12?(+i/1e9).toLocaleString("en-US",{maximumFractionDigits:2})+"B":i>=1e12&&i<1e15?(+i/1e12).toLocaleString("en-US",{maximumFractionDigits:2})+"T":i>=1e15&&i<1e18?(+i/1e15).toLocaleString("en-US",{maximumFractionDigits:2})+"Qa":i>=1e18&&i<1e21?(+i/1e18).toLocaleString("en-US",{maximumFractionDigits:2})+"Qi":i>=1e21&&i<1e24?(+i/1e21).toLocaleString("en-US",{maximumFractionDigits:2})+"Sx":i>=1e24&&i<1e27?(+i/1e24).toLocaleString("en-US",{maximumFractionDigits:2})+"Sp":i>=1e27&&i<1e30?(+i/1e27).toLocaleString("en-US",{maximumFractionDigits:2})+"Oc":i>=1e30&&i<1e33?(+i/1e30).toLocaleString("en-US",{maximumFractionDigits:2})+"No":i>=1e33&&i<1e36?(+i/1e33).toLocaleString("en-US",{maximumFractionDigits:2})+"Dc":void 0},MoneyDisplayFormatter.prototype.roundFormatEveryThirdPowerAsString=function(e){var i=Math.round(e);return i<1e4?(Math.round(100*(i+Number.EPSILON))/100).toLocaleString("en-US",{maximumFractionDigits:0}):i>=1e4&&i<1e6?(+i/1e3).toLocaleString("en-US",{maximumFractionDigits:1})+"k":i>=1e6&&i<1e9?(+i/1e6).toLocaleString("en-US",{maximumFractionDigits:1})+"M":i>=1e9&&i<1e12?(+i/1e9).toLocaleString("en-US",{maximumFractionDigits:1})+"B":i>=1e12&&i<1e15?(+i/1e12).toLocaleString("en-US",{maximumFractionDigits:1})+"T":i>=1e15&&i<1e18?(+i/1e15).toLocaleString("en-US",{maximumFractionDigits:1})+"Qa":i>=1e18&&i<1e21?(+i/1e18).toLocaleString("en-US",{maximumFractionDigits:1})+"Qi":i>=1e21&&i<1e24?(+i/1e21).toLocaleString("en-US",{maximumFractionDigits:1})+"Sx":i>=1e24&&i<1e27?(+i/1e24).toLocaleString("en-US",{maximumFractionDigits:1})+"Sp":i>=1e27&&i<1e30?(+i/1e27).toLocaleString("en-US",{maximumFractionDigits:1})+"Oc":i>=1e30&&i<1e33?(+i/1e30).toLocaleString("en-US",{maximumFractionDigits:1})+"No":i>=1e33&&i<1e36?(+i/1e33).toLocaleString("en-US",{maximumFractionDigits:1})+"Dc":void 0};var ElementDrawOrder=pc.createScript("elementDrawOrder");ElementDrawOrder.attributes.add("thisDrawOrder",{type:"number",title:"Handle Draw Order",default:10}),ElementDrawOrder.prototype.initialize=function(){this.entity.element.drawOrder=this.thisDrawOrder};var SaveManager=pc.createScript("saveManager");SaveManager.attributes.add("isChair1Shop1Unlocked",{type:"boolean",title:"Chair 1 Shop 1"}),SaveManager.attributes.add("isChair2Shop1Unlocked",{type:"boolean",title:"Chair 2 Shop 1"}),SaveManager.attributes.add("isChair3Shop1Unlocked",{type:"boolean",title:"Chair 3 Shop 1"}),SaveManager.attributes.add("isChair4Shop1Unlocked",{type:"boolean",title:"Chair 4 Shop 1"}),SaveManager.prototype.initialize=function(){};var ProductionCap=pc.createScript("productionCap");ProductionCap.attributes.add("carpets",{type:"entity",title:"Carpets",array:!0}),ProductionCap.attributes.add("totalProductionCap",{type:"number",title:"Total Production cap"}),ProductionCap.attributes.add("maxTimer",{type:"number",title:"Production Cap Money Reward Timer",default:3}),ProductionCap.prototype.initialize=function(){this.prodCapUi=this.app.root.findByName("ui_money_gains").script.productionCapUiupdater,this.moneySaveManager=this.app.root.findByName("@Money Save Manager").script.moneySaveManager,this.moneyManager=this.app.root.findByName("@Money Manager").script.moneyManager,this.levelController=this.app.root.findByName("@Level Controller").script.levelController,this.timer=0,this.stopUpdate=!1,this.updateTimer()},ProductionCap.prototype.postInitialize=function(){try{this.moneySaveManager.loadData&&(this.moneySaveManager.loadCap(),this.prodCapUi.updateCapText(this.totalProductionCap))}catch(t){console.log(t)}this.totalProductionCap<=0&&this.addProductionCap(2)},ProductionCap.prototype.update=function(t){this.timer>0?this.timer-=t:(this.moneyManager||(this.moneyManager=this.app.root.findByName("@Money Manager").script.moneyManager),this.moneyManager.addProductionMoney(this.totalProductionCap),this.updateTimer())},ProductionCap.prototype.addProductionCap=function(t){this.totalProductionCap+=t,this.prodCapUi.updateCapText(this.totalProductionCap),this.moneySaveManager.saveCap()},ProductionCap.prototype.subtractProductionCap=function(t){this.totalProductionCap-=t,this.prodCapUi.updateCapText(this.totalProductionCap),this.moneySaveManager.saveCap()},ProductionCap.prototype.updateTimer=function(){this.timer=Math.random()*this.maxTimer,this.timer<1&&(this.timer=1)};var ProductionCapUiupdater=pc.createScript("productionCapUiupdater");ProductionCapUiupdater.attributes.add("textProductionCap",{type:"entity",title:"Production Cap Text"}),ProductionCapUiupdater.attributes.add("textHolder",{type:"entity",title:"Text Holder"}),ProductionCapUiupdater.attributes.add("tweenDuration",{type:"number",title:"Animation Duration",default:.2}),ProductionCapUiupdater.prototype.initialize=function(){this.moneyDisplayFormatter=this.app.root.findByName("@Money Display Formatter").script.moneyDisplayFormatter},ProductionCapUiupdater.prototype.updateCapText=function(t){this.textProductionCap.element.text="Cap: $"+this.moneyDisplayFormatter.formatEveryThirdPowerAsStringExceptK(t),this.animateElement()},ProductionCapUiupdater.prototype.animateElement=function(){this.prodCapTween&&this.prodCapTween.stop(),this.prodCapTween=this.textHolder.tween(this.textHolder.getLocalScale()).to(new pc.Vec3(1.1,1.1,1.1),this.tweenDuration,pc.SineOut).on("complete",(()=>this.reset())),this.textHolder.element.color=new pc.Color(120/255,1,147/255),this.prodCapTween.start()},ProductionCapUiupdater.prototype.reset=function(){this.prodCapTween&&this.prodCapTween.stop(),this.prodCapTween=this.textHolder.tween(this.textHolder.getLocalScale()).to(new pc.Vec3(1,1,1),this.tweenDuration,pc.SineOut).on("complete",(()=>this.resetColor())),this.prodCapTween.start()},ProductionCapUiupdater.prototype.resetColor=function(){this.textHolder.element.color=new pc.Color(255,255,255)};var CameraMovementButtons=pc.createScript("cameraMovementButtons");CameraMovementButtons.attributes.add("camera",{type:"entity",title:"Camera"}),CameraMovementButtons.attributes.add("speed",{type:"number",title:"Camera Movement Speed"}),CameraMovementButtons.attributes.add("btnLeft",{type:"entity",title:"Left Button"}),CameraMovementButtons.attributes.add("btnRight",{type:"entity",title:"Right Button"}),CameraMovementButtons.attributes.add("btnUp",{type:"entity",title:"Up Button"}),CameraMovementButtons.attributes.add("btnDown",{type:"entity",title:"Down Button"}),CameraMovementButtons.attributes.add("maxPos",{type:"vec3",title:"Max Position"}),CameraMovementButtons.attributes.add("minPos",{type:"vec3",title:"Min Position"}),CameraMovementButtons.attributes.add("allowXMovement",{type:"boolean",title:"Allow Movement on X-Axis"}),CameraMovementButtons.attributes.add("allowZMovement",{type:"boolean",title:"Allow Movement on Z-Axis"}),CameraMovementButtons.attributes.add("isPlanetScene",{type:"boolean",title:"Is Planet Scene?"}),CameraMovementButtons.prototype.initialize=function(){this.isMovingLeft=!1,this.isMovingRight=!1,this.isMovingUp=!1,this.isMovingDown=!1,this.isHoldingButton=!1,this.btnLeft.button.on("mousedown",this.onClickLeft,this),this.btnRight.button.on("mousedown",this.onClickRight,this),this.btnUp.button.on("mousedown",this.onClickUp,this),this.btnDown.button.on("mousedown",this.onClickDown,this),this.btnLeft.button.on("mouseup",this.onReleaseLeft,this),this.btnRight.button.on("mouseup",this.onReleaseRight,this),this.btnUp.button.on("mouseup",this.onReleaseUp,this),this.btnDown.button.on("mouseup",this.onReleaseDown,this),this.btnLeft.button.on("mouseleave",this.onReleaseLeft,this),this.btnRight.button.on("mouseleave",this.onReleaseRight,this),this.btnUp.button.on("mouseleave",this.onReleaseUp,this),this.btnDown.button.on("mouseleave",this.onReleaseDown,this),this.btnLeft.button.on("touchstart",this.onClickLeft,this),this.btnRight.button.on("touchstart",this.onClickRight,this),this.btnUp.button.on("touchstart",this.onClickUp,this),this.btnDown.button.on("touchstart",this.onClickDown,this),this.btnLeft.button.on("touchend",this.onReleaseLeft,this),this.btnRight.button.on("touchend",this.onReleaseRight,this),this.btnUp.button.on("touchend",this.onReleaseUp,this),this.btnDown.button.on("touchend",this.onReleaseDown,this),!1===this.allowXMovement&&(this.btnLeft.enabled=!1,this.btnRight.enabled=!1),!1===this.allowZMovement&&(this.btnUp.enabled=!1,this.btnDown.enabled=!1),this.isPlanetScene&&(this.planet=this.app.root.findByName("World"))},CameraMovementButtons.prototype.update=function(t){try{if(0===parseInt(localStorage.getItem("input")))return}catch(t){console.log(t)}if(this.isPlanetScene)return this.isMovingLeft&&this.allowXMovement&&this.rotateLeft(),this.isMovingRight&&this.allowXMovement&&this.rotateRight(),this.isMovingUp&&this.allowZMovement&&this.rotateUp(),this.isMovingDown&&this.allowZMovement&&this.rotateDown(),void this.handleKeyboardInputForPlanetRotation();this.isMovingLeft&&this.allowXMovement&&this.moveLeft(),this.isMovingRight&&this.allowXMovement&&this.moveRight(),this.isMovingUp&&this.allowZMovement&&this.moveUp(),this.isMovingDown&&this.allowZMovement&&this.moveDown(),this.handleKeyboardInput()},CameraMovementButtons.prototype.rotateLeft=function(){this.planet.rotate(0,2*-this.speed,0)},CameraMovementButtons.prototype.rotateRight=function(){this.planet.rotate(0,2*this.speed,0)},CameraMovementButtons.prototype.rotateUp=function(){this.planet.rotate(2*this.speed,0,0)},CameraMovementButtons.prototype.rotateDown=function(){this.planet.rotate(2*-this.speed,0,0)},CameraMovementButtons.prototype.handleKeyboardInputForPlanetRotation=function(){(this.app.keyboard.isPressed(pc.KEY_LEFT)||this.app.keyboard.isPressed(pc.KEY_A))&&this.allowXMovement&&this.rotateLeft(),(this.app.keyboard.isPressed(pc.KEY_RIGHT)||this.app.keyboard.isPressed(pc.KEY_D))&&this.allowXMovement&&this.rotateRight(),(this.app.keyboard.isPressed(pc.KEY_UP)||this.app.keyboard.isPressed(pc.KEY_W))&&this.allowZMovement&&this.rotateUp(),(this.app.keyboard.isPressed(pc.KEY_DOWN)||this.app.keyboard.isPressed(pc.KEY_S))&&this.allowZMovement&&this.rotateDown()},CameraMovementButtons.prototype.handleKeyboardInput=function(){(this.app.keyboard.isPressed(pc.KEY_LEFT)||this.app.keyboard.isPressed(pc.KEY_A))&&this.allowXMovement&&this.moveLeft(),(this.app.keyboard.isPressed(pc.KEY_RIGHT)||this.app.keyboard.isPressed(pc.KEY_D))&&this.allowXMovement&&this.moveRight(),(this.app.keyboard.isPressed(pc.KEY_UP)||this.app.keyboard.isPressed(pc.KEY_W))&&this.allowZMovement&&this.moveUp(),(this.app.keyboard.isPressed(pc.KEY_DOWN)||this.app.keyboard.isPressed(pc.KEY_S))&&this.allowZMovement&&this.moveDown()},CameraMovementButtons.prototype.onClickLeft=function(){this.isMovingLeft=!0,this.isMovingRight=!1,this.isHoldingButton=!0},CameraMovementButtons.prototype.onClickRight=function(){this.isMovingLeft=!1,this.isMovingRight=!0,this.isHoldingButton=!0},CameraMovementButtons.prototype.onClickUp=function(){this.isMovingUp=!0,this.isMovingDown=!1,this.isHoldingButton=!0},CameraMovementButtons.prototype.onClickDown=function(){this.isMovingUp=!1,this.isMovingDown=!0,this.isHoldingButton=!0},CameraMovementButtons.prototype.onReleaseLeft=function(){this.isMovingLeft=!1,this.isHoldingButton=!1},CameraMovementButtons.prototype.onReleaseRight=function(){this.isMovingRight=!1,this.isHoldingButton=!1},CameraMovementButtons.prototype.onReleaseUp=function(){this.isMovingUp=!1,this.isHoldingButton=!1},CameraMovementButtons.prototype.onReleaseDown=function(){this.isMovingDown=!1,this.isHoldingButton=!1},CameraMovementButtons.prototype.moveLeft=function(){var t=this.getCurrentCameraPosition();if(t.x<=this.minPos.x)return!1;this.camera.setLocalPosition(t.x-this.speed,t.y,t.z)},CameraMovementButtons.prototype.moveRight=function(){var t=this.getCurrentCameraPosition();if(t.x>=this.maxPos.x)return!1;this.camera.setLocalPosition(t.x+this.speed,t.y,t.z)},CameraMovementButtons.prototype.moveUp=function(){var t=this.getCurrentCameraPosition();if(t.z<=this.maxPos.z)return!1;t.x<=this.minPos.x?this.camera.setLocalPosition(t.x,t.y,t.z-this.speed):this.camera.setLocalPosition(t.x-this.speed,t.y,t.z-this.speed)},CameraMovementButtons.prototype.moveDown=function(){var t=this.getCurrentCameraPosition();if(t.z>=this.minPos.z)return!1;t.x>=this.maxPos.x?this.camera.setLocalPosition(t.x,t.y,t.z+this.speed):this.camera.setLocalPosition(t.x+this.speed,t.y,t.z+this.speed)},CameraMovementButtons.prototype.getCurrentCameraPosition=function(){var t=this.camera.getLocalPosition().x,e=this.camera.getLocalPosition().y,o=this.camera.getLocalPosition().z;return new pc.Vec3(t,e,o)},CameraMovementButtons.prototype.removeEvents=function(){this.btnLeft.button.off("mousedown",this.onClickLeft,this),this.btnRight.button.off("mousedown",this.onClickRight,this),this.btnUp.button.off("mousedown",this.onClickUp,this),this.btnDown.button.off("mousedown",this.onClickDown,this),this.btnLeft.button.off("mouseup",this.onReleaseLeft,this),this.btnRight.button.off("mouseup",this.onReleaseRight,this),this.btnUp.button.off("mouseup",this.onReleaseUp,this),this.btnDown.button.off("mouseup",this.onReleaseDown,this),this.btnLeft.button.off("mouseleave",this.onReleaseLeft,this),this.btnRight.button.off("mouseleave",this.onReleaseRight,this),this.btnUp.button.off("mouseleave",this.onReleaseUp,this),this.btnDown.button.off("mouseleave",this.onReleaseDown,this),this.btnLeft.button.off("touchstart",this.onClickLeft,this),this.btnRight.button.off("touchstart",this.onClickRight,this),this.btnUp.button.off("touchstart",this.onClickUp,this),this.btnDown.button.off("touchstart",this.onClickDown,this),this.btnLeft.button.off("touchend",this.onReleaseLeft,this),this.btnRight.button.off("touchend",this.onReleaseRight,this),this.btnUp.button.off("touchend",this.onReleaseUp,this),this.btnDown.button.off("touchend",this.onReleaseDown,this)};var AchievementsController=pc.createScript("achievementsController");AchievementsController.attributes.add("achievementPanelEntity",{type:"entity",title:"Achievements Panel"}),AchievementsController.attributes.add("ach1Goal",{type:"number",title:"Earn Wealth",default:100}),AchievementsController.attributes.add("ach2Goal",{type:"number",title:"Purchase Chairs",default:2}),AchievementsController.attributes.add("ach3Goal",{type:"number",title:"Invest",default:100}),AchievementsController.attributes.add("ach4Goal",{type:"number",title:"Upgrade",default:2}),AchievementsController.attributes.add("ach5Goal",{type:"number",title:"Unlock Haircuts",default:2}),AchievementsController.attributes.add("ach6Goal",{type:"number",title:"Hire Managers",default:1}),AchievementsController.attributes.add("ach7Goal",{type:"number",title:"Upgrade Managers",default:1}),AchievementsController.attributes.add("ach8Goal",{type:"number",title:"Unlock Cities",default:2}),AchievementsController.attributes.add("ach9Goal",{type:"number",title:"Own Shops",default:2}),AchievementsController.attributes.add("ach10Goal",{type:"number",title:"Invite customers",default:100}),AchievementsController.attributes.add("ach11Goal",{type:"number",title:"Serve your customers quicker",default:100}),AchievementsController.attributes.add("ach12Goal",{type:"number",title:"Serve customers",default:100}),AchievementsController.attributes.add("ach13Goal",{type:"number",title:"Show Up",default:1}),AchievementsController.attributes.add("rewardMultiplier",{type:"number",title:"Reward Multiplier",default:2}),AchievementsController.prototype.initialize=function(){this.achievementsPanel=this.achievementPanelEntity.script.achievementsPanel,this.moneyDisplayFormatter=this.app.root.findByName("@Money Display Formatter").script.moneyDisplayFormatter,this.achievementSaveManager=this.app.root.findByName("@Achievement Save Manager").script.achievementSaveManager,this.ach1Level=0,this.ach2Level=0,this.ach3Level=0,this.ach4Level=0,this.ach5Level=0,this.ach6Level=0,this.ach7Level=0,this.ach8Level=0,this.ach9Level=0,this.ach10Level=0,this.ach11Level=0,this.ach12Level=0,this.ach13Level=0,this.maxAch2Level=66,this.maxAch5Level=28,this.maxAch6Level=9,this.maxAch7Level=450,this.maxAch8Level=4,this.maxAch9Level=9,this.moneyEarned=0,this.chairsUnlocked=1,this.moneyInvested=0,this.upgradesMade=0,this.unlockedHaircuts=1,this.managersHired=0,this.managerUpgrades=0,this.citiesUnlocked=1,this.shopsOwned=1,this.customersInvited=0,this.customersServedQuicker=0,this.customersServed=0,this.daysShowedUp=0,this.ach1InitReward=25,this.ach2InitReward=50,this.ach3InitReward=30,this.ach4InitReward=5,this.ach5InitReward=1500,this.ach6InitReward=2500,this.ach7InitReward=500,this.ach8InitReward=1e4,this.ach9InitReward=1e5,this.ach10InitReward=100,this.ach11InitReward=75,this.ach12InitReward=150,this.ach13InitReward=3e3,this.ach1Reward=0,this.ach2Reward=0,this.ach3Reward=0,this.ach3Reward=0,this.ach4Reward=0,this.ach5Reward=0,this.ach6Reward=0,this.ach7Reward=0,this.ach8Reward=0,this.ach9Reward=0,this.ach10Reward=0,this.ach11Reward=0,this.ach12Reward=0,this.ach13Reward=0,this.ach1GrowthRate=1.5,this.ach2GrowthRate=2,this.ach3GrowthRate=2.3,this.ach4GrowthRate=1.4,this.ach5GrowthRate=4,this.ach6GrowthRate=3,this.ach7GrowthRate=1.2,this.ach8GrowthRate=3.3,this.ach9GrowthRate=2.5,this.ach10GrowthRate=1.6,this.ach11GrowthRate=1.3,this.ach12GrowthRate=1.5,this.ach13GrowthRate=5,this.claimAch1=!1,this.claimAch2=!1,this.claimAch3=!1,this.claimAch4=!1,this.claimAch5=!1,this.claimAch6=!1,this.claimAch7=!1,this.claimAch8=!1,this.claimAch9=!1,this.claimAch10=!1,this.claimAch11=!1,this.claimAch12=!1,this.claimAch13=!1;try{this.achievementSaveManager.loadData&&this.achievementSaveManager.loadAchievements()}catch(e){console.log(e)}},AchievementsController.prototype.postInitialize=function(){try{this.achievementSaveManager.loadData&&this.achievementsPanel.updateAchievementExclamationMark()}catch(e){console.log(e)}},AchievementsController.prototype.updateMoneyEarned=function(){var e=0,t=0;this.moneyEarned>=this.ach1Goal&&(this.claimAch1=!0,this.ach1Level++,this.ach1Reward+=this.ach1InitReward*(this.ach1Level*this.ach1GrowthRate)*this.rewardMultiplier*this.ach1Level,0===(t=this.ach1Level%3)?(e=Math.round(this.ach1Level/3),this.ach1Goal=100*Math.pow(10,e)):1===t?(e=Math.round(this.ach1Level/3),this.ach1Goal=250*Math.pow(10,e)):3===t&&(e=Math.round(this.ach1Level/3),this.ach1Goal=500*Math.pow(10,e))),this.achievementsPanel.updateAchievements();try{this.achievementSaveManager.saveAchievements()}catch(e){console.log(e)}},AchievementsController.prototype.increaseChairLevel=function(){this.chairsUnlocked++,this.chairsUnlocked>=this.ach2Goal&&this.ach2Goal<this.maxAch2Level&&(this.claimAch2=!0,this.ach2Level++,this.ach2Reward+=this.ach2InitReward*(this.ach2Level*this.ach2GrowthRate)*this.rewardMultiplier*this.ach2Level,this.ach2Goal+=2),this.achievementsPanel.updateAchievements();try{this.achievementSaveManager.saveAchievements()}catch(e){console.log(e)}},AchievementsController.prototype.updateMoneyInvested=function(){var e=0,t=0;this.moneyInvested>=this.ach3Goal&&(this.claimAch3=!0,this.ach3Level++,this.ach3Reward+=this.ach3InitReward*(this.ach3Level*this.ach3GrowthRate)*this.rewardMultiplier*this.ach3Level,0===(t=this.ach3Level%2)?(e=Math.floor(this.ach3Level/2),this.ach3Goal=100*Math.pow(10,e)):1===t&&(e=Math.floor(this.ach3Level/2),this.ach3Goal=500*Math.pow(10,e))),this.achievementsPanel.updateAchievements();try{this.achievementSaveManager.saveAchievements()}catch(e){console.log(e)}},AchievementsController.prototype.increaseUpgradeCount=function(){this.upgradesMade++;var e=0,t=0;this.upgradesMade>=this.ach4Goal&&(this.claimAch4=!0,this.ach4Level++,this.ach4Reward+=this.ach4InitReward*(this.ach4Level*this.ach4GrowthRate)*this.rewardMultiplier*this.ach4Level,0===(t=this.ach4Level%3)?(e=Math.floor(this.ach4Level/3),this.ach4Goal=10*Math.pow(10,e)):1===t?(e=Math.floor(this.ach4Level/3),this.ach4Goal=25*Math.pow(10,e)):2===t&&(e=Math.floor(this.ach4Level/3),this.ach4Goal=50*Math.pow(10,e))),this.achievementsPanel.updateAchievements();try{this.achievementSaveManager.saveAchievements()}catch(e){console.log(e)}},AchievementsController.prototype.increaseUnlockedHaircuts=function(){this.unlockedHaircuts++,this.unlockedHaircuts>=this.ach5Goal&&this.ach5Goal<this.maxAch5Level&&(this.claimAch5=!0,this.ach5Level++,this.ach5Reward+=this.ach5InitReward*(this.ach5Level*this.ach5GrowthRate)*this.rewardMultiplier*this.ach5Level,this.ach5Goal+=2),this.achievementsPanel.updateAchievements();try{this.achievementSaveManager.saveAchievements()}catch(e){console.log(e)}},AchievementsController.prototype.increaseHiredManagers=function(){this.managersHired++,this.managersHired>=this.ach6Goal&&this.ach6Goal<this.maxAch6Level&&(this.claimAch6=!0,this.ach6Level++,this.ach6Reward+=this.ach6InitReward*(this.ach6Level*this.ach6GrowthRate)*this.rewardMultiplier*this.ach6Level,this.ach6Goal++),this.achievementsPanel.updateAchievements();try{this.achievementSaveManager.saveAchievements()}catch(e){console.log(e)}},AchievementsController.prototype.increaseManagerUpgradeCount=function(){this.managerUpgrades++,this.managerUpgrades>=this.ach7Goal&&this.ach7Goal<this.maxAch7Level&&(this.claimAch7=!0,this.ach7Level++,this.ach7Reward+=this.ach7InitReward*(this.ach7Level*this.ach7GrowthRate)*this.rewardMultiplier*this.ach7Level,this.ach7Goal+=2),this.achievementsPanel.updateAchievements();try{this.achievementSaveManager.saveAchievements()}catch(e){console.log(e)}},AchievementsController.prototype.increaseUnlockedCities=function(){this.citiesUnlocked++,this.citiesUnlocked>=this.ach8Goal&&this.ach8Goal<this.maxAch8Level&&(this.claimAch8=!0,this.ach8Level++,this.ach8Reward+=this.ach8InitReward*(this.ach8Level*this.ach8GrowthRate)*this.rewardMultiplier*this.ach8Level,this.ach8Goal++),this.achievementsPanel.updateAchievements();try{this.achievementSaveManager.saveAchievements()}catch(e){console.log(e)}},AchievementsController.prototype.increaseOwnedShops=function(){this.shopsOwned++,this.shopsOwned>=this.ach9Goal&&this.ach9Goal<this.maxAch9Level&&(this.claimAch9=!0,this.ach9Level++,this.ach9Reward+=this.ach9InitReward*(this.ach9Level*this.ach9GrowthRate)*this.rewardMultiplier*this.ach9Level,this.ach9Goal++),this.achievementsPanel.updateAchievements();try{this.achievementSaveManager.saveAchievements()}catch(e){console.log(e)}},AchievementsController.prototype.increaseCustomersInvited=function(){this.customersInvited++;var e=0,t=0;this.customersInvited>=this.ach10Goal&&(this.claimAch10=!0,this.ach10Level++,this.ach10Reward+=this.ach10InitReward*(this.ach10Level*this.ach10GrowthRate)*this.rewardMultiplier*this.ach10Level,0===(t=this.ach10Level%3)?(e=Math.floor(this.ach10Level/3),this.ach10Goal=100*Math.pow(10,e)):1===t?(e=Math.floor(this.ach10Level/3),this.ach10Goal=250*Math.pow(10,e)):2===t&&(e=Math.floor(this.ach10Level/3),this.ach10Goal=500*Math.pow(10,e))),this.achievementsPanel.updateAchievements();try{this.achievementSaveManager.saveAchievements()}catch(e){console.log(e)}},AchievementsController.prototype.increaseServedQuickerCustomers=function(){this.customersServedQuicker++;var e=0,t=0;this.customersServedQuicker>=this.ach11Goal&&(this.claimAch11=!0,this.ach11Level++,this.ach11Reward+=this.ach11InitReward*(this.ach11Level*this.ach11GrowthRate)*this.rewardMultiplier*this.ach11Level,0===(t=this.ach11Level%3)?(e=Math.floor(this.ach11Level/3),this.ach11Goal=100*Math.pow(10,e)):1===t?(e=Math.floor(this.ach11Level/3),this.ach11Goal=250*Math.pow(10,e)):2===t&&(e=Math.floor(this.ach11Level/3),this.ach11Goal=500*Math.pow(10,e))),this.achievementsPanel.updateAchievements();try{this.achievementSaveManager.saveAchievements()}catch(e){console.log(e)}},AchievementsController.prototype.increaseServedCustomers=function(){this.customersServed++;var e=0,t=0;this.customersServed>=this.ach12Goal&&(this.claimAch12=!0,this.ach12Level++,this.ach12Reward+=this.ach12InitReward*(this.ach12Level*this.ach12GrowthRate)*this.rewardMultiplier*this.ach12Level,0===(t=this.ach12Level%3)?(e=Math.floor(this.ach12Level/3),this.ach12Goal=100*Math.pow(10,e)):1===t?(e=Math.floor(this.ach12Level/3),this.ach12Goal=250*Math.pow(10,e)):2===t&&(e=Math.floor(this.ach12Level/3),this.ach12Goal=500*Math.pow(10,e))),this.achievementsPanel.updateAchievements();try{this.achievementSaveManager.saveAchievements()}catch(e){console.log(e)}},AchievementsController.prototype.increaseDaysShowedUp=function(){this.daysShowedUp++,this.daysShowedUp>=this.ach13Goal&&(this.claimAch13=!0,this.ach13Level++,this.ach13Reward+=this.ach13InitReward*(this.ach13Level*this.ach13GrowthRate)*this.rewardMultiplier*this.ach13Level,this.ach13Goal++),this.achievementsPanel.updateAchievements();try{this.achievementSaveManager.saveAchievements()}catch(e){console.log(e)}};var ScrollablePanel=pc.createScript("scrollablePanel");ScrollablePanel.attributes.add("scroll",{type:"entity",title:"Scrollbar"}),ScrollablePanel.attributes.add("content",{type:"entity",title:"Content"}),ScrollablePanel.prototype.initialize=function(){this.scroll&&this.content.element.on("mousewheel",(function(l){var e=this.scroll.scrollview.scroll;this.scroll.scrollview._onSetScroll(e.x,e.y+.014*l.wheelDelta,!1)}),this)};var ExclamationMark=pc.createScript("exclamationMark");ExclamationMark.attributes.add("maxZ",{type:"number",title:"Max Z Rot",default:25}),ExclamationMark.attributes.add("minZ",{type:"number",title:"Min Z Rot",default:25}),ExclamationMark.attributes.add("duration",{type:"number",title:"Animation Duration"}),ExclamationMark.prototype.initialize=function(){this.startAnimPart1()},ExclamationMark.prototype.startAnimPart1=function(){this.tween&&this.tween.stop(),this.tween=this.entity.tween(this.entity.getLocalRotation()).to(new pc.Vec3(0,0,this.maxZ),this.duration,pc.ElasticInOut).delay(.25).on("complete",(()=>this.startAnimPart2())),this.tween.start()},ExclamationMark.prototype.startAnimPart2=function(){this.tween&&this.tween.stop(),this.tween=this.entity.tween(this.entity.getLocalRotation()).to(new pc.Vec3(0,0,this.minZ),this.duration,pc.ElasticInOut).on("complete",(()=>this.startAnimPart1())),this.tween.start()};var AchievementSaveManager=pc.createScript("achievementSaveManager");AchievementSaveManager.attributes.add("loadData",{type:"boolean",title:"Load Data?",default:!0}),AchievementSaveManager.attributes.add("deleteData",{type:"boolean",title:"Delete Data?"}),AchievementSaveManager.prototype.initialize=function(){this.achievementsController=this.app.root.findByName("@Achievements Controller").script.achievementsController,this.deleteData&&this.deleteAllKeys()},AchievementSaveManager.prototype.saveAchievements=function(){this.saveLevels(),this.saveGoals(),this.saveProgress(),this.saveRewards(),this.saveClaimableRewardState()},AchievementSaveManager.prototype.saveLevels=function(){localStorage.setItem("ach1Level",this.achievementsController.ach1Level),localStorage.setItem("ach2Level",this.achievementsController.ach2Level),localStorage.setItem("ach3Level",this.achievementsController.ach3Level),localStorage.setItem("ach4Level",this.achievementsController.ach4Level),localStorage.setItem("ach5Level",this.achievementsController.ach5Level),localStorage.setItem("ach6Level",this.achievementsController.ach6Level),localStorage.setItem("ach7Level",this.achievementsController.ach7Level),localStorage.setItem("ach8Level",this.achievementsController.ach8Level),localStorage.setItem("ach9Level",this.achievementsController.ach9Level),localStorage.setItem("ach10Level",this.achievementsController.ach10Level),localStorage.setItem("ach11Level",this.achievementsController.ach11Level),localStorage.setItem("ach12Level",this.achievementsController.ach12Level),localStorage.setItem("ach13Level",this.achievementsController.ach13Level)},AchievementSaveManager.prototype.saveGoals=function(){localStorage.setItem("ach1Goal",this.achievementsController.ach1Goal),localStorage.setItem("ach2Goal",this.achievementsController.ach2Goal),localStorage.setItem("ach3Goal",this.achievementsController.ach3Goal),localStorage.setItem("ach4Goal",this.achievementsController.ach4Goal),localStorage.setItem("ach5Goal",this.achievementsController.ach5Goal),localStorage.setItem("ach6Goal",this.achievementsController.ach6Goal),localStorage.setItem("ach7Goal",this.achievementsController.ach7Goal),localStorage.setItem("ach8Goal",this.achievementsController.ach8Goal),localStorage.setItem("ach9Goal",this.achievementsController.ach9Goal),localStorage.setItem("ach10Goal",this.achievementsController.ach10Goal),localStorage.setItem("ach11Goal",this.achievementsController.ach11Goal),localStorage.setItem("ach12Goal",this.achievementsController.ach12Goal),localStorage.setItem("ach13Goal",this.achievementsController.ach13Goal)},AchievementSaveManager.prototype.saveProgress=function(){localStorage.setItem("moneyEarned",this.achievementsController.moneyEarned),localStorage.setItem("chairsUnlocked",this.achievementsController.chairsUnlocked),localStorage.setItem("moneyInvested",this.achievementsController.moneyInvested),localStorage.setItem("upgradesMade",this.achievementsController.upgradesMade),localStorage.setItem("unlockedHaircuts",this.achievementsController.unlockedHaircuts),localStorage.setItem("managersHired",this.achievementsController.managersHired),localStorage.setItem("managerUpgrades",this.achievementsController.managerUpgrades),localStorage.setItem("citiesUnlocked",this.achievementsController.citiesUnlocked),localStorage.setItem("shopsOwned",this.achievementsController.shopsOwned),localStorage.setItem("customersInvited",this.achievementsController.customersInvited),localStorage.setItem("customersServedQuicker",this.achievementsController.customersServedQuicker),localStorage.setItem("customersServed",this.achievementsController.customersServed),localStorage.setItem("daysShowedUp",this.achievementsController.daysShowedUp)},AchievementSaveManager.prototype.saveRewards=function(){localStorage.setItem("ach1Reward",this.achievementsController.ach1Reward),localStorage.setItem("ach2Reward",this.achievementsController.ach2Reward),localStorage.setItem("ach3Reward",this.achievementsController.ach3Reward),localStorage.setItem("ach4Reward",this.achievementsController.ach4Reward),localStorage.setItem("ach5Reward",this.achievementsController.ach5Reward),localStorage.setItem("ach6Reward",this.achievementsController.ach6Reward),localStorage.setItem("ach7Reward",this.achievementsController.ach7Reward),localStorage.setItem("ach8Reward",this.achievementsController.ach8Reward),localStorage.setItem("ach9Reward",this.achievementsController.ach9Reward),localStorage.setItem("ach10Reward",this.achievementsController.ach10Reward),localStorage.setItem("ach11Reward",this.achievementsController.ach11Reward),localStorage.setItem("ach12Reward",this.achievementsController.ach12Reward),localStorage.setItem("ach13Reward",this.achievementsController.ach13Reward)},AchievementSaveManager.prototype.saveClaimableRewardState=function(){localStorage.setItem("claimAch1",this.achievementsController.claimAch1),localStorage.setItem("claimAch2",this.achievementsController.claimAch2),localStorage.setItem("claimAch3",this.achievementsController.claimAch3),localStorage.setItem("claimAch4",this.achievementsController.claimAch4),localStorage.setItem("claimAch5",this.achievementsController.claimAch5),localStorage.setItem("claimAch6",this.achievementsController.claimAch6),localStorage.setItem("claimAch7",this.achievementsController.claimAch7),localStorage.setItem("claimAch8",this.achievementsController.claimAch8),localStorage.setItem("claimAch9",this.achievementsController.claimAch9),localStorage.setItem("claimAch10",this.achievementsController.claimAch10),localStorage.setItem("claimAch11",this.achievementsController.claimAch11),localStorage.setItem("claimAch12",this.achievementsController.claimAch12),localStorage.setItem("claimAch13",this.achievementsController.claimAch13)},AchievementSaveManager.prototype.loadAchievements=function(){this.loadLevels(),this.loadGoals(),this.loadProgress(),this.loadRewards(),this.loadClaimableRewardState()},AchievementSaveManager.prototype.loadLevels=function(){localStorage.getItem("ach1Level")&&(this.achievementsController.ach1Level=parseInt(localStorage.getItem("ach1Level"))),localStorage.getItem("ach2Level")&&(this.achievementsController.ach2Level=parseInt(localStorage.getItem("ach2Level"))),localStorage.getItem("ach3Level")&&(this.achievementsController.ach3Level=parseInt(localStorage.getItem("ach3Level"))),localStorage.getItem("ach4Level")&&(this.achievementsController.ach4Level=parseInt(localStorage.getItem("ach4Level"))),localStorage.getItem("ach5Level")&&(this.achievementsController.ach5Level=parseInt(localStorage.getItem("ach5Level"))),localStorage.getItem("ach6Level")&&(this.achievementsController.ach6Level=parseInt(localStorage.getItem("ach6Level"))),localStorage.getItem("ach7Level")&&(this.achievementsController.ach7Level=parseInt(localStorage.getItem("ach7Level"))),localStorage.getItem("ach8Level")&&(this.achievementsController.ach8Level=parseInt(localStorage.getItem("ach8Level"))),localStorage.getItem("ach9Level")&&(this.achievementsController.ach9Level=parseInt(localStorage.getItem("ach9Level"))),localStorage.getItem("ach10Level")&&(this.achievementsController.ach10Level=parseInt(localStorage.getItem("ach10Level"))),localStorage.getItem("ach11Level")&&(this.achievementsController.ach11Level=parseInt(localStorage.getItem("ach11Level"))),localStorage.getItem("ach12Level")&&(this.achievementsController.ach12Level=parseInt(localStorage.getItem("ach12Level"))),localStorage.getItem("ach13Level")&&(this.achievementsController.ach13Level=parseInt(localStorage.getItem("ach13Level")))},AchievementSaveManager.prototype.loadGoals=function(){localStorage.getItem("ach1Goal")&&(this.achievementsController.ach1Goal=parseInt(localStorage.getItem("ach1Goal"))),localStorage.getItem("ach2Goal")&&(this.achievementsController.ach2Goal=parseInt(localStorage.getItem("ach2Goal"))),localStorage.getItem("ach3Goal")&&(this.achievementsController.ach3Goal=parseInt(localStorage.getItem("ach3Goal"))),localStorage.getItem("ach4Goal")&&(this.achievementsController.ach4Goal=parseInt(localStorage.getItem("ach4Goal"))),localStorage.getItem("ach5Goal")&&(this.achievementsController.ach5Goal=parseInt(localStorage.getItem("ach5Goal"))),localStorage.getItem("ach6Goal")&&(this.achievementsController.ach6Goal=parseInt(localStorage.getItem("ach6Goal"))),localStorage.getItem("ach7Goal")&&(this.achievementsController.ach7Goal=parseInt(localStorage.getItem("ach7Goal"))),localStorage.getItem("ach8Goal")&&(this.achievementsController.ach8Goal=parseInt(localStorage.getItem("ach8Goal"))),localStorage.getItem("ach9Goal")&&(this.achievementsController.ach9Goal=parseInt(localStorage.getItem("ach9Goal"))),localStorage.getItem("ach10Goal")&&(this.achievementsController.ach10Goal=parseInt(localStorage.getItem("ach10Goal"))),localStorage.getItem("ach11Goal")&&(this.achievementsController.ach11Goal=parseInt(localStorage.getItem("ach11Goal"))),localStorage.getItem("ach12Goal")&&(this.achievementsController.ach12Goal=parseInt(localStorage.getItem("ach12Goal"))),localStorage.getItem("ach13Goal")&&(this.achievementsController.ach13Goal=parseInt(localStorage.getItem("ach13Goal")))},AchievementSaveManager.prototype.loadProgress=function(){localStorage.getItem("moneyEarned")&&(this.achievementsController.moneyEarned=parseInt(localStorage.getItem("moneyEarned"))),localStorage.getItem("chairsUnlocked")&&(this.achievementsController.chairsUnlocked=parseInt(localStorage.getItem("chairsUnlocked"))),localStorage.getItem("moneyInvested")&&(this.achievementsController.moneyInvested=parseInt(localStorage.getItem("moneyInvested"))),localStorage.getItem("upgradesMade")&&(this.achievementsController.upgradesMade=parseInt(localStorage.getItem("upgradesMade"))),localStorage.getItem("unlockedHaircuts")&&(this.achievementsController.unlockedHaircuts=parseInt(localStorage.getItem("unlockedHaircuts"))),localStorage.getItem("managersHired")&&(this.achievementsController.managersHired=parseInt(localStorage.getItem("managersHired"))),localStorage.getItem("managerUpgrades")&&(this.achievementsController.managerUpgrades=parseInt(localStorage.getItem("managerUpgrades"))),localStorage.getItem("citiesUnlocked")&&(this.achievementsController.citiesUnlocked=parseInt(localStorage.getItem("citiesUnlocked"))),localStorage.getItem("shopsOwned")&&(this.achievementsController.shopsOwned=parseInt(localStorage.getItem("shopsOwned"))),localStorage.getItem("customersInvited")&&(this.achievementsController.customersInvited=parseInt(localStorage.getItem("customersInvited"))),localStorage.getItem("customersServedQuicker")&&(this.achievementsController.customersServedQuicker=parseInt(localStorage.getItem("customersServedQuicker"))),localStorage.getItem("customersServed")&&(this.achievementsController.customersServed=parseInt(localStorage.getItem("customersServed"))),localStorage.getItem("daysShowedUp")&&(this.achievementsController.daysShowedUp=parseInt(localStorage.getItem("daysShowedUp")))},AchievementSaveManager.prototype.loadRewards=function(){localStorage.getItem("ach1Reward")&&(this.achievementsController.ach1Reward=parseInt(localStorage.getItem("ach1Reward"))),localStorage.getItem("ach2Reward")&&(this.achievementsController.ach2Reward=parseInt(localStorage.getItem("ach2Reward"))),localStorage.getItem("ach3Reward")&&(this.achievementsController.ach3Reward=parseInt(localStorage.getItem("ach3Reward"))),localStorage.getItem("ach4Reward")&&(this.achievementsController.ach4Reward=parseInt(localStorage.getItem("ach4Reward"))),localStorage.getItem("ach5Reward")&&(this.achievementsController.ach5Reward=parseInt(localStorage.getItem("ach5Reward"))),localStorage.getItem("ach6Reward")&&(this.achievementsController.ach6Reward=parseInt(localStorage.getItem("ach6Reward"))),localStorage.getItem("ach7Reward")&&(this.achievementsController.ach7Reward=parseInt(localStorage.getItem("ach7Reward"))),localStorage.getItem("ach8Reward")&&(this.achievementsController.ach8Reward=parseInt(localStorage.getItem("ach8Reward"))),localStorage.getItem("ach9Reward")&&(this.achievementsController.ach9Reward=parseInt(localStorage.getItem("ach9Reward"))),localStorage.getItem("ach10Reward")&&(this.achievementsController.ach10Reward=parseInt(localStorage.getItem("ach10Reward"))),localStorage.getItem("ach11Reward")&&(this.achievementsController.ach11Reward=parseInt(localStorage.getItem("ach11Reward"))),localStorage.getItem("ach12Reward")&&(this.achievementsController.ach12Reward=parseInt(localStorage.getItem("ach12Reward"))),localStorage.getItem("ach13Reward")&&(this.achievementsController.ach13Reward=parseInt(localStorage.getItem("ach13Reward")))},AchievementSaveManager.prototype.loadClaimableRewardState=function(){localStorage.getItem("claimAch1")&&(this.achievementsController.claimAch1="true"===localStorage.getItem("claimAch1")),localStorage.getItem("claimAch2")&&(this.achievementsController.claimAch2="true"===localStorage.getItem("claimAch2")),localStorage.getItem("claimAch3")&&(this.achievementsController.claimAch3="true"===localStorage.getItem("claimAch3")),localStorage.getItem("claimAch4")&&(this.achievementsController.claimAch4="true"===localStorage.getItem("claimAch4")),localStorage.getItem("claimAch5")&&(this.achievementsController.claimAch5="true"===localStorage.getItem("claimAch5")),localStorage.getItem("claimAch6")&&(this.achievementsController.claimAch6="true"===localStorage.getItem("claimAch6")),localStorage.getItem("claimAch7")&&(this.achievementsController.claimAch7="true"===localStorage.getItem("claimAch7")),localStorage.getItem("claimAch8")&&(this.achievementsController.claimAch8="true"===localStorage.getItem("claimAch8")),localStorage.getItem("claimAch9")&&(this.achievementsController.claimAch9="true"===localStorage.getItem("claimAch9")),localStorage.getItem("claimAch10")&&(this.achievementsController.claimAch10="true"===localStorage.getItem("claimAch10")),localStorage.getItem("claimAch11")&&(this.achievementsController.claimAch11="true"===localStorage.getItem("claimAch11")),localStorage.getItem("claimAch12")&&(this.achievementsController.claimAch12="true"===localStorage.getItem("claimAch12")),localStorage.getItem("claimAch13")&&(this.achievementsController.claimAch13="true"===localStorage.getItem("claimAch13"))},AchievementSaveManager.prototype.deleteAllKeys=function(){localStorage.getItem("ach1Level")&&localStorage.removeItem("ach1Level"),localStorage.getItem("ach2Level")&&localStorage.removeItem("ach2Level"),localStorage.getItem("ach3Level")&&localStorage.removeItem("ach3Level"),localStorage.getItem("ach4Level")&&localStorage.removeItem("ach4Level"),localStorage.getItem("ach5Level")&&localStorage.removeItem("ach5Level"),localStorage.getItem("ach6Level")&&localStorage.removeItem("ach6Level"),localStorage.getItem("ach7Level")&&localStorage.removeItem("ach7Level"),localStorage.getItem("ach8Level")&&localStorage.removeItem("ach8Level"),localStorage.getItem("ach9Level")&&localStorage.removeItem("ach9Level"),localStorage.getItem("ach10Level")&&localStorage.removeItem("ach10Level"),localStorage.getItem("ach11Level")&&localStorage.removeItem("ach11Level"),localStorage.getItem("ach12Level")&&localStorage.removeItem("ach12Level"),localStorage.getItem("ach13Level")&&localStorage.removeItem("ach13Level"),localStorage.getItem("ach1Goal")&&localStorage.removeItem("ach1Goal"),localStorage.getItem("ach2Goal")&&localStorage.removeItem("ach2Goal"),localStorage.getItem("ach3Goal")&&localStorage.removeItem("ach3Goal"),localStorage.getItem("ach4Goal")&&localStorage.removeItem("ach4Goal"),localStorage.getItem("ach5Goal")&&localStorage.removeItem("ach5Goal"),localStorage.getItem("ach6Goal")&&localStorage.removeItem("ach6Goal"),localStorage.getItem("ach7Goal")&&localStorage.removeItem("ach7Goal"),localStorage.getItem("ach8Goal")&&localStorage.removeItem("ach8Goal"),localStorage.getItem("ach9Goal")&&localStorage.removeItem("ach9Goal"),localStorage.getItem("ach10Goal")&&localStorage.removeItem("ach10Goal"),localStorage.getItem("ach11Goal")&&localStorage.removeItem("ach11Goal"),localStorage.getItem("ach12Goal")&&localStorage.removeItem("ach12Goal"),localStorage.getItem("ach13Goal")&&localStorage.removeItem("ach13Goal"),localStorage.getItem("moneyEarned")&&localStorage.removeItem("moneyEarned"),localStorage.getItem("chairsUnlocked")&&localStorage.removeItem("chairsUnlocked"),localStorage.getItem("moneyInvested")&&localStorage.removeItem("moneyInvested"),localStorage.getItem("upgradesMade")&&localStorage.removeItem("upgradesMade"),localStorage.getItem("unlockedHaircuts")&&localStorage.removeItem("unlockedHaircuts"),localStorage.getItem("managersHired")&&localStorage.removeItem("managersHired"),localStorage.getItem("managerUpgrades")&&localStorage.removeItem("managerUpgrades"),localStorage.getItem("citiesUnlocked")&&localStorage.removeItem("citiesUnlocked"),localStorage.getItem("shopsOwned")&&localStorage.removeItem("shopsOwned"),localStorage.getItem("customersInvited")&&localStorage.removeItem("customersInvited"),localStorage.getItem("customersServedQuicker")&&localStorage.removeItem("customersServedQuicker"),localStorage.getItem("customersServed")&&localStorage.removeItem("customersServed"),localStorage.getItem("daysShowedUp")&&localStorage.removeItem("daysShowedUp"),localStorage.getItem("ach1Reward")&&localStorage.removeItem("ach1Reward"),localStorage.getItem("ach2Reward")&&localStorage.removeItem("ach2Reward"),localStorage.getItem("ach3Reward")&&localStorage.removeItem("ach3Reward"),localStorage.getItem("ach4Reward")&&localStorage.removeItem("ach4Reward"),localStorage.getItem("ach5Reward")&&localStorage.removeItem("ach5Reward"),localStorage.getItem("ach6Reward")&&localStorage.removeItem("ach6Reward"),localStorage.getItem("ach7Reward")&&localStorage.removeItem("ach7Reward"),localStorage.getItem("ach8Reward")&&localStorage.removeItem("ach8Reward"),localStorage.getItem("ach9Reward")&&localStorage.removeItem("ach9Reward"),localStorage.getItem("ach10Reward")&&localStorage.removeItem("ach10Reward"),localStorage.getItem("ach11Reward")&&localStorage.removeItem("ach11Reward"),localStorage.getItem("ach12Reward")&&localStorage.removeItem("ach12Reward"),localStorage.getItem("ach13Reward")&&localStorage.removeItem("ach13Reward"),localStorage.getItem("claimAch1")&&localStorage.removeItem("claimAch1"),localStorage.getItem("claimAch2")&&localStorage.removeItem("claimAch2"),localStorage.getItem("claimAch3")&&localStorage.removeItem("claimAch3"),localStorage.getItem("claimAch4")&&localStorage.removeItem("claimAch4"),localStorage.getItem("claimAch5")&&localStorage.removeItem("claimAch5"),localStorage.getItem("claimAch6")&&localStorage.removeItem("claimAch6"),localStorage.getItem("claimAch7")&&localStorage.removeItem("claimAch7"),localStorage.getItem("claimAch8")&&localStorage.removeItem("claimAch8"),localStorage.getItem("claimAch9")&&localStorage.removeItem("claimAch9"),localStorage.getItem("claimAch10")&&localStorage.removeItem("claimAch10"),localStorage.getItem("claimAch11")&&localStorage.removeItem("claimAch11"),localStorage.getItem("claimAch12")&&localStorage.removeItem("claimAch12"),localStorage.getItem("claimAch13")&&localStorage.removeItem("claimAch13")};var ManagerSaveManager=pc.createScript("managerSaveManager");ManagerSaveManager.attributes.add("loadData",{type:"boolean",title:"Load Data?",default:!0}),ManagerSaveManager.attributes.add("deleteData",{type:"boolean",title:"Delete Data?"}),ManagerSaveManager.attributes.add("managerEntity",{type:"entity",title:"Manager Entity"}),ManagerSaveManager.prototype.initialize=function(){this.levelController=this.app.root.findByName("@Level Controller").script.levelController,this.manager=this.managerEntity.script.manager,this.savePrefix=this.levelController.getLevelPrefix(),this.deleteData&&this.deleteAllKeys()},ManagerSaveManager.prototype.saveManager=function(){localStorage.setItem(this.savePrefix+"isUnlocked",this.getManager().isUnlocked),localStorage.setItem(this.savePrefix+"serviceUpgradeCost",this.manager.serviceUpgradeCost),localStorage.setItem(this.savePrefix+"serviceUpgradeLevel",this.manager.serviceUpgradeLevel),localStorage.setItem(this.savePrefix+"servicePercentage",this.manager.servicePercentage),localStorage.setItem(this.savePrefix+"serviceSpeed",this.manager.serviceSpeed),localStorage.setItem(this.savePrefix+"durationUpgradeCost",this.manager.durationUpgradeCost),localStorage.setItem(this.savePrefix+"durationUpgradeLevel",this.manager.durationUpgradeLevel),localStorage.setItem(this.savePrefix+"durationPercentage",this.manager.durationPercentage),localStorage.setItem(this.savePrefix+"serviceDuration",this.manager.serviceDuration)},ManagerSaveManager.prototype.loadManager=function(){localStorage.getItem(this.savePrefix+"isUnlocked")&&(this.getManager().isUnlocked=localStorage.getItem(this.savePrefix+"isUnlocked")),localStorage.getItem(this.savePrefix+"serviceUpgradeCost")&&(this.manager.serviceUpgradeCost=parseFloat(localStorage.getItem(this.savePrefix+"serviceUpgradeCost"))),localStorage.getItem(this.savePrefix+"serviceUpgradeLevel")&&(this.manager.serviceUpgradeLevel=parseInt(localStorage.getItem(this.savePrefix+"serviceUpgradeLevel"))),localStorage.getItem(this.savePrefix+"servicePercentage")&&(this.manager.servicePercentage=parseInt(localStorage.getItem(this.savePrefix+"servicePercentage"))),localStorage.getItem(this.savePrefix+"serviceSpeed")&&(this.manager.serviceSpeed=parseFloat(localStorage.getItem(this.savePrefix+"serviceSpeed"))),localStorage.getItem(this.savePrefix+"durationUpgradeCost")&&(this.manager.durationUpgradeCost=parseFloat(localStorage.getItem(this.savePrefix+"durationUpgradeCost"))),localStorage.getItem(this.savePrefix+"durationUpgradeLevel")&&(this.manager.durationUpgradeLevel=parseInt(localStorage.getItem(this.savePrefix+"durationUpgradeLevel"))),localStorage.getItem(this.savePrefix+"durationPercentage")&&(this.manager.durationPercentage=parseInt(localStorage.getItem(this.savePrefix+"durationPercentage"))),localStorage.getItem(this.savePrefix+"serviceDuration")&&(this.manager.serviceDuration=parseFloat(localStorage.getItem(this.savePrefix+"serviceDuration")))},ManagerSaveManager.prototype.deleteAllKeys=function(){localStorage.getItem(this.savePrefix+"isUnlocked")&&localStorage.removeItem(this.savePrefix+"isUnlocked"),localStorage.getItem(this.savePrefix+"serviceUpgradeCost")&&parseFloat(localStorage.removeItem(this.savePrefix+"serviceUpgradeCost")),localStorage.getItem(this.savePrefix+"serviceUpgradeLevel")&&parseInt(localStorage.removeItem(this.savePrefix+"serviceUpgradeLevel")),localStorage.getItem(this.savePrefix+"servicePercentage")&&parseInt(localStorage.removeItem(this.savePrefix+"servicePercentage")),localStorage.getItem(this.savePrefix+"serviceSpeed")&&parseFloat(localStorage.removeItem(this.savePrefix+"serviceSpeed")),localStorage.getItem(this.savePrefix+"durationUpgradeCost")&&parseFloat(localStorage.removeItem(this.savePrefix+"durationUpgradeCost")),localStorage.getItem(this.savePrefix+"durationUpgradeLevel")&&parseInt(localStorage.removeItem(this.savePrefix+"durationUpgradeLevel")),localStorage.getItem(this.savePrefix+"durationPercentage")&&parseInt(localStorage.removeItem(this.savePrefix+"durationPercentage")),localStorage.getItem(this.savePrefix+"serviceDuration")&&parseFloat(localStorage.removeItem(this.savePrefix+"serviceDuration"))},ManagerSaveManager.prototype.getManager=function(){return this.manager||(this.manager=this.app.root.findByName("manager_collider").script.manager),this.manager};var LevelController=pc.createScript("levelController");LevelController.attributes.add("isInCity",{type:"boolean",title:"Is in city?"}),LevelController.attributes.add("isInPlanet",{type:"boolean",title:"Is in planet?"}),LevelController.attributes.add("cityindex",{type:"number",title:"City Index"}),LevelController.attributes.add("shopIndex",{type:"number",title:"Shop Index"}),LevelController.prototype.initialize=function(){try{this.isInCity&&!1===this.isInPlanet&&localStorage.setItem("lastCity",this.cityindex)}catch(t){console.log(t)}},LevelController.prototype.getLevelPrefix=function(){return this.cityindex+" : "+this.shopIndex+" - "};var ChairSaveManager=pc.createScript("chairSaveManager");ChairSaveManager.attributes.add("loadData",{type:"boolean",title:"Load Data?",default:!0}),ChairSaveManager.attributes.add("deleteData",{type:"boolean",title:"Delete Data?"}),ChairSaveManager.prototype.initialize=function(){this.levelController=this.app.root.findByName("@Level Controller").script.levelController,this.savePrefix=this.levelController.getLevelPrefix(),this.deleteData&&this.deleteAllKeys()},ChairSaveManager.prototype.saveCarpetSpawner=function(e){try{localStorage.setItem(this.savePrefix+"isPurchased"+e.id,e.isPurchased)}catch(e){console.log(e)}},ChairSaveManager.prototype.loadCarpetSpawner=function(e){try{localStorage.getItem(this.savePrefix+"isPurchased"+e.id)&&(e.isPurchased="true"===localStorage.getItem(this.savePrefix+"isPurchased"+e.id))}catch(e){console.log(e)}},ChairSaveManager.prototype.saveChair=function(e){try{localStorage.setItem(this.savePrefix+"comfortabilityLevel"+e.id,e.comfortabilityLevel),localStorage.setItem(this.savePrefix+"comfortability"+e.id,e.comfortability),localStorage.setItem(this.savePrefix+"displayComfortability"+e.id,e.displayComfortability),localStorage.setItem(this.savePrefix+"comfortabilityUpgradeCost"+e.id,e.comfortabilityUpgradeCost),localStorage.setItem(this.savePrefix+"speedLevel"+e.id,e.speedLevel),localStorage.setItem(this.savePrefix+"speed"+e.id,e.speed),localStorage.setItem(this.savePrefix+"displaySpeed"+e.id,e.displaySpeed),localStorage.setItem(this.savePrefix+"speedUpgradeCost"+e.id,e.speedUpgradeCost),localStorage.setItem(this.savePrefix+"precisionLevel"+e.id,e.precisionLevel),localStorage.setItem(this.savePrefix+"precision"+e.id,e.precision),localStorage.setItem(this.savePrefix+"displayPrecision"+e.id,e.displayPrecision),localStorage.setItem(this.savePrefix+"precisionUpgradeCost"+e.id,e.precisionUpgradeCost)}catch(e){console.log(e)}},ChairSaveManager.prototype.loadChair=function(e){try{localStorage.getItem(this.savePrefix+"comfortabilityLevel"+e.id)&&(e.comfortabilityLevel=parseInt(localStorage.getItem(this.savePrefix+"comfortabilityLevel"+e.id))),localStorage.getItem(this.savePrefix+"comfortability"+e.id)&&(e.comfortability=parseFloat(localStorage.getItem(this.savePrefix+"comfortability"+e.id))),localStorage.getItem(this.savePrefix+"displayComfortability"+e.id)&&(e.displayComfortability=parseInt(localStorage.getItem(this.savePrefix+"displayComfortability"+e.id))),localStorage.getItem(this.savePrefix+"comfortabilityUpgradeCost"+e.id)&&(e.comfortabilityUpgradeCost=parseFloat(localStorage.getItem(this.savePrefix+"comfortabilityUpgradeCost"+e.id))),localStorage.getItem(this.savePrefix+"speedLevel"+e.id)&&(e.speedLevel=parseInt(localStorage.getItem(this.savePrefix+"speedLevel"+e.id))),localStorage.getItem(this.savePrefix+"speed"+e.id)&&(e.speed=parseFloat(localStorage.getItem(this.savePrefix+"speed"+e.id))),localStorage.getItem(this.savePrefix+"displaySpeed"+e.id)&&(e.displaySpeed=parseInt(localStorage.getItem(this.savePrefix+"displaySpeed"+e.id))),localStorage.getItem(this.savePrefix+"speedUpgradeCost"+e.id)&&(e.speedUpgradeCost=parseFloat(localStorage.getItem(this.savePrefix+"speedUpgradeCost"+e.id))),localStorage.getItem(this.savePrefix+"precisionLevel"+e.id)&&(e.precisionLevel=parseInt(localStorage.getItem(this.savePrefix+"precisionLevel"+e.id))),localStorage.getItem(this.savePrefix+"precision"+e.id)&&(e.precision=parseFloat(localStorage.getItem(this.savePrefix+"precision"+e.id))),localStorage.getItem(this.savePrefix+"displayPrecision"+e.id)&&(e.displayPrecision=parseInt(localStorage.getItem(this.savePrefix+"displayPrecision"+e.id))),localStorage.getItem(this.savePrefix+"precisionUpgradeCost"+e.id)&&(e.precisionUpgradeCost=parseFloat(localStorage.getItem(this.savePrefix+"precisionUpgradeCost"+e.id)))}catch(e){console.log(e)}},ChairSaveManager.prototype.deleteAllKeys=function(){for(i=1;i<=8;i++)localStorage.getItem(this.savePrefix+"isPurchased"+i)&&localStorage.removeItem(this.savePrefix+"isPurchased"+i),localStorage.getItem(this.savePrefix+"comfortabilityLevel"+i)&&localStorage.removeItem(this.savePrefix+"comfortabilityLevel"+i),localStorage.getItem(this.savePrefix+"comfortability"+i)&&localStorage.removeItem(this.savePrefix+"comfortability"+i),localStorage.getItem(this.savePrefix+"displayComfortability"+i)&&localStorage.removeItem(this.savePrefix+"displayComfortability"+i),localStorage.getItem(this.savePrefix+"comfortabilityUpgradeCost"+i)&&localStorage.removeItem(this.savePrefix+"comfortabilityUpgradeCost"+i),localStorage.getItem(this.savePrefix+"speedLevel"+i)&&localStorage.removeItem(this.savePrefix+"speedLevel"+i),localStorage.getItem(this.savePrefix+"speed"+i)&&localStorage.removeItem(this.savePrefix+"speed"+i),localStorage.getItem(this.savePrefix+"displaySpeed"+i)&&localStorage.removeItem(this.savePrefix+"displaySpeed"+i),localStorage.getItem(this.savePrefix+"speedUpgradeCost"+i)&&localStorage.removeItem(this.savePrefix+"speedUpgradeCost"+i),localStorage.getItem(this.savePrefix+"precisionLevel"+i)&&localStorage.removeItem(this.savePrefix+"precisionLevel"+i),localStorage.getItem(this.savePrefix+"precision"+i)&&localStorage.removeItem(this.savePrefix+"precision"+i),localStorage.getItem(this.savePrefix+"displayPrecision"+i)&&localStorage.removeItem(this.savePrefix+"displayPrecision"+i),localStorage.getItem(this.savePrefix+"precisionUpgradeCost"+i)&&localStorage.removeItem(this.savePrefix+"precisionUpgradeCost"+i)};var MoneySaveManager=pc.createScript("moneySaveManager");MoneySaveManager.attributes.add("loadData",{type:"boolean",title:"Load Data?",default:!0}),MoneySaveManager.attributes.add("deleteData",{type:"boolean",title:"Delete Data?"}),MoneySaveManager.prototype.initialize=function(){this.moneyManager=this.app.root.findByName("@Money Manager").script.moneyManager,this.moneyUiUpdater=this.app.root.findByName("@Money UI Updater").script.moneyuiupdater,this.productionCap=this.app.root.findByName("@Production Cap").script.productionCap,this.deleteData&&this.deleteAllKeys()},MoneySaveManager.prototype.saveMoney=function(){this.moneyManager||(this.moneyManager=this.app.root.findByName("@Money Manager").script.moneyManager),localStorage.setItem("totalMoney",this.moneyManager.totalMoney)},MoneySaveManager.prototype.loadMoney=function(){localStorage.getItem("totalMoney")&&(this.moneyManager.totalMoney=parseFloat(localStorage.getItem("totalMoney")),this.moneyUiUpdater.updateTotalMoney())},MoneySaveManager.prototype.saveCap=function(){try{localStorage.setItem("totalProductionCap",this.productionCap.totalProductionCap)}catch(t){console.log(t)}},MoneySaveManager.prototype.loadCap=function(){localStorage.getItem("totalProductionCap")&&(this.productionCap.totalProductionCap=parseFloat(localStorage.getItem("totalProductionCap")))},MoneySaveManager.prototype.deleteAllKeys=function(){localStorage.getItem("totalMoney")&&localStorage.removeItem("totalMoney"),localStorage.getItem("totalProductionCap")&&localStorage.removeItem("totalProductionCap")};var HairstyleSaveManager=pc.createScript("hairstyleSaveManager");HairstyleSaveManager.attributes.add("loadData",{type:"boolean",title:"Load Data?",default:!0}),HairstyleSaveManager.attributes.add("deleteData",{type:"boolean",title:"Delete Data?"}),HairstyleSaveManager.attributes.add("hairstylesUpgradeEntity",{type:"entity",title:"Hairstyles Upgrade Panel"}),HairstyleSaveManager.prototype.initialize=function(){this.levelController=this.app.root.findByName("@Level Controller").script.levelController,this.hairstylesUpgrade=this.app.root.findByName("Hairstyles Upgrade Board Panel").script.hairstylesUpgrade,this.selectHairstyle=this.app.root.findByName("Hairstyles Choose Board Panel").script.btnSelectHairstyle,this.savePrefix=this.levelController.getLevelPrefix(),this.deleteData&&this.deleteAllKeys(),this.loadData&&(this.hairstylesUpgradeEntity.enabled=!0,this.hairstylesUpgrade.updateHairstyleStates(),this.hairstylesUpgradeEntity.enabled=!1)},HairstyleSaveManager.prototype.saveHairstyles=function(){try{localStorage.setItem(this.savePrefix+"hairstyleUpgradeCost1",this.hairstylesUpgrade.hairstyleUpgradeCost1),localStorage.setItem(this.savePrefix+"hairstyleUpgradeLevel1",this.hairstylesUpgrade.hairstyleUpgradeLevel1),localStorage.setItem(this.savePrefix+"hairstyleUpgradeCost2",this.hairstylesUpgrade.hairstyleUpgradeCost2),localStorage.setItem(this.savePrefix+"hairstyleUpgradeLevel2",this.hairstylesUpgrade.hairstyleUpgradeLevel2),localStorage.setItem(this.savePrefix+"hairstyleUpgradeCost3",this.hairstylesUpgrade.hairstyleUpgradeCost3),localStorage.setItem(this.savePrefix+"hairstyleUpgradeLevel3",this.hairstylesUpgrade.hairstyleUpgradeLevel3),localStorage.setItem(this.savePrefix+"hairstyleUpgradeCost4",this.hairstylesUpgrade.hairstyleUpgradeCost4),localStorage.setItem(this.savePrefix+"hairstyleUpgradeLevel4",this.hairstylesUpgrade.hairstyleUpgradeLevel4),localStorage.setItem(this.savePrefix+"isHairstyleUnlocked2",this.hairstylesUpgrade.isHairstyleUnlocked2),localStorage.setItem(this.savePrefix+"isHairstyleUnlocked3",this.hairstylesUpgrade.isHairstyleUnlocked3),localStorage.setItem(this.savePrefix+"isHairstyleUnlocked4",this.hairstylesUpgrade.isHairstyleUnlocked4)}catch(e){console.log(e)}},HairstyleSaveManager.prototype.saveHairstyleChooser=function(e){try{localStorage.setItem(this.savePrefix+"hairstyles"+e.id,e.hairstyles)}catch(e){console.log(e)}},HairstyleSaveManager.prototype.loadHairstyles=function(){try{localStorage.getItem(this.savePrefix+"hairstyleUpgradeCost1")&&(this.hairstylesUpgrade.hairstyleUpgradeCost1=parseInt(localStorage.getItem(this.savePrefix+"hairstyleUpgradeCost1"))),localStorage.getItem(this.savePrefix+"hairstyleUpgradeLevel1")&&(this.hairstylesUpgrade.hairstyleUpgradeLevel1=parseInt(localStorage.getItem(this.savePrefix+"hairstyleUpgradeLevel1"))),localStorage.getItem(this.savePrefix+"hairstyleUpgradeCost2")&&(this.hairstylesUpgrade.hairstyleUpgradeCost2=parseInt(localStorage.getItem(this.savePrefix+"hairstyleUpgradeCost2"))),localStorage.getItem(this.savePrefix+"hairstyleUpgradeLevel2")&&(this.hairstylesUpgrade.hairstyleUpgradeLevel2=parseInt(localStorage.getItem(this.savePrefix+"hairstyleUpgradeLevel2"))),localStorage.getItem(this.savePrefix+"hairstyleUpgradeCost3")&&(this.hairstylesUpgrade.hairstyleUpgradeCost3=parseInt(localStorage.getItem(this.savePrefix+"hairstyleUpgradeCost3"))),localStorage.getItem(this.savePrefix+"hairstyleUpgradeLevel3")&&(this.hairstylesUpgrade.hairstyleUpgradeLevel3=parseInt(localStorage.getItem(this.savePrefix+"hairstyleUpgradeLevel3"))),localStorage.getItem(this.savePrefix+"hairstyleUpgradeCost4")&&(this.hairstylesUpgrade.hairstyleUpgradeCost4=parseInt(localStorage.getItem(this.savePrefix+"hairstyleUpgradeCost4"))),localStorage.getItem(this.savePrefix+"hairstyleUpgradeLevel4")&&(this.hairstylesUpgrade.hairstyleUpgradeLevel4=parseInt(localStorage.getItem(this.savePrefix+"hairstyleUpgradeLevel4"))),localStorage.getItem(this.savePrefix+"isHairstyleUnlocked2")&&(this.hairstylesUpgrade.isHairstyleUnlocked2="true"===localStorage.getItem(this.savePrefix+"isHairstyleUnlocked2")),localStorage.getItem(this.savePrefix+"isHairstyleUnlocked3")&&(this.hairstylesUpgrade.isHairstyleUnlocked3="true"===localStorage.getItem(this.savePrefix+"isHairstyleUnlocked3")),localStorage.getItem(this.savePrefix+"isHairstyleUnlocked4")&&(this.hairstylesUpgrade.isHairstyleUnlocked4="true"===localStorage.getItem(this.savePrefix+"isHairstyleUnlocked4"))}catch(e){console.log(e)}},HairstyleSaveManager.prototype.loadHairstyleChooser=function(e){try{localStorage.getItem(this.savePrefix+"hairstyles"+e.id)&&(e.hairstyles=parseInt(localStorage.getItem(this.savePrefix+"hairstyles"+e.id)),e.loadFrame(this.hairstylesUpgrade.hairstyles,this.selectHairstyle.hairMaterials))}catch(e){console.log(e)}},HairstyleSaveManager.prototype.deleteAllKeys=function(){for(localStorage.getItem(this.savePrefix+"hairstyleUpgradeCost1")&&localStorage.removeItem(this.savePrefix+"hairstyleUpgradeCost1"),localStorage.getItem(this.savePrefix+"hairstyleUpgradeLevel1")&&localStorage.removeItem(this.savePrefix+"hairstyleUpgradeLevel1"),localStorage.getItem(this.savePrefix+"hairstyleUpgradeCost2")&&localStorage.removeItem(this.savePrefix+"hairstyleUpgradeCost2"),localStorage.getItem(this.savePrefix+"hairstyleUpgradeLevel2")&&localStorage.removeItem(this.savePrefix+"hairstyleUpgradeLevel2"),localStorage.getItem(this.savePrefix+"hairstyleUpgradeCost3")&&localStorage.removeItem(this.savePrefix+"hairstyleUpgradeCost3"),localStorage.getItem(this.savePrefix+"hairstyleUpgradeLevel3")&&localStorage.removeItem(this.savePrefix+"hairstyleUpgradeLevel3"),localStorage.getItem(this.savePrefix+"hairstyleUpgradeCost4")&&localStorage.removeItem(this.savePrefix+"hairstyleUpgradeCost4"),localStorage.getItem(this.savePrefix+"hairstyleUpgradeLevel4")&&localStorage.removeItem(this.savePrefix+"hairstyleUpgradeLevel4"),localStorage.getItem(this.savePrefix+"isHairstyleUnlocked2")&&localStorage.removeItem(this.savePrefix+"isHairstyleUnlocked2"),localStorage.getItem(this.savePrefix+"isHairstyleUnlocked3")&&localStorage.removeItem(this.savePrefix+"isHairstyleUnlocked3"),localStorage.getItem(this.savePrefix+"isHairstyleUnlocked4")&&localStorage.removeItem(this.savePrefix+"isHairstyleUnlocked4"),i=1;i<=8;i++)localStorage.getItem(this.savePrefix+"hairstyles"+i)&&localStorage.removeItem(this.savePrefix+"hairstyles"+i)};var SaveController=pc.createScript("saveController");SaveController.attributes.add("deleteSave",{type:"boolean",title:"Erase All Game Data !",default:!1}),SaveController.prototype.initialize=function(){},SaveController.prototype.deleteSaveGameData=function(){localStorage.clear()};var SettingsPanel=pc.createScript("settingsPanel");SettingsPanel.prototype.initialize=function(){this.saveController=this.app.root.findByName("@Save Managers").script.saveController,this.panelController=this.app.root.findByName("@Panel Controller").script.panelController,this.sceneManager=this.app.root.findByName("@Scene Manager").script.sceneManager,this.deleteProgress=this.app.root.findByName("Delete Progress Panel"),this.btnSettings=this.app.root.findByName("btn_settings_delete"),this.btnDelete=this.app.root.findByName("btn_delete_progress"),this.btnDelete.button.on("click",this.onClickDelete,this),this.btnSettings.button.on("click",this.onOpenDeleteProgressPanel,this)},SettingsPanel.prototype.onOpenDeleteProgressPanel=function(){this.panelController.closeAllPanels(),this.deleteProgress.enabled=!0},SettingsPanel.prototype.onClickDelete=function(){this.panelController.closeAllPanels(),this.sceneManager.loadLoadingScene()},SettingsPanel.prototype.removeEvents=function(){this.btnDelete&&this.btnDelete.button.off("click",this.onClickDelete,this),this.btnSettings&&this.btnSettings.button.off("click",this.onOpenDeleteProgressPanel,this)};var SceneManager=pc.createScript("sceneManager");SceneManager.attributes.add("c1sh1SceneName",{type:"string",title:"City 1 Shop 1 Scene Name"}),SceneManager.attributes.add("c1SceneName",{type:"string",title:"City 1 Scene Name"}),SceneManager.attributes.add("loadingSceneName",{type:"string",title:"Loading Scene Name"}),SceneManager.attributes.add("cameraEntity",{type:"entity",title:"Camera"}),SceneManager.prototype.initialize=function(){this.levelController=this.app.root.findByName("@Level Controller").script.levelController,this.panelController=this.app.root.findByName("@Panel Controller").script.panelController,this.hairstyleFramePicker=this.cameraEntity.script.hairstyleFramePicker,this.carpetSpawnerPicker=this.cameraEntity.script.carpetSpawnerPicker,this.chairPicker=this.cameraEntity.script.chairPicker,this.entrywayRugPicker=this.cameraEntity.script.entrywayRugPicker,this.hireManagerPicker=this.cameraEntity.script.hireManagerPicker,this.managerPicker=this.cameraEntity.script.managerPicker,this.carpetPicker=this.cameraEntity.script.carpetPicker,this.shopPicker=this.cameraEntity.script.shopPicker,this.cameraMovementButtons=this.app.root.findByName("ui_camera_move_buttons").script.cameraMovementButtons,this.settingsPanel=this.app.root.findByName("Settings Panel").script.settingsPanel,this.uitop=this.app.root.findByName("ui_top").script.uitop,this.uiBottom=this.app.root.findByName("ui_bottom").script.uiBottom,this.achievementsPanel=this.app.root.findByName("Achievements Panel").script.achievementsPanel,this.ads=this.app.root.findByName("Ads Holder").script.ads,this.disableAllPanels=this.app.root.findByName("btn_disable_all_panels").script.disableAllPanels,!1===this.levelController.isInCity&&(this.managerPanels=this.app.root.findByName("Manager Panels").script.managerPanels),!1===this.levelController.isInCity&&(this.manager=this.app.root.findByName("manager_collider").script.manager),!1===this.levelController.isInCity&&(this.hairstylesUpgrade=this.app.root.findByName("Hairstyles Upgrade Board Panel").script.hairstylesUpgrade),!1===this.levelController.isInCity&&(this.closeButtonChairUpgrades=this.app.root.findByName("Button_close_chair_upgrades").script.closeButtonChairUpgrades),!1===this.levelController.isInCity&&(this.chairUpgradePanels=this.app.root.findByName("Chair Upgrade Panels").script.chairUpgradePanels),!1===this.levelController.isInCity&&(this.btnSelectHairstyle=this.app.root.findByName("Hairstyles Choose Board Panel").script.btnSelectHairstyle),!1===this.levelController.isInCity&&(this.btnHireManager=this.app.root.findByName("Hire Manager Panel").script.btnHireManager),!1===this.levelController.isInCity&&(this.chairs=this.app.root.findByTag("Table")),this.levelController.isInCity&&(this.purchaseShopPanel=this.app.root.findByName("Purchase Shop Panel").script.purchaseShopPanel),this.levelController.isInPlanet&&(this.cityPicker=this.cameraEntity.script.cityPicker),this.isTransitioningScenes=!1},SceneManager.prototype.loadLoadingScene=function(){this.panelController.triggerLoadingScreen(),this.startLoading();var e=this;setTimeout((function(){e.loadScene(e.loadingSceneName)}),1e3)},SceneManager.prototype.loadFirstScene=function(){this.panelController.triggerLoadingScreen(),this.startLoading();var e=this;setTimeout((function(){e.loadScene(e.c1sh1SceneName)}),1e3)},SceneManager.prototype.loadFirstCity=function(){this.panelController.triggerLoadingScreen(),this.startLoading();var e=this;setTimeout((function(){e.loadScene(e.c1SceneName)}),1e3)},SceneManager.prototype.loadSceneWithName=function(e){this.panelController.triggerLoadingScreen(),this.startLoading();var t=this;setTimeout((function(){t.loadScene(e)}),1e3)},SceneManager.prototype.loadScene=function(e){if(!this.isTransitioningScenes){this.isTransitioningScenes=!0,this.removeEventListeners(),this.deleteActiveCustomers();var t=this.app.root.findByName("Root"),i=this.app.scenes.find(e);this.app.scenes.loadSceneHierarchy(i.url,(function(e,i){e?console.error(e):t.destroy()}))}},SceneManager.prototype.removeEventListeners=function(){if(this.hairstyleFramePicker.removeEvents(),this.carpetSpawnerPicker.removeEvents(),this.chairPicker.removeEvents(),this.entrywayRugPicker.removeEvents(),this.hireManagerPicker.removeEvents(),this.managerPicker.removeEvents(),this.carpetPicker.removeEvents(),this.shopPicker.removeEvents(),this.cameraMovementButtons.removeEvents(),this.settingsPanel.removeEvents(),this.uitop.removeEvents(),this.uiBottom.removeEvents(),this.achievementsPanel.removeEvents(),this.ads.removeEvents(),this.disableAllPanels.removeEvents(),this.levelController.isInCity&&this.purchaseShopPanel.removeEvents(),this.levelController.isInPlanet&&this.cityPicker.removeEvents(),!1===this.levelController.isInCity&&this.managerPanels.removeEvents(),!1===this.levelController.isInCity&&this.manager.removeEvents(),!1===this.levelController.isInCity&&this.hairstylesUpgrade.removeEvents(),!1===this.levelController.isInCity&&this.closeButtonChairUpgrades.removeEvents(),!1===this.levelController.isInCity&&this.chairUpgradePanels.removeEvents(),!1===this.levelController.isInCity&&this.btnSelectHairstyle.removeEvents(),!1===this.levelController.isInCity&&this.btnHireManager.removeEvents(),!1===this.levelController.isInCity&&this.chairs.length>0)for(i=0;i<this.chairs.length;i++)this.chairs[i].script.chair.disableButtonEvents()},SceneManager.prototype.deleteActiveCustomers=function(){if(this.customers=this.app.root.findByTag("Customer"),this.customers&&this.customers.length>0)for(i=0;i<this.customers.length;i++)this.customers[i].destroy()},SceneManager.prototype.startLoading=function(){PokiSDK.gameplayStop()};var SceneLoader=pc.createScript("sceneLoader");SceneLoader.attributes.add("city1",{type:"string",title:"City 1 Scene Name"}),SceneLoader.attributes.add("allowLoadingOtherScenes",{type:"boolean",title:"Allow Loading Other Scenes?"}),SceneLoader.attributes.add("deleteProgress",{type:"boolean",title:"Delete Progress?"}),SceneLoader.attributes.add("deleteGameLoaded",{type:"boolean",title:"Delete Game Loaded?"}),SceneLoader.prototype.initialize=function(){var e=!1;try{this.deleteGameLoaded&&localStorage.getItem("isGameLoaded")&&localStorage.removeItem("isGameLoaded"),this.deleteProgress&&(localStorage.getItem("isGameLoaded")&&(e="true"===localStorage.getItem("isGameLoaded")),localStorage.clear(),localStorage.getItem("totalMoney")&&localStorage.removeItem("totalMoney"),localStorage.setItem("isGameLoaded",e)),this.allowLoadingOtherScenes&&localStorage.getItem("currentShopSceneName")&&(this.city1=localStorage.getItem("currentShopSceneName"))}catch(e){console.log(e)}var t=this;setTimeout((function(){t.loadScene(t.city1)}),1e3)},SceneLoader.prototype.loadScene=function(e){var t=this.app.root.findByName("Root"),o=this.app.scenes.find(e);this.app.scenes.loadSceneHierarchy(o.url,(function(e,o){e?console.error(e):t.destroy()}))},SceneLoader.prototype.startLoading=function(){PokiSDK.gameLoadingStart()};var HierarchyEnabler=pc.createScript("hierarchyEnabler");HierarchyEnabler.attributes.add("objects",{type:"entity",title:"Objects"}),HierarchyEnabler.attributes.add("ignorePokiSDK",{type:"boolean",title:"Ignore Poki SDK?"}),HierarchyEnabler.attributes.add("sceneName",{type:"string",title:"Scene Name"}),HierarchyEnabler.prototype.initialize=function(){var e=this;setTimeout((function(){e.enableAllObjects()}),1e3);try{localStorage.setItem("input",1)}catch(e){console.log(e)}try{this.sceneName&&localStorage.setItem("currentShopSceneName",this.sceneName)}catch(e){console.log(e)}},HierarchyEnabler.prototype.enableAllObjects=function(){if(this.objects.enabled=!0,!this.ignorePokiSDK){try{if(localStorage.getItem("isGameLoaded")&&"true"===localStorage.getItem("isGameLoaded"))return void PokiSDK.commercialBreak().then((()=>{PokiSDK.gameplayStart(),this.startGame();try{localStorage.setItem("input",1)}catch(e){console.log(e)}}))}catch(e){console.log(e)}this.loadingComplete();try{localStorage.setItem("isGameLoaded",!0)}catch(e){console.log(e)}}},HierarchyEnabler.prototype.loadingComplete=function(){PokiSDK.gameLoadingFinished(),this.levelController=this.app.root.findByName("@Level Controller").script.levelController;try{localStorage.setItem("input",0)}catch(e){console.log(e)}PokiSDK.gameplayStop(),PokiSDK.commercialBreak().then((()=>{PokiSDK.gameplayStart(),this.startGame();try{localStorage.setItem("input",1)}catch(e){console.log(e)}}))},HierarchyEnabler.prototype.startGame=function(){PokiSDK.happyTime(.8)};var ShopPicker=pc.createScript("shopPicker");ShopPicker.prototype.initialize=function(){this.app.mouse.on(pc.EVENT_MOUSEDOWN,this.onSelect,this),this.app.touch&&this.app.touch.on(pc.EVENT_TOUCHSTART,this.onTouchStart,this),this.panelController=this.app.root.findByName("@Panel Controller").script.panelController,this.cameraMovementButtons=this.app.root.findByName("ui_camera_move_buttons").script.cameraMovementButtons},ShopPicker.prototype.onTouchStart=function(t){1==t.touches.length&&(this.onSelect(t.touches[0]),t.event.preventDefault())},ShopPicker.prototype.onSelect=function(t){if(!this.panelController.isPanelOpen()&&!this.cameraMovementButtons.isHoldingButton){try{if(0===parseInt(localStorage.getItem("input")))return}catch(t){console.log(t)}var e=this.entity.camera.screenToWorld(t.x,t.y,this.entity.camera.nearClip),o=this.entity.camera.screenToWorld(t.x,t.y,this.entity.camera.farClip);this.panelController;this.app.systems.rigidbody.raycastFirst(e,o,(function(t){var e=t.entity;e.script&&e.script.shop&&e.script.shop.clickShop()}))}},ShopPicker.prototype.removeEvents=function(){this.app.mouse.off(pc.EVENT_MOUSEDOWN,this.onSelect,this),this.app.touch&&this.app.touch.off(pc.EVENT_TOUCHSTART,this.onSelect,this)};var Shop=pc.createScript("shop");Shop.attributes.add("isUnlocked",{type:"boolean",title:"Is Unlocked?"}),Shop.attributes.add("isPurchased",{type:"boolean",title:"Is Purchased?"}),Shop.attributes.add("cost",{type:"number",title:"Purchase Cost"}),Shop.attributes.add("spriteFloating",{type:"entity",title:"Floating Sprite"}),Shop.attributes.add("sprites",{type:"asset",assetType:"sprite",title:"Sprites",array:!0}),Shop.attributes.add("duration",{type:"number",title:"Sprite Animation Duration",default:2}),Shop.attributes.add("maxY",{type:"number",title:"Max Y",default:5}),Shop.attributes.add("shopSceneName",{type:"string",title:"Shop Scene Name to Load"}),Shop.attributes.add("nextShopEntity",{type:"entity",title:"Next Shop"}),Shop.attributes.add("isDecorateable",{type:"boolean",title:"Is Decoreatable?"}),Shop.attributes.add("currentModel",{type:"entity",title:"Current Shop Model"}),Shop.attributes.add("newModel",{type:"entity",title:"New Shop Model"}),Shop.attributes.add("shopId",{type:"number",title:"City To Unlock ID"}),Shop.prototype.initialize=function(){this.sceneManager=this.app.root.findByName("@Scene Manager").script.sceneManager,this.shopPanel=this.app.root.findByName("Purchase Shop Panel").script.purchaseShopPanel,this.shopSaveManager=this.app.root.findByName("@Shop Save Manager").script.shopSaveManager,this.achievementsController=this.app.root.findByName("@Achievements Controller").script.achievementsController,this.nextShopEntity&&(this.nextShop=this.nextShopEntity.script.shop);try{this.shopSaveManager.loadShop(this)}catch(t){console.log(t)}this.isUnlocked&&this.isPurchased&&this.isDecorateable&&(this.currentModel&&(this.currentModel.enabled=!1),this.newModel&&(this.newModel.enabled=!0)),this.updateFloatingSprite()},Shop.prototype.updateFloatingSprite=function(){this.isUnlocked?this.spriteFloating.enabled=!0:this.spriteFloating.enabled=!1,this.isPurchased?this.spriteFloating.sprite.spriteAsset=this.sprites[0]:this.spriteFloating.sprite.spriteAsset=this.sprites[1],this.tween&&this.tween.stop();var t=new pc.Vec3(this.spriteFloating.getLocalPosition().x,this.maxY,this.spriteFloating.getLocalPosition().z);this.tween=this.spriteFloating.tween(this.spriteFloating.getLocalPosition()).to(t,this.duration,pc.QuadraticInOut).loop(!0).yoyo(!0),this.tween.start()},Shop.prototype.clickShop=function(){!1!==this.isUnlocked&&(this.isPurchased?this.sceneManager.loadSceneWithName(this.shopSceneName):(this.shopPanel.entity.enabled=!0,this.shopPanel.setSelectedShop(this)))};var PurchaseShopPanel=pc.createScript("purchaseShopPanel");PurchaseShopPanel.attributes.add("btnPurchaseShop",{type:"entity",title:"Purchase Shop Button"}),PurchaseShopPanel.attributes.add("textCost",{type:"entity",title:"Cost Text"}),PurchaseShopPanel.prototype.initialize=function(){this.panelController=this.app.root.findByName("@Panel Controller").script.panelController,this.moneyManager=this.app.root.findByName("@Money Manager").script.moneyManager,this.moneyDisplayFormatter=this.app.root.findByName("@Money Display Formatter").script.moneyDisplayFormatter,this.achievements=this.app.root.findByName("@Achievements Controller").script.achievementsController,this.shopSaveManager=this.app.root.findByName("@Shop Save Manager").script.shopSaveManager,this.selectedShop=null,this.btnPurchaseShop.button.on("click",this.onClickPurchaseShop,this)},PurchaseShopPanel.prototype.setSelectedShop=function(e){e&&(this.selectedShop=e,this.updateDetails())},PurchaseShopPanel.prototype.updateDetails=function(){this.moneyManager.totalMoney>=this.selectedShop.cost?this.btnPurchaseShop.button.active=!0:this.btnPurchaseShop.button.active=!1,this.moneyDisplayFormatter||(this.moneyDisplayFormatter=this.app.root.findByName("@Money Display Formatter").script.moneyDisplayFormatter),this.textCost.element.text="$"+this.moneyDisplayFormatter.formatEveryThirdPowerAsString(this.selectedShop.cost)},PurchaseShopPanel.prototype.onClickPurchaseShop=function(){if(this.moneyManager.totalMoney>=this.selectedShop.cost){this.moneyManager.subtractMoney(this.selectedShop.cost,!1),this.panelController.closeAllPanels(),this.selectedShop.isPurchased=!0,this.selectedShop.updateFloatingSprite(),this.achievements.increaseOwnedShops(),this.selectedShop.nextShop&&(this.selectedShop.nextShop.isUnlocked=!0,this.selectedShop.nextShop.updateFloatingSprite()),this.shopSaveManager.saveShop(this.selectedShop),this.entity.enabled=!1;try{this.selectedShop.shopId>0&&null===localStorage.getItem("City "+this.selectedShop.shopId)&&(localStorage.setItem("City "+this.selectedShop.shopId,!0),this.selectedShop.achievementsController.increaseUnlockedCities())}catch(e){console.log(e)}this.selectedShop.sceneManager.loadSceneWithName(this.selectedShop.shopSceneName)}},PurchaseShopPanel.prototype.removeEvents=function(){this.btnPurchaseShop.button.off("click",this.onClickPurchaseShop,this)};var ShopSaveManager=pc.createScript("shopSaveManager");ShopSaveManager.attributes.add("loadData",{type:"boolean",title:"Load Data?",default:!0}),ShopSaveManager.attributes.add("deleteData",{type:"boolean",title:"Delete Data?"}),ShopSaveManager.prototype.initialize=function(){this.levelController=this.app.root.findByName("@Level Controller").script.levelController,this.savePrefix=this.levelController.getLevelPrefix(),this.deleteData&&this.deleteAllKeys()},ShopSaveManager.prototype.saveShop=function(){var e=this.app.root.findByTag("Shop"),t=null;for(i=0;i<e.length;i++)t=e[i].script.shop,localStorage.setItem(this.savePrefix+"isUnlocked"+t.entity.name,t.isUnlocked),localStorage.setItem(this.savePrefix+"isPurchased"+t.entity.name,t.isPurchased),localStorage.setItem(this.savePrefix+"isDecorateable"+t.entity.name,t.isDecorateable)},ShopSaveManager.prototype.loadShop=function(){var e=this.app.root.findByTag("Shop"),t=null;for(i=0;i<e.length;i++)t=e[i].script.shop,localStorage.getItem(this.savePrefix+"isUnlocked"+t.entity.name)&&(t.isUnlocked="true"===localStorage.getItem(this.savePrefix+"isUnlocked"+t.entity.name)),localStorage.getItem(this.savePrefix+"isPurchased"+t.entity.name)&&(t.isPurchased="true"===localStorage.getItem(this.savePrefix+"isPurchased"+t.entity.name)),localStorage.getItem(this.savePrefix+"isDecorateable"+t.entity.name)&&(t.isDecorateable="true"===localStorage.getItem(this.savePrefix+"isDecorateable"+t.entity.name))},ShopSaveManager.prototype.deleteAllKeys=function(){var e=this.app.root.findByTag("Shop"),t=null;for(i=0;i<e.length;i++)t=e[i].script.shop,localStorage.getItem(this.savePrefix+"isUnlocked"+t.entity.name)&&localStorage.removeItem(this.savePrefix+"isUnlocked"+t.entity.name),localStorage.getItem(this.savePrefix+"isPurchased"+t.entity.name)&&localStorage.removeItem(this.savePrefix+"isPurchased"+t.entity.name),localStorage.getItem(this.savePrefix+"isDecorateable"+t.entity.name)&&localStorage.removeItem(this.savePrefix+"isDecorateable"+t.entity.name)};var CitySaveManager=pc.createScript("citySaveManager");CitySaveManager.attributes.add("loadData",{type:"boolean",title:"Load Data?",default:!0}),CitySaveManager.attributes.add("deleteData",{type:"boolean",title:"Delete Data?"}),CitySaveManager.prototype.initialize=function(){this.levelController=this.app.root.findByName("@Level Controller").script.levelController,this.savePrefix=this.levelController.getLevelPrefix(),this.deleteData&&this.deleteAllKeys()};var Ads=pc.createScript("ads");Ads.attributes.add("rewardPanel",{type:"entity",title:"Reward Panel"}),Ads.attributes.add("textReward",{type:"entity",title:"Reward Text"}),Ads.attributes.add("giftPanel",{type:"entity",title:"Gift Panel"}),Ads.attributes.add("btnTimeMachine",{type:"entity",title:"Watch Time Machine Ad Button"}),Ads.attributes.add("txtTimeMachine",{type:"entity",title:"Watch Ad Text"}),Ads.attributes.add("btnGift",{type:"entity",title:"Gift Ad Button"}),Ads.attributes.add("btnChest1",{type:"entity",title:"Blue Chest Button"}),Ads.attributes.add("btnChest2",{type:"entity",title:"Gold Chest Button"}),Ads.attributes.add("btnChest3",{type:"entity",title:"Silver Chest Button"}),Ads.attributes.add("tutorialAdsPanel",{type:"entity",title:"Watch Ads Tutorial Panel"}),Ads.attributes.add("txtTutAd",{type:"entity",title:"Reward Tut Ad"}),Ads.attributes.add("btnTutAd",{type:"entity",title:"Button Tut Ad"}),Ads.attributes.add("scrollbarTimeMachine",{type:"entity",title:"Time Machine Scrollbar"}),Ads.prototype.initialize=function(){this.moneyManager=this.app.root.findByName("@Money Manager").script.moneyManager,this.moneyDisplayFormatter=this.app.root.findByName("@Money Display Formatter").script.moneyDisplayFormatter,this.uiBottom=this.app.root.findByName("ui_bottom").script.uiBottom,this.adsSaveManager=this.app.root.findByName("@Ads Save Manager").script.adsSaveManager,this.achievementsController=this.app.root.findByName("@Achievements Controller").script.achievementsController,this.levelController=this.app.root.findByName("@Level Controller").script.levelController,this.autoSaveTimer=600,this.btnTimeMachine.button.on("click",this.onClickTimeMachine,this),this.btnGift.button.on("click",this.onClickGift,this),this.btnTutAd&&this.btnTutAd.button.on("click",this.onClickTutAd,this),this.btnChest1.element.on("click",this.onClickChest1,this),this.btnChest2.element.on("click",this.onClickChest2,this),this.btnChest3.element.on("click",this.onClickChest3,this),this.currentDate=new Date,this.lastDate=null,this.hoursElapsedInTotal=0,this.timeMachineDuration=600,this.giftDuration=300,this.chest1Duration=3600,this.chest2Duration=7200,this.chest3Duration=10800,this.canWatchTimeMachineAd=!0,this.canWatchGiftAd=!0,this.canWatchChest1Ad=!0,this.canWatchChest2Ad=!0,this.canWatchChest3Ad=!0,this.chest1AdsToWatch=1,this.chest2AdsToWatch=2,this.chest3AdsToWatch=3,this.timeMachineAdsToWatch=3,this.levelController.isInCity&&(localStorage.getItem("claimedCityAdReward")||(localStorage.setItem("claimedCityAdReward",!0),this.openTutAdPanel()));try{if(this.adsSaveManager.loadData){if(this.adsSaveManager.loadAds(),this.updateScrollbars(),!1===this.canWatchGiftAd&&this.uiBottom.enableTimer(),!localStorage.getItem("lastDate"))return;this.diffTime=Math.abs(this.currentDate-this.lastDate);var t=this.diffTime/1e3;if(this.hoursPassedWhileOffline=t/60/60,this.hoursElapsedInTotal+=t/60/60,this.hoursPassedFromLastSession=Math.round(t/60/60),this.hourspassedFromLastSession>0&&this.claimReturnedReward(),this.hoursElapsedInTotal>24&&(this.achievementsController.increaseDaysShowedUp(),this.hoursElapsedInTotal=0),this.hoursPassedWhileOffline>=1){var e=this;setTimeout((function(){e.claimOfflineReward()}),50)}this.timeMachineDuration-=t,this.giftDuration-=t,this.chest1Duration-=t,this.chest2Duration-=t,this.chest3Duration-=t}}catch(t){console.log(t)}},Ads.prototype.update=function(t){!1===this.canWatchTimeMachineAd?(this.btnTimeMachine.button.active&&(this.btnTimeMachine.button.active=!1),this.timeMachineDuration-=t,this.updateTimerText(this.txtTimeMachine,this.timeMachineDuration),this.timeMachineDuration<=0&&(this.canWatchTimeMachineAd=!0,this.timeMachineDuration=600),this.adsSaveManager.saveAds()):(!1===this.btnTimeMachine.button.active&&(this.btnTimeMachine.button.active=!0,this.txtTimeMachine.element.text="WATCH AD",this.adsSaveManager.saveAds()),600!=this.timeMachineDuration&&(this.timeMachineDuration=600)),!1===this.canWatchGiftAd?(this.giftDuration-=t,this.updateTimerText(this.uiBottom.textGiftDuration,this.giftDuration),this.giftDuration<=0&&(this.canWatchGiftAd=!0,this.giftDuration=300,this.uiBottom.resetGiftButton()),this.adsSaveManager.saveAds()):300!=this.giftDuration&&(this.giftDuration=300),!1===this.canWatchChest1Ad?(this.chest1Duration-=t,this.updateTimerTextWithHours(this.btnChest1,this.chest1Duration),this.chest1Duration<=0&&(this.chest1Duration=3600,this.canWatchChest1Ad=!0,this.btnChest1.element.text="Watch 1 AD"),this.adsSaveManager.saveAds()):3600!=this.chest1Duration&&(this.chest1Duration=3600),!1===this.canWatchChest2Ad?(this.chest2Duration-=t,this.updateTimerTextWithHours(this.btnChest2,this.chest2Duration),this.chest2Duration<=0&&(this.chest2Duration=7200,this.canWatchChest2Ad=!0,this.btnChest2.element.text="Watch 2 ADs"),this.adsSaveManager.saveAds()):7200!=this.chest2Duration&&(this.chest2Duration=7200),!1===this.canWatchChest3Ad?(this.chest3Duration-=t,this.updateTimerTextWithHours(this.btnChest3,this.chest3Duration),this.chest3Duration<=0&&(this.chest3Duration=10800,this.canWatchChest3Ad=!0,this.btnChest3.element.text="Watch 3 ADs"),this.adsSaveManager.saveAds()):10800!=this.chest3Duration&&(this.chest3Duration=10800),this.canWatchChest1Ad&&0===this.chest1AdsToWatch&&(this.btnChest1.element.text="Open"),this.canWatchChest2Ad&&0===this.chest2AdsToWatch?this.btnChest2.element.text="Open":this.canWatchChest2Ad&&1===this.chest2AdsToWatch?this.btnChest2.element.text="Watch 1 AD":this.canWatchChest2Ad&&(this.btnChest2.element.text="Watch "+this.chest2AdsToWatch+" ADs"),this.canWatchChest3Ad&&0===this.chest3AdsToWatch?this.btnChest3.element.text="Open":this.canWatchChest3Ad&&1===this.chest3AdsToWatch?this.btnChest3.element.text="Watch 1 AD":this.canWatchChest3Ad&&(this.btnChest3.element.text="Watch "+this.chest3AdsToWatch+" ADs"),this.autoSaveTimer>0?this.autoSaveTimer-=t:(this.adsSaveManager.saveAds(),this.autoSaveTimer=600)},Ads.prototype.onClickTimeMachine=function(){try{if(0===parseInt(localStorage.getItem("input")))return}catch(t){console.log(t)}if(this.canWatchTimeMachineAd&&1===this.timeMachineAdsToWatch){var t=this.moneyManager.addTimeMachineReward();this.canWatchTimeMachineAd=!1,this.timeMachineAdsToWatch=3,this.uiBottom.panelController.closeAllPanels(),this.rewardPanel.enabled=!0,this.textReward.element.text="You Gained $"+this.moneyDisplayFormatter.roundFormatEveryThirdPowerAsString(t),this.triggerPokiAd()}else this.canWatchTimeMachineAd&&(this.timeMachineAdsToWatch--,this.timeMachineDuration=600,this.canWatchTimeMachineAd=!1,this.triggerPokiAd());this.updateScrollbars(),this.adsSaveManager.saveAds()},Ads.prototype.onClickGift=function(){try{if(0===parseInt(localStorage.getItem("input")))return}catch(t){console.log(t)}this.moneyManager.addGiftReward();this.canWatchGiftAd=!1,this.uiBottom.panelController.closeAllPanels(),this.uiBottom.enableTimer(),this.triggerPokiAd(),this.adsSaveManager.saveAds()},Ads.prototype.openTutAdPanel=function(){this.tutorialAdsPanel.enabled=!0,this.randomTutVal=Math.round(1500*Math.random()),this.randomTutVal<1e3&&(this.randomTutVal=1e3),this.levelController.isInCity&&(this.randomTutVal*=20),this.txtTutAd.element.text="$"+this.moneyDisplayFormatter.roundFormatEveryThirdPowerAsString(this.randomTutVal)},Ads.prototype.onClickTutAd=function(){try{if(0===parseInt(localStorage.getItem("input")))return}catch(t){console.log(t)}this.moneyManager.addTutAdReward(this.randomTutVal);this.uiBottom.panelController.closeAllPanels(),this.triggerPokiAd()},Ads.prototype.claimOfflineReward=function(){var t=this.moneyManager.addOfflineReward(this.hoursPassedWhileOffline);this.rewardPanel.enabled=!0,this.textReward.element.text='You earned\n[color="#2A2A2A"]$'+this.moneyDisplayFormatter.roundFormatEveryThirdPowerAsString(t)+"[/color]\nwhile offline!",this.adsSaveManager.saveAds()},Ads.prototype.onClickChest1=function(){try{if(0===parseInt(localStorage.getItem("input")))return}catch(t){console.log(t)}if(this.canWatchChest1Ad&&0===this.chest1AdsToWatch){var t=this.moneyManager.addChestReward(1);this.canWatchChest1Ad=!1,this.chest1AdsToWatch=1,this.uiBottom.panelController.closeAllPanels(),this.rewardPanel.enabled=!0,this.textReward.element.text="You Gained $"+this.moneyDisplayFormatter.roundFormatEveryThirdPowerAsString(t)}else this.canWatchChest1Ad&&(this.chest1AdsToWatch>1?this.chest1Duration=900:this.chest1Duration=0,this.chest1AdsToWatch--,this.canWatchChest1Ad=!1,this.triggerPokiAd());this.adsSaveManager.saveAds()},Ads.prototype.onClickChest2=function(){try{if(0===parseInt(localStorage.getItem("input")))return}catch(t){console.log(t)}if(this.canWatchChest2Ad&&0===this.chest2AdsToWatch){var t=this.moneyManager.addChestReward(2);if(this.canWatchChest2Ad=!1,this.chest2AdsToWatch=2,this.uiBottom.panelController.closeAllPanels(),this.rewardPanel.enabled=!0,!1===this.levelController.isInCity){var e=Math.floor(14*Math.random());e<7&&(e=7),this.textReward.element.text="You Gained $"+this.moneyDisplayFormatter.roundFormatEveryThirdPowerAsString(t)+"\n+"+e+" Chairs Level Upgrade";var s=this.app.root.findByTag("Table");for(i=s.length-1;i>=0;i--)if(s[i].enabled)return void s[i].script.chair.upgradeRandomly(e)}else this.textReward.element.text="You Gained $"+this.moneyDisplayFormatter.roundFormatEveryThirdPowerAsString(t)}else this.canWatchChest2Ad&&(this.chest2AdsToWatch>1?this.chest2Duration=900:this.chest2Duration=0,this.chest2AdsToWatch--,this.canWatchChest2Ad=!1,this.triggerPokiAd());this.adsSaveManager.saveAds()},Ads.prototype.onClickChest3=function(){try{if(0===parseInt(localStorage.getItem("input")))return}catch(t){console.log(t)}if(this.canWatchChest3Ad&&0===this.chest3AdsToWatch){var t=this.moneyManager.addChestReward(3);if(this.canWatchChest3Ad=!1,this.chest3AdsToWatch=3,this.uiBottom.panelController.closeAllPanels(),this.rewardPanel.enabled=!0,!1===this.levelController.isInCity){var e="",s=this.app.root.findByTag("Carpet Spawner");for(i=0;i<s.length;i++)if(s[i].enabled){s[i].script.carpetSpawner.hireBarberForFree(),e="\n Purchased a New Chair";break}this.textReward.element.text="You Gained $"+this.moneyDisplayFormatter.roundFormatEveryThirdPowerAsString(t)+e}else this.textReward.element.text="You Gained $"+this.moneyDisplayFormatter.roundFormatEveryThirdPowerAsString(t)}else this.canWatchChest3Ad&&(this.chest3AdsToWatch>1?this.chest3Duration=900:this.chest3Duration=0,this.chest3AdsToWatch--,this.canWatchChest3Ad=!1,this.triggerPokiAd());this.adsSaveManager.saveAds()},Ads.prototype.claimReturnedReward=function(){var t=this.moneyManager.addTurnBackReward(this.hoursPassedFromLastSession);this.rewardPanel.enabled=!0,this.textReward.element.text="You Gained $"+this.moneyDisplayFormatter.roundFormatEveryThirdPowerAsString(t)},Ads.prototype.updateTimerText=function(t,e){var i=~~(e%3600/60),s=~~e%60;t.element.text="",t.element.text+=i+":"+(s<10?"0":""),t.element.text+=""+s},Ads.prototype.updateTimerTextWithHours=function(t,e){var i=~~(e/3600),s=~~(e%3600/60),a=~~e%60;t.element.text="",t.element.text+=i+":"+(s<10?"0":""),t.element.text+=s+":"+(a<10?"0":""),t.element.text+=""+a},Ads.prototype.removeEvents=function(){this.btnTimeMachine.button.off("click",this.onClickTimeMachine,this),this.btnGift.button.off("click",this.onClickGift,this),this.btnTutAd&&this.btnTutAd.button.off("click",this.onClickTutAd,this),this.btnChest1.element.off("click",this.onClickChest1,this),this.btnChest2.element.off("click",this.onClickChest2,this),this.btnChest3.element.off("click",this.onClickChest3,this)},Ads.prototype.updateScrollbars=function(){var t=3-this.timeMachineAdsToWatch;this.scrollbarTimeMachine.scrollbar.handleSize=t/3},Ads.prototype.triggerPokiAd=function(){PokiSDK.gameplayStop();try{localStorage.setItem("input",0)}catch(t){console.log(t)}PokiSDK.rewardedBreak().then((t=>{t&&PokiSDK.gameplayStart();try{localStorage.setItem("input",1)}catch(t){console.log(t)}}))};var UiBottom=pc.createScript("uiBottom");UiBottom.attributes.add("timeMachinePanel",{type:"entity",title:"Time Machine Panel"}),UiBottom.attributes.add("giftPanel",{type:"entity",title:"Gift Panel"}),UiBottom.attributes.add("btnTimeMachine",{type:"entity",title:"Time Machine Panel Button"}),UiBottom.attributes.add("btnGift",{type:"entity",title:"Gift Panel Button"}),UiBottom.attributes.add("imgGift",{type:"entity",title:"Gift Image"}),UiBottom.attributes.add("textGiftDuration",{type:"entity",title:"Gift Duration Text"}),UiBottom.attributes.add("textGiftReward",{type:"entity",title:"Gift Reward Text"}),UiBottom.prototype.initialize=function(){this.panelController=this.app.root.findByName("@Panel Controller").script.panelController,this.moneyManager=this.app.root.findByName("@Money Manager").script.moneyManager,this.moneyDisplayFormatter=this.app.root.findByName("@Money Display Formatter").script.moneyDisplayFormatter,this.ads=this.app.root.findByName("Ads Holder").script.ads,this.btnTimeMachine.button.on("click",this.onClickTimeMachine,this),this.btnGift.button.on("click",this.onClickGift,this)},UiBottom.prototype.onClickTimeMachine=function(){try{if(0===parseInt(localStorage.getItem("input")))return}catch(t){console.log(t)}this.panelController.closeAllPanels(),this.timeMachinePanel.enabled=!0,PokiSDK.gameplayStop();try{localStorage.setItem("input",0)}catch(t){console.log(t)}PokiSDK.commercialBreak().then((()=>{PokiSDK.gameplayStart();try{localStorage.setItem("input",1)}catch(t){console.log(t)}}))},UiBottom.prototype.onClickGift=function(){try{if(0===parseInt(localStorage.getItem("input")))return}catch(t){console.log(t)}if(!1!==this.ads.canWatchGiftAd){this.panelController.closeAllPanels(),this.giftPanel.enabled=!0,PokiSDK.gameplayStop();try{localStorage.setItem("input",0)}catch(t){console.log(t)}PokiSDK.commercialBreak().then((()=>{PokiSDK.gameplayStart();try{localStorage.setItem("input",1)}catch(t){console.log(t)}}));var t=this.moneyManager.getGiftReward();this.textGiftReward.element.text="$"+this.moneyDisplayFormatter.roundFormatEveryThirdPowerAsString(t)}},UiBottom.prototype.enableTimer=function(){this.btnGift.element.width=100,this.imgGift.element.anchor=new pc.Vec4(.1,.5,.1,.5),this.imgGift.element.pivot=new pc.Vec2(0,.5),this.textGiftDuration.enabled=!0},UiBottom.prototype.resetGiftButton=function(){this.btnGift.element.width=50,this.imgGift.element.anchor=new pc.Vec4(.5,.5,.5,.5),this.imgGift.element.pivot=new pc.Vec2(.5,.5),this.textGiftDuration.enabled=!1},UiBottom.prototype.removeEvents=function(){this.btnTimeMachine.off("click",this.onClickTimeMachine,this),this.btnGift.button.off("click",this.onClickGift,this)};var AdsSaveManager=pc.createScript("adsSaveManager");AdsSaveManager.attributes.add("loadData",{type:"boolean",title:"Load Data?",default:!0}),AdsSaveManager.prototype.initialize=function(){this.ads=this.app.root.findByName("Ads Holder").script.ads},AdsSaveManager.prototype.saveAds=function(){localStorage.setItem("canWatchTimeMachineAd",this.ads.canWatchTimeMachineAd),localStorage.setItem("canWatchGiftAd",this.ads.canWatchGiftAd),localStorage.setItem("canWatchChest1Ad",this.ads.canWatchChest1Ad),localStorage.setItem("canWatchChest2Ad",this.ads.canWatchChest2Ad),localStorage.setItem("canWatchChest3Ad",this.ads.canWatchChest3Ad),localStorage.setItem("timeMachineDuration",this.ads.timeMachineDuration),localStorage.setItem("giftDuration",this.ads.giftDuration),localStorage.setItem("chest1Duration",this.ads.chest1Duration),localStorage.setItem("chest2Duration",this.ads.chest2Duration),localStorage.setItem("chest3Duration",this.ads.chest3Duration),localStorage.setItem("chest1AdsToWatch",this.ads.chest1AdsToWatch),localStorage.setItem("chest2AdsToWatch",this.ads.chest2AdsToWatch),localStorage.setItem("chest3AdsToWatch",this.ads.chest3AdsToWatch),localStorage.setItem("timeMachineAdsToWatch",this.ads.timeMachineAdsToWatch),localStorage.setItem("hoursElapsedInTotal",this.ads.hoursElapsedInTotal),localStorage.setItem("lastDate",new Date)},AdsSaveManager.prototype.loadAds=function(){localStorage.getItem("canWatchTimeMachineAd")&&(this.ads.canWatchTimeMachineAd="true"===localStorage.getItem("canWatchTimeMachineAd")),localStorage.getItem("canWatchGiftAd")&&(this.ads.canWatchGiftAd="true"===localStorage.getItem("canWatchGiftAd")),localStorage.getItem("canWatchChest1Ad")&&(this.ads.canWatchChest1Ad="true"===localStorage.getItem("canWatchChest1Ad")),localStorage.getItem("canWatchChest2Ad")&&(this.ads.canWatchChest2Ad="true"===localStorage.getItem("canWatchChest2Ad")),localStorage.getItem("canWatchChest3Ad")&&(this.ads.canWatchChest3Ad="true"===localStorage.getItem("canWatchChest3Ad")),localStorage.getItem("timeMachineDuration")&&(this.ads.timeMachineDuration=parseFloat(localStorage.getItem("timeMachineDuration"))),localStorage.getItem("giftDuration")&&(this.ads.giftDuration=parseFloat(localStorage.getItem("giftDuration"))),localStorage.getItem("chest1Duration")&&(this.ads.chest1Duration=parseFloat(localStorage.getItem("chest1Duration"))),localStorage.getItem("chest2Duration")&&(this.ads.chest2Duration=parseFloat(localStorage.getItem("chest2Duration"))),localStorage.getItem("chest3Duration")&&(this.ads.chest3Duration=parseFloat(localStorage.getItem("chest3Duration"))),localStorage.getItem("chest1AdsToWatch")&&(this.ads.chest1AdsToWatch=parseInt(localStorage.getItem("chest1AdsToWatch"))),localStorage.getItem("chest2AdsToWatch")&&(this.ads.chest2AdsToWatch=parseInt(localStorage.getItem("chest2AdsToWatch"))),localStorage.getItem("chest3AdsToWatch")&&(this.ads.chest3AdsToWatch=parseInt(localStorage.getItem("chest3AdsToWatch"))),localStorage.getItem("timeMachineAdsToWatch")&&(this.ads.timeMachineAdsToWatch=parseInt(localStorage.getItem("timeMachineAdsToWatch"))),localStorage.getItem("hoursElapsedInTotal")&&(this.ads.hoursElapsedInTotal=parseFloat(localStorage.getItem("hoursElapsedInTotal"))),localStorage.getItem("lastDate")&&(this.ads.lastDate=new Date(localStorage.getItem("lastDate")))};var LoadingScreen=pc.createScript("loadingScreen");LoadingScreen.attributes.add("logoImages",{type:"asset",assetType:"texture",array:!0,title:"Logo Images"}),LoadingScreen.attributes.add("shopImages",{type:"asset",assetType:"texture",array:!0,title:"Shop Images"}),LoadingScreen.attributes.add("switchShopDuration",{type:"number",title:"Switch Shop Image Duration",default:.5}),LoadingScreen.prototype.initialize=function(){this.imgLogo=this.app.root.findByName("img_logo").element,this.imgShop=this.app.root.findByName("img_shop").element,this.canvas2D=this.app.root.findByName("Canvas").screen,this.canvas2D.screenSpace=!1,this.index=0,this.currentLogoIndex=0,this.switchShopTimer=0,this.lastSwitchLogoTimer=.3,this.switchLogoTimer=.3,this.animateShopImage()},LoadingScreen.prototype.update=function(t){this.switchShopTimer<=0?(this.animateShopImage(),this.switchShopTimer=this.switchShopDuration):this.switchShopTimer-=t,this.switchLogoTimer>0&&(this.switchLogoTimer-=t,this.switchLogoTimer<=0&&this.animateLogoImage())},LoadingScreen.prototype.animateShopImage=function(){this.index>=this.shopImages.length&&(this.index=0),this.imgShop.textureAsset=this.shopImages[this.index],this.index++},LoadingScreen.prototype.animateLogoImage=function(){0===this.currentLogoIndex?this.currentLogoIndex=1:this.currentLogoIndex=0,this.imgLogo.textureAsset=this.logoImages[this.currentLogoIndex],this.lastSwitchLogoTimer-=.1,this.switchLogoTimer=this.lastSwitchLogoTimer};var Tutorial=pc.createScript("tutorial");Tutorial.attributes.add("tut1",{type:"entity",title:"Tut 1"}),Tutorial.attributes.add("tut2",{type:"entity",title:"Tut 2"}),Tutorial.attributes.add("tut3",{type:"entity",title:"Tut 3"}),Tutorial.attributes.add("tut4",{type:"entity",title:"Tut 4"}),Tutorial.attributes.add("tut5",{type:"entity",title:"Tut 5"}),Tutorial.attributes.add("tut6",{type:"entity",title:"Tut 6"}),Tutorial.attributes.add("tut7",{type:"entity",title:"Tut 7"}),Tutorial.attributes.add("tut8",{type:"entity",title:"Tut 8"}),Tutorial.attributes.add("txtTut1",{type:"entity",title:"Tut 1 Text"}),Tutorial.attributes.add("txtTut2",{type:"entity",title:"Tut 2 Text"}),Tutorial.attributes.add("txtTut3",{type:"entity",title:"Tut 3 Text"}),Tutorial.attributes.add("txtTut4",{type:"entity",title:"Tut 4 Text"}),Tutorial.attributes.add("txtTut5",{type:"entity",title:"Tut 5 Text"}),Tutorial.attributes.add("txtTut6",{type:"entity",title:"Tut 6 Text"}),Tutorial.attributes.add("txtTut7",{type:"entity",title:"Tut 7 Text"}),Tutorial.attributes.add("txtTut8",{type:"entity",title:"Tut 8 Text"}),Tutorial.attributes.add("tut1Arrow",{type:"entity",title:"Tut 1 Arrow"}),Tutorial.attributes.add("tut2Arrow",{type:"entity",title:"Tut 2 Arrow"}),Tutorial.attributes.add("tut3Arrow",{type:"entity",title:"Tut 3 Arrow"}),Tutorial.attributes.add("tut4Arrow",{type:"entity",title:"Tut 4 Arrow"}),Tutorial.attributes.add("tut5Arrow",{type:"entity",title:"Tut 5 Arrow"}),Tutorial.attributes.add("tut6Arrow",{type:"entity",title:"Tut 6 Arrow"}),Tutorial.attributes.add("tut7Arrow",{type:"entity",title:"Tut 7 Arrow"}),Tutorial.attributes.add("tut8Arrow",{type:"entity",title:"Tut 8 Arrow"}),Tutorial.attributes.add("carpetSpawner",{type:"entity",title:"Carpet Spawner 1"}),Tutorial.attributes.add("btnOpenHairstylesUpgrades",{type:"entity",title:"Upgrade Hairstyles Button"}),Tutorial.attributes.add("btnCity",{type:"entity",title:"City Button"}),Tutorial.attributes.add("btnTimeMachine",{type:"entity",title:"Time Machine Button"}),Tutorial.attributes.add("btnGift",{type:"entity",title:"Gift Button"}),Tutorial.attributes.add("imagesHs",{type:"asset",assetType:"sprite",array:!0}),Tutorial.attributes.add("imagesWoldMap",{type:"asset",assetType:"sprite",array:!0}),Tutorial.prototype.initialize=function(){this.tutorialSaveManager=this.app.root.findByName("@Tutorial Save Manager").script.tutorialSaveManager,this.ads=this.app.root.findByName("Ads Holder").script.ads,this.isTut1Finished=!1,this.isTut2Finished=!1,this.isTut3Finished=!1,this.isTut4Finished=!1,this.isTut5Finished=!1,this.isTut6Finished=!1,this.isTut7Finished=!1,this.isTut8Finished=!1,this.isTutorialFinished=!1;try{this.tutorialSaveManager.loadTutorial()}catch(t){console.log(t)}this.tut1Goal=5,this.tut2Goal=5,this.tut3Goal=1,this.tut4Goal=1,this.tut5Goal=1,this.tut6Goal=1,this.tut7Goal=1,this.tut8Goal=1,this.updateUiButtons(),!1===this.isTut8Finished&&(this.btnTimeMachine.enabled=!1,this.btnGift.enabled=!1,this.beginTutorialCountdown(3e3))},Tutorial.prototype.beginTutorialCountdown=function(t){var i=this;setTimeout((function(){i.checkForTutorials()}),t)},Tutorial.prototype.checkForTutorials=function(){if(!this.isTutorialFinished)if(!1!==this.isTut1Finished)if(this.isTut1Finished&&!1===this.isTut2Finished)this.triggerTutorial(this.tut2,this.tut2Arrow);else if(this.isTut1Finished&&this.isTut2Finished&&!1===this.isTut3Finished)this.triggerTutorial(this.tut3,this.tut3Arrow);else{if(!(this.isTut1Finished&&this.isTut2Finished&&this.isTut3Finished&&!1===this.isTut4Finished&&this.carpetSpawner.script.carpetSpawner.checkIfAvailableToPurchase()))return this.isTut1Finished&&this.isTut2Finished&&this.isTut3Finished&&this.isTut4Finished&&!1===this.isTut5Finished?(this.triggerTutorial(this.tut5,this.tut5Arrow),this.btnOpenHairstylesUpgrades.button.active=!0,this.btnOpenHairstylesUpgrades.element.useInput=!0,void(this.btnOpenHairstylesUpgrades.element.sprite=this.imagesHs[1].resource)):void(this.isTut1Finished&&this.isTut2Finished&&this.isTut3Finished&&this.isTut4Finished&&this.isTut5Finished&&!1===this.isTut6Finished?this.triggerTutorial(this.tut6,this.tut6Arrow):this.isTut1Finished&&this.isTut2Finished&&this.isTut3Finished&&this.isTut4Finished&&this.isTut5Finished&&this.isTut6Finished&&!1===this.isTut7Finished&&this.triggerTutorial(this.tut7,this.tut7Arrow));this.triggerTutorial(this.tut4,this.tut4Arrow)}else this.triggerTutorial(this.tut1,this.tut1Arrow)},Tutorial.prototype.checkLastTutorial=function(){if(!this.isTutorialFinished)return this.isTut1Finished&&this.isTut2Finished&&this.isTut3Finished&&this.isTut4Finished&&this.isTut5Finished&&this.isTut6Finished&&this.isTut7Finished&&!1===this.isTut8Finished?(this.triggerTutorial(this.tut8,this.tut8Arrow),this.isTutorialFinished=!0,this.isTut8Finished=!0,this.btnCity.button.active=!0,this.btnCity.element.useInput=!0,this.btnCity.element.sprite=this.imagesWoldMap[1].resource,void this.tutorialSaveManager.saveTutorial()):void 0},Tutorial.prototype.triggerTutorial=function(t,i){t.enabled=!0,i.enabled=!0},Tutorial.prototype.checkTutorialStates=function(){!1===this.isTut1Finished&&(this.txtTut1.element.text="Click on the doormat "+this.tut1Goal+" more times to invite in more customers!",this.tut1Goal<=0&&(this.isTut1Finished=!0,this.tut1.enabled&&(this.tut1.enabled=!1),this.tut1Arrow.enabled&&(this.tut1Arrow.enabled=!1),this.beginTutorialCountdown(4e3),this.tutorialSaveManager.saveTutorial())),!1===this.isTut2Finished&&(this.txtTut2.element.text="Click on the chair's line carpet "+this.tut2Goal+" more times to serve customers quicker!",this.tut2Goal<=0&&(this.isTut2Finished=!0,this.tut2.enabled&&(this.tut2.enabled=!1),this.tut2Arrow.enabled&&(this.tut2Arrow.enabled=!1),this.beginTutorialCountdown(4e3),this.tutorialSaveManager.saveTutorial())),!1===this.isTut3Finished&&this.tut3Goal<=0&&(this.isTut3Finished=!0,this.tut3.enabled&&(this.tut3.enabled=!1),this.tut3Arrow.enabled&&(this.tut3Arrow.enabled=!1),this.beginTutorialCountdown(4e3),this.tutorialSaveManager.saveTutorial()),!1===this.isTut4Finished&&this.tut4Goal<=0&&(this.isTut4Finished=!0,this.tut4.enabled&&(this.tut4.enabled=!1),this.tut4Arrow.enabled&&(this.tut4Arrow.enabled=!1),this.beginTutorialCountdown(6e3),this.tutorialSaveManager.saveTutorial(),this.ads.openTutAdPanel()),!1===this.isTut5Finished&&this.tut5Goal<=0&&(this.isTut5Finished=!0,this.tut5.enabled&&(this.tut5.enabled=!1),this.tut5Arrow.enabled&&(this.tut5Arrow.enabled=!1),this.beginTutorialCountdown(4e3),this.tutorialSaveManager.saveTutorial()),!1===this.isTut6Finished&&this.tut6Goal<=0&&(this.isTut6Finished=!0,this.tut6.enabled&&(this.tut6.enabled=!1),this.tut6Arrow.enabled&&(this.tut6Arrow.enabled=!1),this.beginTutorialCountdown(4e3),this.tutorialSaveManager.saveTutorial()),!1===this.isTut7Finished&&this.tut7Goal<=0&&(this.isTut7Finished=!0,this.tut7.enabled&&(this.tut7.enabled=!1),this.tut7Arrow.enabled&&(this.tut7Arrow.enabled=!1),this.tutorialSaveManager.saveTutorial()),!1===this.isTut8Finished&&this.tut8Goal<=0&&(this.isTut8Finished=!0,this.tut8.enabled&&(this.tut8.enabled=!1),this.tut8Arrow.enabled&&(this.tut8Arrow.enabled=!1),this.tutorialSaveManager.saveTutorial())},Tutorial.prototype.updateUiButtons=function(){!1===this.isTut5Finished?(this.btnOpenHairstylesUpgrades.button.active=!1,this.btnOpenHairstylesUpgrades.element.useInput=!1,this.btnOpenHairstylesUpgrades.element.sprite=this.imagesHs[0].resource):(this.btnOpenHairstylesUpgrades.button.active=!0,this.btnOpenHairstylesUpgrades.element.useInput=!0,this.btnOpenHairstylesUpgrades.element.sprite=this.imagesHs[1].resource),!1===this.isTut8Finished?(this.btnCity.button.active=!1,this.btnCity.element.useInput=!1,this.btnCity.element.sprite=this.imagesWoldMap[0].resource):(this.btnCity.button.active=!0,this.btnCity.element.useInput=!0,this.btnCity.element.sprite=this.imagesWoldMap[1].resource)};var TutorialSaveManager=pc.createScript("tutorialSaveManager");TutorialSaveManager.prototype.initialize=function(){this.tutorial=this.app.root.findByName("Tutorial").script.tutorial},TutorialSaveManager.prototype.saveTutorial=function(){try{localStorage.setItem("isTut1Finished",this.tutorial.isTut1Finished),localStorage.setItem("isTut2Finished",this.tutorial.isTut2Finished),localStorage.setItem("isTut3Finished",this.tutorial.isTut3Finished),localStorage.setItem("isTut4Finished",this.tutorial.isTut4Finished),localStorage.setItem("isTut5Finished",this.tutorial.isTut5Finished),localStorage.setItem("isTut6Finished",this.tutorial.isTut6Finished),localStorage.setItem("isTut7Finished",this.tutorial.isTut7Finished),localStorage.setItem("isTut8Finished",this.tutorial.isTut8Finished),localStorage.setItem("isTutorialFinished",this.tutorial.isTutorialFinished)}catch(t){console.log(t)}},TutorialSaveManager.prototype.loadTutorial=function(){try{localStorage.getItem("isTut1Finished")&&(this.tutorial.isTut1Finished="true"===localStorage.getItem("isTut1Finished")),localStorage.getItem("isTut2Finished")&&(this.tutorial.isTut2Finished="true"===localStorage.getItem("isTut2Finished")),localStorage.getItem("isTut3Finished")&&(this.tutorial.isTut3Finished="true"===localStorage.getItem("isTut3Finished")),localStorage.getItem("isTut4Finished")&&(this.tutorial.isTut4Finished="true"===localStorage.getItem("isTut4Finished")),localStorage.getItem("isTut5Finished")&&(this.tutorial.isTut5Finished="true"===localStorage.getItem("isTut5Finished")),localStorage.getItem("isTut6Finished")&&(this.tutorial.isTut6Finished="true"===localStorage.getItem("isTut6Finished")),localStorage.getItem("isTut7Finished")&&(this.tutorial.isTut7Finished="true"===localStorage.getItem("isTut7Finished")),localStorage.getItem("isTut8Finished")&&(this.tutorial.isTut8Finished="true"===localStorage.getItem("isTut8Finished")),localStorage.getItem("isTutorialFinished")&&(this.tutorial.isTutorialFinished="true"===localStorage.getItem("isTutorialFinished"))}catch(t){console.log(t)}};var Arrow=pc.createScript("arrow");Arrow.attributes.add("maxPos",{type:"number",title:"Max Y Position"}),Arrow.attributes.add("minPos",{type:"number",title:"Min Y Position"}),Arrow.attributes.add("duration",{type:"number",title:"Duration",default:1}),Arrow.prototype.initialize=function(){this.moveDown(),this.newPos=new pc.Vec3},Arrow.prototype.moveDown=function(){this.tween&&this.tween.stop(),this.newPos=new pc.Vec3(this.entity.getLocalPosition().x,this.entity.getLocalPosition().y+this.minPos,this.entity.getLocalPosition().z),this.tween=this.entity.tween(this.entity.getLocalPosition()).to(this.newPos,this.duration,pc.SineInOut).on("complete",(()=>this.moveUp())),this.tween.start()},Arrow.prototype.moveUp=function(){this.tween&&this.tween.stop(),this.newPos=new pc.Vec3(this.entity.getLocalPosition().x,this.entity.getLocalPosition().y+this.maxPos,this.entity.getLocalPosition().z),this.tween=this.entity.tween(this.entity.getLocalPosition()).to(this.newPos,this.duration,pc.SineInOut).on("complete",(()=>this.moveDown())),this.tween.start()};var DisableAllPanels=pc.createScript("disableAllPanels");DisableAllPanels.prototype.initialize=function(){this.panelController=this.app.root.findByName("@Panel Controller").script.panelController,this.closeButtonChairUpgrades=this.app.root.findByName("Button_close_chair_upgrades").script.closeButtonChairUpgrades,this.button=this.entity.button,this.button.on(pc.EVENT_MOUSEDOWN,this.onDisableOpenPanels,this),this.button.on("touchstart",this.onDisableOpenPanels,this)},DisableAllPanels.prototype.onDisableOpenPanels=function(){try{if(0===parseInt(localStorage.getItem("input")))return}catch(t){console.log(t)}this.panelController.closeAllPanels(),this.closeButtonChairUpgrades&&this.closeButtonChairUpgrades.disableSelectedChairButtonEvents()},DisableAllPanels.prototype.removeEvents=function(){this.button.off(pc.EVENT_MOUSEDOWN,this.onDisableOpenPanels,this),this.button.off("touchstart",this.onDisableOpenPanels,this)};var TutorialPlanet=pc.createScript("tutorialPlanet");TutorialPlanet.attributes.add("tut",{type:"entity",title:"Tutorial Panel"}),TutorialPlanet.prototype.initialize=function(){this.btnPlanetDisabled=this.app.root.findByName("btn_planet_disabled"),this.btnPlanetEnabled=this.app.root.findByName("btn_planet"),this.levelController=this.app.root.findByName("@Level Controller").script.levelController,this.savePrefix=this.levelController.getLevelPrefix();try{if(localStorage.getItem("isPlanetTutorialFinished"))return this.btnPlanetDisabled.enabled=!1,void(this.btnPlanetEnabled.enabled=!0)}catch(t){console.log(t)}try{localStorage.getItem(this.savePrefix+"isPurchasedShop 3")&&"true"===localStorage.getItem(this.savePrefix+"isPurchasedShop 3")&&(this.btnPlanetDisabled.enabled=!1,this.btnPlanetEnabled.enabled=!0,this.enableTutorial())}catch(t){console.log(t)}},TutorialPlanet.prototype.enableTutorial=function(){this.tut.enabled=!0;try{localStorage.setItem("isPlanetTutorialFinished",!0)}catch(t){console.log(t)}};var CityPicker=pc.createScript("cityPicker");CityPicker.prototype.initialize=function(){this.app.mouse.on(pc.EVENT_MOUSEDOWN,this.onSelect,this),this.app.touch&&this.app.touch.on(pc.EVENT_TOUCHSTART,this.onTouchStart,this),this.panelController=this.app.root.findByName("@Panel Controller").script.panelController,this.cameraMovementButtons=this.app.root.findByName("ui_camera_move_buttons").script.cameraMovementButtons},CityPicker.prototype.onTouchStart=function(t){1==t.touches.length&&(this.onSelect(t.touches[0]),t.event.preventDefault())},CityPicker.prototype.onSelect=function(t){if(!this.panelController.isPanelOpen()&&!this.cameraMovementButtons.isHoldingButton){try{if(0===parseInt(localStorage.getItem("input")))return}catch(t){console.log(t)}var e=this.entity.camera.screenToWorld(t.x,t.y,this.entity.camera.nearClip),i=this.entity.camera.screenToWorld(t.x,t.y,this.entity.camera.farClip);this.panelController;this.app.systems.rigidbody.raycastFirst(e,i,(function(t){var e=t.entity;e.script&&e.script.city&&e.script.city.goToCity()}))}},CityPicker.prototype.removeEvents=function(){this.app.mouse.off(pc.EVENT_MOUSEDOWN,this.onSelect,this),this.app.touch&&this.app.touch.off(pc.EVENT_TOUCHSTART,this.onSelect,this)};var City=pc.createScript("city");City.attributes.add("id",{type:"number",title:"ID"}),City.attributes.add("sceneName",{type:"string",title:"Scene To Load Name"}),City.attributes.add("isLocked",{type:"boolean",title:"Is Locked?"}),City.attributes.add("pin",{type:"entity",title:"Pin"}),City.attributes.add("unlockedModel",{type:"entity",title:"Unlocked Model"}),City.attributes.add("lockedModel",{type:"entity",title:"Locked Model"}),City.prototype.initialize=function(){this.sceneManager=this.app.root.findByName("@Scene Manager").script.sceneManager;try{this.isLocked&&localStorage.getItem("City "+this.id)&&(this.isLocked=!1)}catch(t){console.log(t)}try{if(localStorage.getItem("lastCity"))parseInt(localStorage.getItem("lastCity"))===this.id?this.pin.enabled=!0:this.pin.enabled=!1}catch(t){console.log(t)}this.isLocked?(this.unlockedModel.enabled=!1,this.lockedModel.enabled=!0):(this.unlockedModel.enabled=!0,this.lockedModel.enabled=!1)},City.prototype.goToCity=function(){if(!this.isLocked){this.sceneManager.loadSceneWithName(this.sceneName);try{localStorage.setItem("lastCity",this.id)}catch(t){console.log(t)}}};var Pin=pc.createScript("pin");Pin.attributes.add("duration",{type:"number",title:"Pin Animation Duration",default:2}),Pin.attributes.add("sizeToAdd",{type:"number",title:"Size to Add",default:5}),Pin.prototype.initialize=function(){this.tween&&this.tween.stop();var t=new pc.Vec3(this.entity.getLocalScale().x+this.sizeToAdd,this.entity.getLocalScale().y+this.sizeToAdd,this.entity.getLocalScale().z+this.sizeToAdd);this.tween=this.entity.tween(this.entity.getLocalScale()).to(t,this.duration,pc.QuadraticInOut).loop(!0).yoyo(!0),this.tween.start()};var PokiSdk=pc.createScript("pokiSdk");PokiSdk.prototype.initialize=function(){PokiSDK.init().then(startLoading).catch((()=>{startLoading()})),PokiSDK.init().then((()=>{startLoading()})).catch((()=>{startLoading()}))};var startLoading=function(){PokiSDK.gameLoadingStart()},loadingComplete=function(){PokiSDK.gameLoadingFinished(),PokiSDK.commercialBreak().then((()=>{PokiSDK.gameplayStart(),startGame()}))},startGame=function(){console.log("Starting a new round!"),PokiSDK.happyTime(.8),PokiSDK.gameplayStop(),PokiSDK.rewardedBreak().then((a=>{a&&PokiSDK.gameplayStart()}))},restartLevel=function(){pauseGame(),PokiSDK.gameplayStop(),PokiSDK.commercialBreak().then((()=>{unPauseGame(),PokiSDK.gameplayStart(),startGame()}))};window.addEventListener("keydown",(a=>{["ArrowDown","ArrowUp"," "].includes(a.key)&&a.preventDefault()})),window.addEventListener("wheel",(a=>a.preventDefault()),{passive:!1});var PokiSdkFunctions=pc.createScript("pokiSdkFunctions"),startLoading=function(){PokiSDK.gameLoadingStart()},loadingComplete=function(){PokiSDK.gameLoadingFinished(),PokiSDK.commercialBreak().then((()=>{PokiSDK.gameplayStart(),startGame()}))},startGame=function(){console.log("Starting a new round!"),PokiSDK.happyTime(.8),PokiSDK.gameplayStop(),PokiSDK.rewardedBreak().then((a=>{a&&PokiSDK.gameplayStart()}))},restartLevel=function(){pauseGame(),PokiSDK.gameplayStop(),PokiSDK.commercialBreak().then((()=>{unPauseGame(),PokiSDK.gameplayStart(),startGame()}))};